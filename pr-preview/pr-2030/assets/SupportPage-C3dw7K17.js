import{f0 as D,gl as I,fW as O,gm as k,eU as P,dX as c,d_ as a,d$ as i,gn as $,e2 as j,go as d,gp as F,gq as L,em as W,e9 as K,e$ as N,__tla as R}from"./index-R5rj5rOD.js";import{c as V,a as t,u as A,__tla as B}from"./index.esm-CRglhX7Z.js";let f,U=Promise.all([(()=>{try{return R}catch{}})(),(()=>{try{return B}catch{}})()]).then(async()=>{let u,m,n,g,h,p,b;u=s=>s,m=async s=>{const l=await D({method:"POST",url:`${I}/mailing/send_mail`,data:s,headers:{"Content-Type":"application/json"}});return u(l.data)},n=[{label:"Support",value:"Support"},{label:"Integrate",value:"Integrate"},{label:"Others",value:"Others"}],g=()=>O({mutationKey:[k],mutationFn:m}),h=V({name:t().required("Name is required"),email:t().email("Invalid E-mail address").required("E-mail is required"),topic:t().required("Topic is required"),subject:t().required("Subject is required"),message:t().required("Message is required")}),p=()=>{P.pageview("/support");const[s,l]=c.useState(0),[v,o]=c.useState(""),[S,x]=c.useState(!0),{mutate:y,isPending:r}=g(),e=A({initialValues:{name:"",email:"",topic:n[0].value,subject:"",message:""},validationSchema:S?h:null,onSubmit:()=>{q()}}),q=()=>{x(!1);const{name:w,email:C,topic:_,subject:M,message:E}=e.values;y({from:C,name:w,topic:_,sub:M,msg:E},{onSuccess:()=>{l(1),o("Message Sent! We will be in Touch :)"),e.resetForm(),x(!0)},onError:T=>{console.log("Error sending code",T),o("Error in sending mail, please try again later..."),l(2)}})};return a.jsx(i,{display:"flex",flexDirection:"column",width:"-webkit-fill-available",overflow:"scroll",height:"100%",padding:"spacing-sm spacing-none",children:a.jsxs(i,{display:"flex",flexDirection:"column",gap:"spacing-md",alignSelf:"center",width:"800px",children:[s>0&&a.jsx($,{variant:s===1?"success":"error",heading:s===1?"Success":"Error",description:v,onClose:()=>{l(0),o("")}}),a.jsx("form",{onSubmit:e.handleSubmit,children:a.jsxs(i,{display:"flex",flexDirection:"column",gap:"spacing-md",padding:"spacing-md spacing-lg",borderRadius:"radius-md",backgroundColor:"surface-primary",children:[a.jsxs(i,{alignSelf:"center",children:[a.jsx(j,{variant:"h2-semibold",color:"text-primary",children:"Support"}),a.jsx(j,{variant:"bm-regular",color:"text-secondary",children:"Let\u2019s get in touch!"})]}),a.jsxs(i,{display:"flex",flexDirection:"row",gap:"spacing-xs",children:[a.jsx(i,{width:"219px",children:a.jsx(d,{required:!0,label:"Name",value:e.values.name,onChange:e.handleChange("name"),error:e.touched.name&&!!e.errors.name,errorMessage:e.touched.name?e.errors.name:"",disabled:r})}),a.jsx(d,{required:!0,value:e.values.email,onChange:e.handleChange("email"),error:e.touched.email&&!!e.errors.email,errorMessage:e.touched.email?e.errors.email:"",label:"E-mail",disabled:r})]}),a.jsx(F,{required:!0,options:n,value:e.values.topic.length?e.values.topic:"",onSelect:e.handleChange("topic"),error:e.touched.topic&&!!e.errors.topic,errorMessage:e.touched.topic?e.errors.topic:"",label:"Topic",disabled:r}),a.jsx(d,{required:!0,value:e.values.subject,onChange:e.handleChange("subject"),error:e.touched.subject&&!!e.errors.subject,errorMessage:e.touched.subject?e.errors.subject:"",label:"Subject",placeholder:"I want to tell you guys a secret!",disabled:r}),a.jsx(L,{required:!0,placeholder:"This is where you will tell us that secret, or a bug or whatever is on your mind.",numberOfLines:12,value:e.values.message,onChange:e.handleChange("message"),error:e.touched.message&&!!e.errors.message,errorMessage:e.touched.message?e.errors.message:"",label:"Message",disabled:r}),a.jsx(W,{onClick:()=>e.handleSubmit(),variant:"tertiary",loading:r,disabled:r,children:r?"Submitting...":"Submit"})]})})]})})},f=()=>a.jsx(b,{children:a.jsx(p,{})}),b=K(N)`
  flex: 1;
  flex-direction: column;
  align-self: stretch;
  justify-content: flex-start;
`});export{U as __tla,f as default};
