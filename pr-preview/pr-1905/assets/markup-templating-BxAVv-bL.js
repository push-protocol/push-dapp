var f,_;function O(){if(_)return f;_=1,f=p,p.displayName="markupTemplating",p.aliases=[];function p(b){(function(c){function k(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(c.languages["markup-templating"]={},{buildPlaceholders:{value:function(e,t,i,s){if(e.language===t){var r=e.tokenStack=[];e.code=e.code.replace(i,function(o){if(typeof s=="function"&&!s(o))return o;for(var a=r.length,n;e.code.indexOf(n=k(t,a))!==-1;)++a;return r[a]=o,n}),e.grammar=c.languages.markup}}},tokenizePlaceholders:{value:function(e,t){if(e.language!==t||!e.tokenStack)return;e.grammar=c.languages[t];var i=0,s=Object.keys(e.tokenStack);function r(o){for(var a=0;a<o.length&&!(i>=s.length);a++){var n=o[a];if(typeof n=="string"||n.content&&typeof n.content=="string"){var m=s[i],d=e.tokenStack[m],g=typeof n=="string"?n:n.content,v=k(t,m),l=g.indexOf(v);if(l>-1){++i;var y=g.substring(0,l),S=new c.Token(t,c.tokenize(d,e.grammar),"language-"+t,d),h=g.substring(l+v.length),u=[];y&&u.push.apply(u,r([y])),u.push(S),h&&u.push.apply(u,r([h])),typeof n=="string"?o.splice.apply(o,[a,1].concat(u)):n.content=u}}else n.content&&r(n.content)}return o}r(e.tokens)}}})})(b)}return f}export{O as r};
