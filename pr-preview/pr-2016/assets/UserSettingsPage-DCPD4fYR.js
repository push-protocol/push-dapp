import{d_ as e,ei as He,eO as T,fc as Be,hm as Re,fW as ze,hn as Ge,er as Ve,gd as qe,ed as Je,ho as Ke,hp as We,dX as d,fU as Xe,d$ as p,e2 as D,hq as Ye,e3 as F,em as I,dV as U,gX as Qe,go as W,e9 as o,fa as X,hr as Y,dW as H,f5 as Q,hs as ee,ht as te,hu as et,gb as tt,eS as M,fp as at,fM as st,e4 as nt,hv as it,fg as rt,hw as lt,fh as ot,eV as $,gi as ae,hx as ct,h6 as dt,eX as B,gn as R,e0 as se,e1 as ne,hy as pt,ej as ht,dZ as xt,eZ as ut,eQ as _,eR as A,e$ as gt,__tla as mt}from"./index-CaxTSMQW.js";import{c as ft,a as ie,u as Lt,__tla as jt}from"./index.esm-DdN65Aq9.js";import{g as bt}from"./Common.form-Ds5bAxK4.js";import{u as yt,__tla as wt}from"./useDisclosure-DqpOByml.js";import{I as St,__tla as Ct}from"./ImageClipper-D7hXIFZh.js";import{c as Mt,__tla as _t}from"./cloneDeep-Dl-7EDKO.js";import{E as vt,__tla as Et}from"./EmptyNotificationSettings-CBHN2eBp.js";import{L as Dt,__tla as It}from"./LoaderSpinner-DzRkOL1K.js";import{U as kt,a as Ot,__tla as Nt}from"./UnlockProfileWrapper-DqNeLbat.js";import{u as Tt,A as $t,a as At,b as Pt,__tla as Zt}from"./useSocialHandles--1gR-LOg.js";import{__tla as Ut}from"./index.esm-D_kSFCbI.js";import{__tla as Ft}from"./CopyButton-Mi0k1jnt.js";import{__tla as Ht}from"./Copy-DvDPtg__.js";import{__tla as Bt}from"./Discord-CROs1LiL.js";let re,Rt=Promise.all([(()=>{try{return mt}catch{}})(),(()=>{try{return jt}catch{}})(),(()=>{try{return wt}catch{}})(),(()=>{try{return Ct}catch{}})(),(()=>{try{return _t}catch{}})(),(()=>{try{return Et}catch{}})(),(()=>{try{return It}catch{}})(),(()=>{try{return Nt}catch{}})(),(()=>{try{return Zt}catch{}})(),(()=>{try{return Ut}catch{}})(),(()=>{try{return Ft}catch{}})(),(()=>{try{return Ht}catch{}})(),(()=>{try{return Bt}catch{}})()]).then(async()=>{const le=t=>{const{svgProps:n,...i}=t;return e.jsx(He,{componentName:"CameraFilled",icon:e.jsx("svg",{width:"inherit",height:"inherit",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:e.jsx("path",{d:"M25.2308 8.15385H22.0346L20.4654 5.80001C20.3819 5.67131 20.2673 5.56576 20.1321 5.49315C19.997 5.42054 19.8457 5.38321 19.6923 5.38462H12.3077C12.1543 5.38321 12.003 5.42054 11.8679 5.49315C11.7327 5.56576 11.6181 5.67131 11.5346 5.80001L9.96538 8.15385H6.76923C6.03572 8.15689 5.33312 8.44962 4.81444 8.9683C4.29577 9.48697 4.00304 10.1896 4 10.9231V23.8462C4.00304 24.5797 4.29577 25.2823 4.81444 25.8009C5.33312 26.3196 6.03572 26.6124 6.76923 26.6154H25.2308C25.9643 26.6124 26.6669 26.3196 27.1856 25.8009C27.7042 25.2823 27.997 24.5797 28 23.8462V10.9231C27.997 10.1896 27.7042 9.48697 27.1856 8.9683C26.6669 8.44962 25.9643 8.15689 25.2308 8.15385ZM20.1538 16.9231C20.1538 17.7446 19.9102 18.5477 19.4538 19.2308C18.9974 19.9139 18.3486 20.4463 17.5896 20.7607C16.8306 21.0751 15.9954 21.1574 15.1896 20.9971C14.3839 20.8368 13.6437 20.4412 13.0628 19.8603C12.4819 19.2794 12.0862 18.5392 11.926 17.7335C11.7657 16.9277 11.848 16.0925 12.1623 15.3335C12.4767 14.5745 13.0092 13.9257 13.6922 13.4693C14.3753 13.0129 15.1784 12.7692 16 12.7692C17.1017 12.7692 18.1582 13.2069 18.9372 13.9859C19.7162 14.7649 20.1538 15.8214 20.1538 16.9231Z",fill:"currentColor"})}),...i})},oe=t=>t,ce=t=>t.profile.info().then(oe),de=async({userPushSDKInstance:t,name:n,desc:i,picture:u})=>await t.profile.update({name:n,desc:i||"",picture:u}),pe=t=>{const{userPushSDKInstance:n}=T(i=>i.user);return Be({queryKey:[Re,n==null?void 0:n.account],queryFn:()=>ce(n),...t})},he=()=>ze({mutationKey:[Ge],mutationFn:de}),xe=t=>{const{svgProps:n,...i}=t;return e.jsx(Ve,{componentName:"Metamask",illustration:e.jsxs("svg",{width:i.width??"40",height:i.height??"39",viewBox:"0 0 43 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[e.jsx("path",{d:"M39.9998 0.674622L23.5776 12.968L26.6208 5.72021L39.9998 0.674622Z",fill:"#E27625"}),e.jsx("path",{d:"M2.0835 0.674622L18.3685 13.0795L15.4625 5.72021L2.0835 0.674622Z",fill:"#E27625"}),e.jsx("path",{d:"M34.1053 29.1919L29.7188 35.9379L39.095 38.5583L41.7818 29.3313L34.1053 29.1919Z",fill:"#E27625"}),e.jsx("path",{d:"M0.356445 29.3313L3.01579 38.5583L12.3646 35.9379L8.00549 29.1919L0.356445 29.3313Z",fill:"#E27625"}),e.jsx("path",{d:"M11.8711 17.7627L9.2666 21.749L18.5332 22.1671L18.2316 12.0759L11.8711 17.7627Z",fill:"#E27625"}),e.jsx("path",{d:"M30.2397 17.7627L23.7695 11.9644L23.5776 22.1671L32.8442 21.7489L30.2397 17.7627Z",fill:"#E27625"}),e.jsx("path",{d:"M12.3647 35.9379L17.985 33.206L13.1324 29.4149L12.3647 35.9379Z",fill:"#E27625"}),e.jsx("path",{d:"M24.126 33.206L29.7188 35.9379L28.9512 29.4149L24.126 33.206Z",fill:"#E27625"}),e.jsx("path",{d:"M29.7188 35.9379L24.126 33.206L24.592 36.8856L24.5372 38.4467L29.7188 35.9379Z",fill:"#D7C1B3"}),e.jsx("path",{d:"M12.3647 35.9379L17.5738 38.4467L17.5464 36.8856L17.985 33.206L12.3647 35.9379Z",fill:"#D7C1B3"}),e.jsx("path",{d:"M17.6558 26.9619L13.0225 25.5959L16.3124 24.0627L17.6558 26.9619Z",fill:"#2F343B"}),e.jsx("path",{d:"M24.4277 26.9619L25.7985 24.0627L29.0884 25.5959L24.4277 26.9619Z",fill:"#2F343B"}),e.jsx("path",{d:"M12.3645 35.9379L13.187 29.1919L8.00537 29.3313L12.3645 35.9379Z",fill:"#CC6228"}),e.jsx("path",{d:"M28.9238 29.1919L29.7189 35.9379L34.1054 29.3313L28.9238 29.1919Z",fill:"#CC6228"}),e.jsx("path",{d:"M32.8442 21.749L23.5776 22.1671L24.4275 26.9618L25.7983 24.0627L29.0882 25.5959L32.8442 21.749Z",fill:"#CC6228"}),e.jsx("path",{d:"M13.0226 25.5959L16.3125 24.0627L17.6559 26.9618L18.5332 22.1671L9.2666 21.749L13.0226 25.5959Z",fill:"#CC6228"}),e.jsx("path",{d:"M9.2666 21.749L13.1322 29.4149L13.0226 25.5959L9.2666 21.749Z",fill:"#E27625"}),e.jsx("path",{d:"M29.0883 25.5959L28.9512 29.4149L32.8442 21.749L29.0883 25.5959Z",fill:"#E27625"}),e.jsx("path",{d:"M18.5331 22.1672L17.6558 26.9619L18.7524 32.6486L18.9991 25.1778L18.5331 22.1672Z",fill:"#E27625"}),e.jsx("path",{d:"M23.5779 22.1672L23.1118 25.1499L23.3311 32.6486L24.4278 26.9619L23.5779 22.1672Z",fill:"#E27625"}),e.jsx("path",{d:"M24.4277 26.9619L23.3311 32.6486L24.1261 33.2061L28.9513 29.415L29.0884 25.5959L24.4277 26.9619Z",fill:"#F5841F"}),e.jsx("path",{d:"M13.0225 25.5959L13.1321 29.415L17.9847 33.2061L18.7524 32.6486L17.6558 26.9619L13.0225 25.5959Z",fill:"#F5841F"}),e.jsx("path",{d:"M24.5374 38.4468L24.5922 36.8857L24.1536 36.5233H17.9302L17.5464 36.8857L17.5738 38.4468L12.3647 35.9379L14.1742 37.4432L17.8753 40.0357H24.2084L27.9096 37.4432L29.719 35.9379L24.5374 38.4468Z",fill:"#C0AD9E"}),e.jsx("path",{d:"M24.1262 33.206L23.3311 32.6485H18.7527L17.985 33.206L17.5464 36.8857L17.9302 36.5233H24.1536L24.5923 36.8857L24.1262 33.206Z",fill:"#2F343B"}),e.jsx("path",{d:"M40.7126 13.7764L42.0834 6.97463L39.9998 0.674622L24.126 12.5499L30.2397 17.7627L38.8757 20.3273L40.7674 18.0693L39.945 17.4561L41.2609 16.2574L40.2465 15.449L41.5625 14.4454L40.7126 13.7764Z",fill:"#763E1A"}),e.jsx("path",{d:"M0 6.97469L1.39821 13.7765L0.520902 14.4455L1.83687 15.4769L0.822478 16.2575L2.13844 17.4561L1.31596 18.0694L3.23508 20.3274L11.8711 17.7628L17.9848 12.5499L2.08361 0.674683L0 6.97469Z",fill:"#763E1A"}),e.jsx("path",{d:"M38.8757 20.3273L30.2397 17.7627L32.8442 21.749L28.9512 29.4149L34.1054 29.3313H41.7818L38.8757 20.3273Z",fill:"#F5841F"}),e.jsx("path",{d:"M11.8711 17.7627L3.23512 20.3273L0.356445 29.3313H8.00549L13.1323 29.4149L9.26662 21.749L11.8711 17.7627Z",fill:"#F5841F"}),e.jsx("path",{d:"M23.5775 22.1671L24.1258 12.5499L26.6207 5.72021H15.4624L17.9847 12.5499L18.533 22.1671L18.7523 25.1778V32.6486H23.3308L23.3582 25.1778L23.5775 22.1671Z",fill:"#F5841F"})]}),...i})},ue=async({channel:t})=>{try{return await qe.channels.getChannel({channel:t,env:Je.appEnv})}catch(n){throw console.error(n),new Error(n.message)}},ge=async({userCaipAddress:t})=>{var i,u;const n=We.userSubscriptions(t);try{return(u=(i=await Ke(n))==null?void 0:i.data)==null?void 0:u.subscriptions}catch(x){throw new Error(x.message)}},me=ft({displayName:ie().max(50,"Display Name cannot exceed 50 characters").required(bt("Display Name")),desc:ie().max(150,"Bio cannot exceed 150 characters").nullable()}),fe=t=>Lt({initialValues:{displayName:"",picture:null,desc:""},validationSchema:me,onSubmit:t}),Le=({formValues:t,setFieldValue:n,modalControl:i})=>{const{isOpen:u,onClose:x}=i,s=d.useRef(null),[g,b]=d.useState(t.picture),S=async r=>{var L;const l=(L=r.currentTarget.files)==null?void 0:L[0];b(void 0),l&&await a(l)},y=async r=>{var L;r.preventDefault(),r.stopPropagation(),b(void 0);const l=(L=r.dataTransfer.files)==null?void 0:L[0];l&&await a(l)},a=async r=>{const l=new FileReader;l.readAsDataURL(r),l.onloadend=()=>{n("picture",l.result)}};return e.jsxs(Xe,{size:"medium",isOpen:u,onClose:x,acceptButtonProps:null,cancelButtonProps:null,children:[e.jsxs(p,{display:"flex",flexDirection:"column",alignItems:"center",gap:"spacing-lg",children:[e.jsx(D,{variant:"bes-regular",color:"text-tertiary",children:"Upload a PNG, JPG up to 1MB. Crop the image to resize to 128px."}),e.jsx(Ye,{id:"file-upload",onChange:S,onDrop:y,children:e.jsxs(p,{width:{initial:"500px",ml:"325px"},padding:"spacing-xxl spacing-none",display:"flex",flexDirection:"column",alignItems:"center",border:"border-sm dashed stroke-tertiary",borderRadius:"radius-md",backgroundColor:"surface-secondary",gap:"spacing-md",children:[g?e.jsx(p,{width:"128px",height:"128px",borderRadius:"radius-md",children:e.jsx("img",{style:{borderRadius:"inherit"},width:"100%",height:"100%",src:g,alt:"Cropped Image"})}):e.jsx(St,{width:"200px",height:"200px",imageSrc:t.picture,onImageCropped:r=>{b(r),n("picture",r)},ref:s}),e.jsxs(p,{display:"flex",gap:"spacing-xxxs",children:[e.jsx(D,{variant:"bs-semibold",color:"text-tertiary",children:"Drag and Drop or"}),e.jsx("label",{htmlFor:"file-upload",children:e.jsx(D,{variant:"bs-semibold",color:"text-brand-medium",css:F`
                    cursor: pointer;
                  `,children:"Browse to Choose"})})]})]})})]}),e.jsx(p,{display:"flex",justifyContent:"center",width:"100%",margin:"spacing-md spacing-none spacing-none spacing-none",children:g?e.jsx(I,{onClick:()=>{n("picture",g),x()},children:"Upload Image"}):e.jsx(I,{disabled:t.picture==null,onClick:()=>{s.current.showCroppedImage()},children:"Crop Image"})})]})},je=({setErrorMessage:t,setSuccessMessage:n})=>{const i=yt(),{wallet:u}=U(),{handleConnectWalletAndEnableProfile:x}=Qe(),{data:s,refetch:g}=pe(),{mutate:b,isPending:S}=he(),{userPushSDKInstance:y}=T(r=>r.user),a=fe(async()=>{const r=y!=null&&y.signer?y:await x({wallet:u})??void 0;b({userPushSDKInstance:r,name:a==null?void 0:a.values.displayName,desc:a==null?void 0:a.values.desc,picture:a==null?void 0:a.values.picture},{onSuccess:l=>{console.log(l),n("User Details Updated Successfully"),g()},onError:l=>{console.log("Error updating user profile info",l),t("Error while updating User Info!")}})});return d.useEffect(()=>{s&&a.setValues({displayName:s.name||"",picture:(s==null?void 0:s.picture)||null,desc:(s==null?void 0:s.desc)||null})},[s]),e.jsx(p,{children:e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs(p,{display:"flex",flexDirection:"row",gap:"spacing-sm",alignItems:"center",margin:"spacing-xs spacing-none spacing-md spacing-none",children:[a.values.picture?e.jsx(p,{width:"90px",height:"90px",border:"border-sm solid stroke-tertiary",borderRadius:"radius-md",css:F`
                img {
                  border-radius: 16px;
                }
              `,children:e.jsx("img",{width:"100%",height:"100%",src:a.values.picture})}):e.jsx(p,{width:"75px",height:"75px",backgroundColor:"surface-tertiary",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"radius-sm",children:e.jsx(le,{color:"icon-primary",size:25})}),e.jsx(I,{variant:"tertiary",size:"extraSmall",onClick:()=>i.open(),type:"button",children:"Change Avatar"})]}),i.isOpen&&e.jsx(Le,{modalControl:i,formValues:a.values,setFieldValue:a.setFieldValue}),e.jsx(p,{display:"flex",flexDirection:"column",margin:"spacing-none spacing-none spacing-xl spacing-none",children:e.jsx(W,{label:"Display Name",value:a.values.displayName,onChange:a.handleChange("displayName"),error:a.submitCount>0&&!a.values.displayName?!0:a.values.displayName.length>50,errorMessage:a.submitCount>0&&!a.values.displayName?"Display Name is required":a.values.displayName.length>50?"Display Name cannot exceed 50 characters":"",totalCount:50})}),e.jsx(p,{display:"flex",flexDirection:"column",margin:"spacing-none spacing-none spacing-xl spacing-none",children:e.jsx(W,{label:"Bio",value:a.values.desc,onChange:a.handleChange("desc"),error:!!a.errors.desc,errorMessage:a.errors.desc?a.errors.desc:"",totalCount:150})}),e.jsx(I,{size:"small",loading:S,children:"Save Changes"})]})})},be=()=>{const{account:t,chainId:n}=U(),{subscriptionStatus:i,userSettings:u}=T(c=>c.channels),[x,s]=d.useState([]),[g,b]=d.useState(!0),S=H(),y=Q(),a=()=>{S("/channels")},r=async c=>{const h=await ue({channel:c});if(h)return{channel:c,id:h.id,icon:h.icon,name:h.name,channel_settings:h.channel_settings}},l=async c=>{const h=await Promise.all(Object.keys(c).map(async C=>{const j=await r(C);if(j)return j}));s(h)};d.useEffect(()=>{t&&async function(){if(b(!0),Object.keys(i).length===0){const c=tt(t,n),h=await ge({userCaipAddress:c}),C={},j={};h.map(({channel:E,user_settings:k})=>{C[E]=!0,j[E]=k?JSON.parse(k):null}),y(ee(C)),y(te(j)),await l(C)}else await l(i);b(!1)}()},[t]);const L=d.useMemo(()=>Mt(u),[u]);return e.jsx(e.Fragment,{children:g?e.jsx(e.Fragment,{children:e.jsx(z,{children:e.jsx(Dt,{})})}):e.jsx(e.Fragment,{children:x.length>0?x.map((c,h)=>e.jsx(e.Fragment,{children:c&&e.jsxs(e.Fragment,{children:[e.jsxs(ye,{children:[e.jsxs(we,{children:[e.jsx(Se,{src:c.icon}),e.jsx(Ce,{children:c.name})]}),e.jsx(et,{userSetting:L[c.channel],centerOnMobile:!1,channelDetail:c,onSuccessOptout:()=>{s(C=>C.filter(j=>(j==null?void 0:j.id)!==c.id))},children:e.jsx(Me,{})})]},c.id),h!==x.length-1&&e.jsx(_e,{})]})})):e.jsx(z,{children:e.jsx(vt,{title:"No Channel Opt-ins",description:"Opt-in channels to manage your notification preferences",buttonTitle:"Go to Channels",onClick:a,showTopBorder:!1})})})})},ye=o.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  margin: 12px 0px;
`,we=o.div`
  display: flex;
  flex-direction: row;
  align-items: center;
`,Se=o(X)`
  border: 1px solid ${t=>t.theme.default.borderColor};
  border-radius: 8px;
  overflow: hidden;
  margin-right: 16px;
  width: 28px;
  height: 28px;
`,Ce=o.span`
  font-size: 15px;
  font-weight: 400;
  line-height: 23px;
  letter-spacing: normal;
  color: ${t=>t.theme.default.color};
`,Me=o(Y)`
  background: transparent;
  display: flex;
  cursor: pointer;
  width: 24px;
  height: 24px;
  padding: 0px;
  position: relative;
  width: 24px;
  height: 24px;
  color: ${t=>t.theme.default.color};
`,_e=o.span`
  background-color: ${t=>t.theme.default.borderColor};
  width: 100%;
  display: flex;
  height: 1px;
`,z=o.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 80%;
`,ve=()=>{const{account:t,isWalletConnected:n,connect:i,provider:u}=U(),x=nt(),[s,g]=d.useState(!1),[b,S]=d.useState(!1),[y,a]=d.useState(!1),[r,l]=d.useState(null),[L,c]=d.useState({enabled:!1,hrsLeft:0}),[h,C]=d.useState(!1),j="npm:@pushprotocol/snap";async function E(){if(!n){l("Connect your metamask wallet to install Snap"),C(!1);return}l("");const m=await window.ethereum.request({method:"wallet_getSnaps"});console.debug("Snaps installed",m),Object.keys(m).forEach(v=>{v=="npm:@pushprotocol/snap"&&C(!0)})}async function k(m){return await u.getSigner(m).signMessage(`Add address ${m} to receive notifications through Push Snap`)}async function P(){var m;try{await k(t)?t&&(await((m=window.ethereum)==null?void 0:m.request({method:"wallet_invokeSnap",params:{snapId:j,request:{method:"pushproto_addaddress",params:{address:t}}}})),console.debug("Added",t),S(!0)):console.error("Signature Validation Failed")}catch(v){l(v.message)}}async function f(){var v;const m=await((v=window.ethereum)==null?void 0:v.request({method:"wallet_invokeSnap",params:{snapId:j,request:{method:"pushproto_getaddresses"}}}));console.debug(t),m.includes(t)?(a(!0),S(!0)):a(!1)}d.useEffect(()=>{E(),f()},[t,n,h]);async function w(){var Z;if(!n)return;let m=j,v={};await((Z=window.ethereum)==null?void 0:Z.request({method:"wallet_requestSnaps",params:{[m]:v}})),console.info("Snap Installed"),C(!0)}async function O(){if(!n){l("Connect your metamask wallet to install Snap");return}l(""),g(!0);try{n||await i(),h?await P():(await w(),E()),g(!1)}catch(m){g(!1),console.error("Error",m)}}const N=()=>{const{isModalOpen:m,showModal:v,ModalComponent:Z}=rt();return e.jsxs(Ee,{children:[e.jsx(Z,{InnerComponent:lt,modalPadding:"0px",modalPosition:ot.ON_ROOT}),e.jsx($,{children:e.jsx(ae,{src:ct,width:"276px",height:"202px"})}),e.jsxs($,{gap:"24px",children:[e.jsxs($,{gap:"12px",children:[e.jsxs($,{children:[e.jsx(dt,{fontSize:"34px",fontWeight:"500",color:x.snapPrimaryText,letterSpacing:"normal",children:"Push Snap"}),e.jsx(B,{fontSize:"12px",fontWeight:"400",color:x.modalIconColor,children:"powered by MetaMask"})]}),e.jsx($,{children:e.jsx(B,{fontSize:"14px",fontWeight:"400",color:x.snapSecondaryText,children:"You\u2019re about to install Push Snap which allows you to receive notifications from Push directly on MetaMask!"})})]}),r&&e.jsx(R,{variant:"error",heading:r,showIcon:!0}),e.jsxs(p,{gap:"spacing-sm",display:"flex",flexDirection:"column",width:"-webkit-fill-available",children:[s&&!h?e.jsx(se,{type:ne.SEAMLESS,spinnerSize:44}):e.jsx(I,{disabled:!!h,onClick:()=>O(),variant:"primary",size:"large",children:h?"Step 1: Completed":"Step 1: Install Snap"}),s&&h?e.jsx(se,{type:ne.SEAMLESS,spinnerSize:44}):e.jsx(I,{disabled:!h,onClick:()=>O(),trailingIcon:e.jsx(xe,{height:24,width:24}),children:"Step 2: Sign In with Metamask"})]}),e.jsxs(De,{gap:"7px",onClick:v,children:[e.jsx(ae,{src:pt,width:16}),e.jsx(B,{color:x.modalIconColor,fontSize:"14px",fontWeight:"400",children:"About this Snap"})]})]})]})};return e.jsx(e.Fragment,{children:b?e.jsx(e.Fragment,{children:e.jsxs(p,{display:"flex",flexDirection:"column",padding:"spacing-none spacing-none spacing-none spacing-xxs",children:[e.jsx(D,{variant:"h4-semibold",children:"Push Snap Settings"}),e.jsx(it,{snoozeDuration:L,setSnoozeDuration:c})]})}):e.jsx(N,{})})},Ee=o(at)`
  width: 438px;
  height: auto;
  border-radius: 32px;
  background: #fff;
  background: ${t=>t.theme.default.bg};
  margin: auto;
  @media ${M.mobileL} {
    width: 330px;
  }
`,De=o(st)`
  cursor: pointer;
`,Ie=({item:t,isPending:n})=>e.jsxs(p,{display:"flex",margin:"spacing-sm spacing-none spacing-none spacing-none",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(p,{display:"flex",gap:"spacing-sm",alignItems:"center",children:[e.jsx(p,{padding:"spacing-xs",borderRadius:"radius-xs",border:"border-xs solid stroke-tertiary",children:t==null?void 0:t.icon()}),e.jsxs(p,{children:[e.jsx(D,{variant:"h5-semibold",color:"text-primary",children:t.itemTitle}),e.jsx(D,{variant:"bs-regular",color:"text-tertiary",children:t.itemDescription})]})]}),t.userStatus===null?e.jsx(I,{variant:"tertiary",size:"extraSmall",onClick:t==null?void 0:t.onClick,children:"Connect"}):e.jsx(ht,{isLoading:n,children:e.jsx(I,{variant:"secondary",size:"extraSmall",children:t==null?void 0:t.userStatus})})]}),ke=({setErrorMessage:t,setSuccessMessage:n})=>{const i=H(),[u,x]=d.useState(!0),{userPushSDKInstance:s}=T(c=>c.user),{socialHandlesList:g,modalControl:b,telegramModalControl:S,discordModalControl:y,isPending:a,fetchStatus:r,channelAddress:l}=Tt(t,!0,s);d.useEffect(()=>{!s||!l||r()},[s,l]),d.useEffect(()=>{x(s&&(s==null?void 0:s.readmode()))},[s]);const L=()=>{x(!1),i(xt.WelcomeDashboard)};return e.jsxs(p,{children:[e.jsxs(p,{children:[e.jsx(D,{variant:"h4-semibold",color:"text-primary",children:"Get Notified Anywhere"}),e.jsx(D,{variant:"bs-regular",color:"text-tertiary",children:"Connects apps and receive notifications directly in your Email, Telegram and Discord"})]}),e.jsx(p,{padding:"spacing-sm spacing-none spacing-none spacing-none",children:g==null?void 0:g.map(c=>e.jsx(Ie,{item:c,isPending:a}))}),u&&e.jsx(p,{display:"flex",justifyContent:"center",width:"-webkit-fill-available",alignItems:"center",css:F`
            z-index: 99999;
          `,children:e.jsx(kt,{type:Ot.MODAL,showConnectModal:!0,onClose:L,description:"Unlock your profile to proceed."})}),b.isOpen&&e.jsx($t,{modalControl:b,refetchSocialHandleStatus:r,setErrorMessage:t,setSuccessMessage:n}),S.isOpen&&e.jsx(At,{modalControl:S,refetchSocialHandleStatus:r,setErrorMessage:t,setSuccessMessage:n}),y.isOpen&&e.jsx(Pt,{modalControl:y,refetchSocialHandleStatus:r,setErrorMessage:t,setSuccessMessage:n})]})};function Oe(){var k,P;const{account:t,chainId:n}=U(),{userPushSDKInstance:i}=T(f=>f.user),{subscriptionStatus:u,userSettings:x}=T(f=>f.channels),[s,g]=d.useState(0),[b,S]=d.useState([]),[y,a]=d.useState(!0),[r,l]=d.useState(""),[L,c]=d.useState("");H();const h=Q(),C=async f=>{const w=await i.channel.info(f);if(w)return{channel:f,id:w.id,icon:w.icon,name:w.name,channel_settings:w.channel_settings}},j=async f=>{const w=[];await Promise.all(Object.keys(f).map(async O=>{const N=await C(O);N&&w.push(N)})),S(w)};d.useEffect(()=>{!t||!i||async function(){if(a(!0),Object.keys(u).length===0){const f=await i.notification.subscriptions(),w={},O={};f.map(({channel:N,user_settings:m})=>{w[N]=!0,O[N]=m?JSON.parse(m):null}),h(ee(w)),h(te(O)),await j(w)}else await j(u);a(!1)}()},[t,i]);const E=[{value:0,label:"My Profile",title:"Your Profile"},{value:1,label:"Notification Settings",title:"Notification Settings"},{value:2,label:"Push Snap",title:""}];return e.jsxs(Ne,{children:[e.jsx(Te,{children:"Settings"}),e.jsx($e,{children:"Customize your Push profile or manage your notification preferences"}),e.jsxs(Ae,{children:[e.jsx(Pe,{children:E.map(f=>e.jsx(Ze,{onClick:()=>g(f.value),isSelected:f.value===s,children:f.label},f.value))}),e.jsxs(Ue,{children:[L&&e.jsx(p,{margin:"spacing-sm spacing-none spacing-none spacing-none",children:e.jsx(R,{variant:"success",heading:L})}),r&&e.jsx(p,{margin:"spacing-sm spacing-none spacing-none spacing-none",children:e.jsx(R,{variant:"error",heading:r})}),e.jsx(G,{children:e.jsxs(V,{selectedOption:s,children:[((k=E[s])==null?void 0:k.title)&&e.jsx(Fe,{children:(P=E[s])==null?void 0:P.title}),s===0&&e.jsx(je,{errorMessage:r,setErrorMessage:l,successMessage:L,setSuccessMessage:c}),s===1&&e.jsx(be,{}),s===2&&e.jsx(ve,{})]})}),s==0&&e.jsx(G,{children:e.jsx(V,{selectedOption:s,children:e.jsx(ke,{errorMessage:r,setErrorMessage:l,successMessage:L,setSuccessMessage:c})})})]})]})]})}const Ne=o.div`
  padding: 32px 24px;
  flex: 1;
  height: 100%;
  overflow: hidden;

  @media ${M.tablet} {
    padding: 24px 12px;
  }
`,Te=o.div`
  font-size: 32px;
  font-weight: 500;
  line-height: 45px;
  letter-spacing: normal;
  text-align: left;
  color: ${t=>t.theme.default.color};

  @media ${M.tablet} {
    text-align: center;
    margin-top: 24px;
  }
`,$e=o.div`
  font-size: 15px;
  font-weight: 400;
  line-height: 21px;
  letter-spacing: normal;
  text-align: left;
  color: ${t=>t.theme.default.secondaryColor};
  margin-bottom: 40px;

  @media ${M.tablet} {
    text-align: center;
    margin-bottom: 8px;
  }
`,Ae=o.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;

  height: 100%;
  flex: 1;
  min-height: 0;

  @media ${M.tablet} {
    flex-direction: column;
  }
`,Pe=o.div`
  display: flex;
  flex-direction: column;
  margin-right: 42px;

  @media ${M.tablet} {
    margin-right: 0px;
    flex-direction: row;
    overflow-x: scroll;
    justify-content: center;
  }
`,Ze=o(ut)`
  background-color: ${t=>t.isSelected?t.theme.default.secondaryBg:"transparent"};
  color: ${t=>t.theme.default.secondaryColor};
  border-radius: 12px;
  width: 100%;
  padding: 14px;
  margin: 10px 0px;
  justify-content: flex-start;

  &:hover:after {
    background-color: ${t=>t.theme.default.secondaryBg};
  }

  @media ${M.tablet} {
    padding: 12px;
    max-width: fit-content;
  }
`,G=o.div`
  border: 1px solid ${t=>t.theme.userSettingsBorder};
  padding: 12px;
  border-radius: 24px;

  @media ${M.tablet} {
    margin: 8px 0px;
    padding: 12px 6px;
  }
`,Ue=o.div`
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  min-height: 0;
  gap: 16px;
  padding-right: 12px;
  overflow-y: auto;

  &::-webkit-scrollbar-track {
    background-color: transparent;
    position: absolute;
    right: 10px;
  }

  &::-webkit-scrollbar {
    background-color: transparent;
    width: 4px;
    position: absolute;
    right: 10px;
  }

  &::-webkit-scrollbar-thumb {
    background-color: #d53a94;
    border-radius: 99px;
    width: 4px;
    position: absolute;
    right: 10px;
  }

  // Adding margin-bottom to the last child
  & > *:last-child {
    margin-bottom: 100px;
  }
`,V=o.div`
  overflow-y: auto;
  height: ${t=>t.selectedOption===0?"auto":"55vh"};
  padding: 12px;

  &::-webkit-scrollbar-track {
    background-color: transparent;
    position: absolute;
    right: 10px;
  }

  &::-webkit-scrollbar {
    background-color: transparent;
    width: 4px;
    position: absolute;
    right: 10px;
  }

  &::-webkit-scrollbar-thumb {
    background-color: #d53a94;
    border-radius: 99px;
    width: 4px;
    position: absolute;
    right: 10px;
  }

  @media ${M.tablet} {
    margin: 8px 0px;
    padding: 12px 6px;
  }
`,Fe=o.div`
  font-size: 22px;
  font-weight: 500;
  line-height: 33px;
  letter-spacing: normal;
  text-align: left;
  margin-bottom: 20px;
  color: ${t=>t.theme.default.color};

  @media ${M.tablet} {
    text-align: center;
  }
`;o.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  margin: 12px 0px;
`,o(X)`
  border: 1px solid ${t=>t.theme.default.borderColor};
  border-radius: 8px;
  overflow: hidden;
  margin-right: 16px;
  width: 28px;
  height: 28px;
`,o.span`
  font-size: 15px;
  font-weight: 400;
  line-height: 23px;
  letter-spacing: normal;
  color: ${t=>t.theme.default.color};
`,o.div`
  display: flex;
  flex-direction: row;
  align-items: center;
`,o.span`
  background-color: ${t=>t.theme.default.borderColor};
  width: 100%;
  display: flex;
  height: 1px;
`,o(Y)`
  background: transparent;
  display: flex;
  cursor: pointer;
  width: 24px;
  height: 24px;
  padding: 0px;
  position: relative;
  width: 24px;
  height: 24px;
  color: ${t=>t.theme.default.color};
`,o.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 80%;
`;let q,J,K;q=()=>e.jsx(J,{children:e.jsx(Oe,{})}),J=o.div`
	align-items: stretch;
	align-self: stretch;
  flex: 1;
	background: ${t=>t.theme.default.bg};
	border-radius: ${_.ADJUSTMENTS.RADIUS.LARGE};
	box-shadow: ${_.ADJUSTMENTS.MODULE_BOX_SHADOW};
	display: flex;
	flex-direction: column;
	flex: initial;
	justify-content: center;
	position: relative;
  overflow: hidden;
  box-sizing: border-box;

  margin: ${_.ADJUSTMENTS.MARGIN.MINI_MODULES.DESKTOP};
  height: calc(100vh - ${_.CONSTANTS.HEADER_HEIGHT}px - ${A.MINI_MODULES.DESKTOP.TOP} - ${A.MINI_MODULES.DESKTOP.BOTTOM});
  
  @media ${M.laptop} {
    margin: ${_.ADJUSTMENTS.MARGIN.MINI_MODULES.TABLET};
    height: calc(100vh - ${_.CONSTANTS.HEADER_HEIGHT}px - ${A.MINI_MODULES.TABLET.TOP} - ${A.MINI_MODULES.TABLET.BOTTOM});
  }

  @media ${M.mobileL} {
    margin: ${_.ADJUSTMENTS.MARGIN.MINI_MODULES.MOBILE};
    height: calc(100vh - ${_.CONSTANTS.HEADER_HEIGHT}px - ${A.MINI_MODULES.MOBILE.TOP});
    border: ${_.ADJUSTMENTS.RADIUS.LARGE};
    border-radius: ${_.ADJUSTMENTS.RADIUS.LARGE} ${_.ADJUSTMENTS.RADIUS.LARGE} 0 0;
`,re=()=>e.jsx(K,{children:e.jsx(q,{})}),K=o(gt)`
  flex: 1;
  flex-direction: column;
  align-self: stretch;
`});export{Rt as __tla,re as default};
