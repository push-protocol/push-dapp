import{eZ as D,gq as I,gr as O,eR as P,dX as u,d_ as a,d$ as i,gs as k,e2 as j,gt as c,gu as F,gv as L,el as R,e9 as $,eY as K,__tla as N}from"./index-BNFbPSez.js";import{c as V,a as l,u as W,__tla as A}from"./index.esm-DeUzYf_W.js";import{u as B,__tla as X}from"./useMutation-C-SZZUbv.js";let v,Y=Promise.all([(()=>{try{return N}catch{}})(),(()=>{try{return A}catch{}})(),(()=>{try{return X}catch{}})()]).then(async()=>{let d,m,o,g,h,p,b;d=s=>s,m=async s=>{const t=await D({method:"POST",url:`${I}/mailing/send`,data:s,headers:{"Content-Type":"application/json"}});return d(t.data)},o=[{label:"Support",value:"Support"},{label:"Integrate",value:"Integrate"},{label:"Others",value:"Others"}],g=()=>B({mutationKey:[O],mutationFn:m}),h=V({name:l().required("Name is required"),email:l().email("Invalid E-mail address").required("E-mail is required"),topic:l().required("Topic is required"),subject:l().required("Subject is required"),message:l().required("Message is required")}),p=()=>{P.pageview("/support");const[s,t]=u.useState(0),[f,n]=u.useState(""),[y,x]=u.useState(!0),{mutate:S,isPending:r}=g(),e=W({initialValues:{name:"",email:"",topic:o[0].value,subject:"",message:""},validationSchema:y?h:null,onSubmit:()=>{_()}}),_=()=>{x(!1);const{name:q,email:w,topic:C,subject:M,message:E}=e.values;S({from:w,name:q,topic:C,sub:M,msg:E},{onSuccess:()=>{t(1),n("Message Sent! We will be in Touch :)"),e.resetForm(),x(!0)},onError:T=>{console.log("Error sending code",T),n("Mayday! Mayday! something went wrong. Please retry..."),t(2)}})};return a.jsx(i,{display:"flex",flexDirection:"column",width:"-webkit-fill-available",overflow:"scroll",height:"100%",padding:"spacing-sm spacing-none",children:a.jsxs(i,{display:"flex",flexDirection:"column",gap:"spacing-md",alignSelf:"center",width:"800px",children:[s>0&&a.jsx(k,{variant:s===1?"success":"error",heading:s===1?"Success":"Error",description:f,onClose:()=>{t(0),n("")}}),a.jsx("form",{onSubmit:e.handleSubmit,children:a.jsxs(i,{display:"flex",flexDirection:"column",gap:"spacing-md",padding:"spacing-md spacing-lg",borderRadius:"radius-md",backgroundColor:"surface-primary",children:[a.jsxs(i,{alignSelf:"center",children:[a.jsx(j,{variant:"h2-semibold",color:"text-primary",children:"Support"}),a.jsx(j,{variant:"bm-regular",color:"text-secondary",children:"Let\u2019s get in touch!"})]}),a.jsxs(i,{display:"flex",flexDirection:"row",gap:"spacing-xs",children:[a.jsx(i,{width:"219px",children:a.jsx(c,{required:!0,label:"Name",value:e.values.name,onChange:e.handleChange("name"),error:e.touched.name&&!!e.errors.name,errorMessage:e.touched.name?e.errors.name:"",disabled:r})}),a.jsx(c,{required:!0,value:e.values.email,onChange:e.handleChange("email"),error:e.touched.email&&!!e.errors.email,errorMessage:e.touched.email?e.errors.email:"",label:"E-mail",disabled:r})]}),a.jsx(F,{required:!0,options:o,value:e.values.topic.length?e.values.topic:"",onSelect:e.handleChange("topic"),error:e.touched.topic&&!!e.errors.topic,errorMessage:e.touched.topic?e.errors.topic:"",label:"Topic",disabled:r}),a.jsx(c,{required:!0,value:e.values.subject,onChange:e.handleChange("subject"),error:e.touched.subject&&!!e.errors.subject,errorMessage:e.touched.subject?e.errors.subject:"",label:"Subject",placeholder:"I want to tell you guys a secret!",disabled:r}),a.jsx(L,{required:!0,placeholder:"This is where you will tell us that secret, or a bug or whatever is on your mind.",numberOfLines:12,value:e.values.message,onChange:e.handleChange("message"),error:e.touched.message&&!!e.errors.message,errorMessage:e.touched.message?e.errors.message:"",label:"Message",disabled:r}),a.jsx(R,{onClick:()=>e.handleSubmit(),variant:"tertiary",loading:r,disabled:r,children:r?"Submitting...":"Submit"})]})})]})})},v=()=>a.jsx(b,{children:a.jsx(p,{})}),b=$(K)`
  flex: 1;
  flex-direction: column;
  align-self: stretch;
  justify-content: flex-start;
`});export{Y as __tla,v as default};
