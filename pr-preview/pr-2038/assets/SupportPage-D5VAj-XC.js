import{ea as D,gr as I,g1 as O,gs as k,e_ as P,dX as u,d_ as a,d$ as i,gt as F,e2 as j,gu as c,gv as L,gw as $,ep as N,e9 as R,f5 as V,__tla as A}from"./index-CJTHuC1y.js";import{c as B,a as t,u as G,__tla as K}from"./index.esm-CM2Y9iFN.js";let v,W=Promise.all([(()=>{try{return A}catch{}})(),(()=>{try{return K}catch{}})()]).then(async()=>{let d,m,n,g,h,p,b;d=s=>s,m=async s=>{const l=await D({method:"POST",url:`${I}/mailing/send_mail`,data:s,headers:{"Content-Type":"application/json"}});return d(l.data)},n=[{label:"Support",value:"Support"},{label:"Integrate",value:"Integrate"},{label:"Others",value:"Others"}],g=()=>O({mutationKey:[k],mutationFn:m}),h=B({name:t().required("Name is required"),email:t().email("Invalid E-mail address").required("E-mail is required"),topic:t().required("Topic is required"),subject:t().required("Subject is required"),message:t().required("Message is required")}),p=()=>{P.pageview("/support");const[s,l]=u.useState(0),[f,o]=u.useState(""),[S,x]=u.useState(!0),{mutate:y,isPending:r}=g(),e=G({initialValues:{name:"",email:"",topic:n[0].value,subject:"",message:""},validationSchema:S?h:null,onSubmit:()=>{q()}}),q=()=>{x(!1);const{name:_,email:w,topic:C,subject:M,message:E}=e.values;y({from:w,name:_,topic:C,sub:M,msg:E},{onSuccess:()=>{l(1),o("Message Sent! We will be in Touch :)"),e.resetForm(),x(!0)},onError:T=>{console.log("Error sending code",T),o("Error in sending mail, please try again later..."),l(2)}})};return a.jsx(i,{display:"flex",flexDirection:"column",width:"-webkit-fill-available",overflow:"scroll",height:"100%",padding:"spacing-sm spacing-none",children:a.jsxs(i,{display:"flex",flexDirection:"column",gap:"spacing-md",alignSelf:"center",width:"800px",children:[s>0&&a.jsx(F,{variant:s===1?"success":"error",heading:s===1?"Success":"Error",description:f,onClose:()=>{l(0),o("")}}),a.jsx("form",{onSubmit:e.handleSubmit,children:a.jsxs(i,{display:"flex",flexDirection:"column",gap:"spacing-md",padding:"spacing-md spacing-lg",borderRadius:"radius-md",backgroundColor:"surface-primary",children:[a.jsxs(i,{alignSelf:"center",children:[a.jsx(j,{variant:"h2-semibold",color:"text-primary",children:"Support"}),a.jsx(j,{variant:"bm-regular",color:"text-secondary",children:"Let\u2019s get in touch!"})]}),a.jsxs(i,{display:"flex",flexDirection:"row",gap:"spacing-xs",children:[a.jsx(i,{width:"219px",children:a.jsx(c,{required:!0,label:"Name",value:e.values.name,onChange:e.handleChange("name"),error:e.touched.name&&!!e.errors.name,errorMessage:e.touched.name?e.errors.name:"",disabled:r})}),a.jsx(c,{required:!0,value:e.values.email,onChange:e.handleChange("email"),error:e.touched.email&&!!e.errors.email,errorMessage:e.touched.email?e.errors.email:"",label:"E-mail",disabled:r})]}),a.jsx(L,{required:!0,options:n,value:e.values.topic.length?e.values.topic:"",onSelect:e.handleChange("topic"),error:e.touched.topic&&!!e.errors.topic,errorMessage:e.touched.topic?e.errors.topic:"",label:"Topic",disabled:r}),a.jsx(c,{required:!0,value:e.values.subject,onChange:e.handleChange("subject"),error:e.touched.subject&&!!e.errors.subject,errorMessage:e.touched.subject?e.errors.subject:"",label:"Subject",placeholder:"I want to tell you guys a secret!",disabled:r}),a.jsx($,{required:!0,placeholder:"This is where you will tell us that secret, or a bug or whatever is on your mind.",numberOfLines:12,value:e.values.message,onChange:e.handleChange("message"),error:e.touched.message&&!!e.errors.message,errorMessage:e.touched.message?e.errors.message:"",label:"Message",disabled:r}),a.jsx(N,{onClick:()=>e.handleSubmit(),variant:"tertiary",loading:r,disabled:r,children:r?"Submitting...":"Submit"})]})})]})})},v=()=>a.jsx(b,{children:a.jsx(p,{})}),b=R(V)`
  flex: 1;
  flex-direction: column;
  align-self: stretch;
  justify-content: flex-start;
`});export{W as __tla,v as default};
