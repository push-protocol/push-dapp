import{fe as g,fc as R,hm as $,fs as se,fi as B,ft as M,fu as J,hn as Z,ho as _r,hp as Ur,aR as oe,hq as pt,fh as S,hr as he,fv as He,hs as Hr,fj as ye,fk as Wr,ht as Vr,hu as ra,hv as ro,hw as We,hx as Jr,bK as no,hy as K,aS as ie,hz as so,hA as oo,__tla as io}from"./index-kT5mI_gz.js";import{hC as co,hD as uo,hF as lo,hE as fo,fd as po,hG as bo,hB as mo,ff as ho,aT as yo,hK as go,fg as wo,hI as vo,hJ as Po,hH as Eo,hL as ko,hM as xo,aQ as No,hN as To,__tla as Bo}from"./index-kT5mI_gz.js";import{c as q,s as Ve,a as na,b as Ao,d as Zr,p as sa,f as Y,E as Je,F as bt,e as oa,N as ia,g as ca,h as ua,I as la,i as da,j as fa,T as pa,k as mt,U as ht,l as Kr,m as ba,n as Yr,o as Qr,q as Xr,t as en,r as tn,u as ma,P as Io,v as Q,C as yt,w as ha,x as ya,y as an,z as ga,A as rn,W as wa,__tla as Oo}from"./number-QRSfe47q.js";import{D as Fo,G as jo,H as Ro,J as $o,V as Co,X as Mo,Y as So,Z as qo,$ as Do,K as zo,a0 as Go,L as Lo,O as _o,Q as Uo,B as Ho,R as Wo,a2 as Vo,a3 as Jo,a1 as Zo,a4 as Ko,_ as Yo,S as Qo,M as Xo,__tla as ei}from"./number-QRSfe47q.js";let va,gt,wt,ge,Pa,Ea,ka,vt,Pt,xa,Et,we,Na,Ta,Ba,kt,Aa,xt,ve,Ia,Ze,Oa,ce,Pe,Ke,ue,Fa,Ye,ja,Ra,G,X,$a,Ca,Ma,Sa,ee,Ee,ke,xe,le,qa,Ne,Te,Be,Ae,te,Qe,Ie,Oe,j,Nt,Da,Fe,Tt,je,Re,za,$e,Ga,de,Xe,La,_a,D,Ua,et,Ha,nn,Wa,Ce,Bt,tt,ae,re,Va,fe,L,sn,pe,ne,be,Me,Se,qe,Ja,Za,At,Ka,on,It,Ya,at,De,Qa,Ot,Xa,rt,er,tr,ar,Ft,O,nt,rr,st,nr,ti=Promise.all([(()=>{try{return io}catch{}})(),(()=>{try{return Bo}catch{}})(),(()=>{try{return Oo}catch{}})(),(()=>{try{return ei}catch{}})()]).then(async()=>{function cn(e,t){var a;return(a=e.exec(t))==null?void 0:a.groups}const sr=/^tuple(?<array>(\[(\d*)\])*)$/;function jt(e){let t=e.type;if(sr.test(e.type)&&"components"in e){t="(";const a=e.components.length;for(let n=0;n<a;n++){const s=e.components[n];t+=jt(s),n<a-1&&(t+=", ")}const r=cn(sr,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,jt({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function ze(e){let t="";const a=e.length;for(let r=0;r<a;r++){const n=e[r];t+=jt(n),r!==a-1&&(t+=", ")}return t}function un(e){return e.type==="function"?`function ${e.name}(${ze(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${ze(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${ze(e.inputs)})`:e.type==="error"?`error ${e.name}(${ze(e.inputs)})`:e.type==="constructor"?`constructor(${ze(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function E(e,t,a){return r=>{var n,s;return((n=e[t.name])==null?void 0:n.call(e,r))??((s=e[a])==null?void 0:s.call(e,r))??t(e,r)}}function z(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Sa(e.type);return`${e.name}(${ot(e.inputs,{includeName:t})})`}function ot(e,{includeName:t=!1}={}){return e?e.map(a=>ln(a,{includeName:t})).join(t?", ":","):""}function ln(e,{includeName:t}){return e.type.startsWith("tuple")?`(${ot(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}va=class extends g{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}},gt=class extends g{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}},wt=class extends g{constructor({data:e,params:t,size:a}){super([`Data size of ${a} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${ot(t,{includeName:!0})})`,`Data:   ${e} (${a} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=a}},ge=class extends g{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}},Pa=class extends g{constructor({expectedLength:e,givenLength:t,type:a}){super([`ABI encoding array length mismatch for type ${a}.`,`Expected length: ${e}`,`Given length: ${t}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}},Ea=class extends g{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${R(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}},ka=class extends g{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}},vt=class extends g{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}},xa=class extends g{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}},Et=class extends g{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}},Pt=class extends g{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}},we=class extends g{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}},Na=class extends g{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}};class dn extends g{constructor(t,a){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${z(t.abiItem)}\`, and`,`\`${a.type}\` in \`${z(a.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}Aa=class extends g{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}},ce=class extends g{constructor({abiItem:e,data:t,params:a,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${ot(a,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=a,this.size=r}},Pe=class extends g{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${z(e,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}},Ca=class extends g{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}},$a=class extends g{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}},Ma=class extends g{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}},Sa=class extends g{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}},Ra=class extends g{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}};const fn=e=>$(se(e));function pn(e){return fn(e)}function bn(e){let t=!0,a="",r=0,n="",s=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(n))n="";else if(n+=i,i===")"){s=!0;break}continue}if(i===" "){e[o-1]!==","&&a!==","&&a!==",("&&(a="",t=!1);continue}n+=i,a+=i}}if(!s)throw new g("Unable to normalize signature.");return n}Se=e=>{const t=typeof e=="string"?e:un(e);return bn(t)},nt=function(e){return pn(Se(e))},Me=nt,re=function(e,t){if(e.length!==t.length)throw new ka({expectedLength:e.length,givenLength:t.length});const a=mn({params:e,values:t}),r=$t(a);return r.length===0?"0x":r};function mn({params:e,values:t}){const a=[];for(let r=0;r<e.length;r++)a.push(Rt({param:e[r],value:t[r]}));return a}function Rt({param:e,value:t}){const a=Ct(e.type);if(a){const[r,n]=a;return yn(t,{length:r,param:{...e,type:n}})}if(e.type==="tuple")return En(t,{param:e});if(e.type==="address")return hn(t);if(e.type==="bool")return wn(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return vn(t,{signed:r})}if(e.type.startsWith("bytes"))return gn(t,{param:e});if(e.type==="string")return Pn(t);throw new Ca(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function $t(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:i}=e[s];o?t+=32:t+=R(i)}const a=[],r=[];let n=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:i}=e[s];o?(a.push(B(t+n,{size:32})),r.push(i),n+=R(i)):a.push(i)}return q([...a,...r])}function hn(e){if(!M(e))throw new J({address:e});return{dynamic:!1,encoded:Z(e.toLowerCase())}}function yn(e,{length:t,param:a}){const r=t===null;if(!Array.isArray(e))throw new Ma(e);if(!r&&e.length!==t)throw new Pa({expectedLength:t,givenLength:e.length,type:`${a.type}[${t}]`});let n=!1;const s=[];for(let o=0;o<e.length;o++){const i=Rt({param:a,value:e[o]});i.dynamic&&(n=!0),s.push(i)}if(r||n){const o=$t(s);if(r){const i=B(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?q([i,o]):i}}if(n)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:q(s.map(({encoded:o})=>o))}}function gn(e,{param:t}){const[,a]=t.type.split("bytes"),r=R(e);if(!a){let n=e;return r%32!==0&&(n=Z(n,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:q([Z(B(r,{size:32})),n])}}if(r!==Number.parseInt(a))throw new Ea({expectedSize:Number.parseInt(a),value:e});return{dynamic:!1,encoded:Z(e,{dir:"right"})}}function wn(e){if(typeof e!="boolean")throw new g(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Z(_r(e))}}function vn(e,{signed:t}){return{dynamic:!1,encoded:B(e,{size:32,signed:t})}}function Pn(e){const t=Ur(e),a=Math.ceil(R(t)/32),r=[];for(let n=0;n<a;n++)r.push(Z(Ve(t,n*32,(n+1)*32),{dir:"right"}));return{dynamic:!0,encoded:q([Z(B(R(t),{size:32})),...r])}}function En(e,{param:t}){let a=!1;const r=[];for(let n=0;n<t.components.length;n++){const s=t.components[n],o=Array.isArray(e)?n:s.name,i=Rt({param:s,value:e[o]});r.push(i),i.dynamic&&(a=!0)}return{dynamic:a,encoded:a?$t(r):q(r.map(({encoded:n})=>n))}}function Ct(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}qe=e=>Ve(nt(e),0,4),pe=function(e){const{abi:t,args:a=[],name:r}=e,n=oe(r,{strict:!1}),s=t.filter(i=>n?i.type==="function"?qe(i)===r:i.type==="event"?Me(i)===r:!1:"name"in i&&i.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const i of s)if("inputs"in i){if(!a||a.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!(!i.inputs||i.inputs.length===0||i.inputs.length!==a.length)&&a.every((c,u)=>{const d="inputs"in i&&i.inputs[u];return d?Mt(c,d):!1})){if(o&&"inputs"in o&&o.inputs){const c=or(i.inputs,o.inputs,a);if(c)throw new dn({abiItem:i,type:c[0]},{abiItem:o,type:c[1]})}o=i}}return o||s[0]};function Mt(e,t){const a=typeof e,r=t.type;switch(r){case"address":return M(e,{strict:!1});case"bool":return a==="boolean";case"function":return a==="string";case"string":return a==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((n,s)=>Mt(Object.values(e)[s],n)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?a==="number"||a==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?a==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(n=>Mt(n,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function or(e,t,a){for(const r in e){const n=e[r],s=t[r];if(n.type==="tuple"&&s.type==="tuple"&&"components"in n&&"components"in s)return or(n.components,s.components,a[r]);const o=[n.type,s.type];if(o.includes("address")&&o.includes("bytes20")||(o.includes("address")&&o.includes("string")?M(a[r],{strict:!1}):o.includes("address")&&o.includes("bytes")&&M(a[r],{strict:!1})))return o}}const ir="/docs/contract/encodeEventTopics";fe=function(e){var c;const{abi:t,eventName:a,args:r}=e;let n=t[0];if(a){const u=pe({abi:t,name:a});if(!u)throw new Pt(a,{docsPath:ir});n=u}if(n.type!=="event")throw new Pt(void 0,{docsPath:ir});const s=z(n),o=Me(s);let i=[];if(r&&"inputs"in n){const u=(c=n.inputs)==null?void 0:c.filter(f=>"indexed"in f&&f.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(f=>r[f.name]))??[]:[];d.length>0&&(i=(u==null?void 0:u.map((f,l)=>Array.isArray(d[l])?d[l].map((b,y)=>cr({param:f,value:d[l][y]})):d[l]?cr({param:f,value:d[l]}):null))??[])}return[o,...i]};function cr({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return $(se(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Ra(e.type);return re([e],[t])}function it(e,{method:t}){var r,n;const a={};return e.transport.type==="fallback"&&((n=(r=e.transport).onResponse)==null||n.call(r,({method:s,response:o,status:i,transport:c})=>{i==="success"&&t===s&&(a[o]=c.request)})),s=>a[s]||e.request}async function ur(e,t){const{address:a,abi:r,args:n,eventName:s,fromBlock:o,strict:i,toBlock:c}=t,u=it(e,{method:"eth_newFilter"}),d=s?fe({abi:r,args:n,eventName:s}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:a,fromBlock:typeof o=="bigint"?B(o):o,toBlock:typeof c=="bigint"?B(c):c,topics:d}]});return{abi:r,args:n,eventName:s,id:f,request:u(f),strict:!!i,type:"event"}}function _(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const lr="/docs/contract/encodeFunctionData";er=function(e){const{abi:t,args:a,functionName:r}=e;let n=t[0];if(r){const s=pe({abi:t,args:a,name:r});if(!s)throw new we(r,{docsPath:lr});n=s}if(n.type!=="function")throw new we(void 0,{docsPath:lr});return{abi:[n],functionName:qe(z(n))}},L=function(e){var i;const{args:t}=e,{abi:a,functionName:r}=e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:er(e),n=a[0],s=r,o="inputs"in n&&n.inputs?re(n.inputs,t??[]):void 0;return na([s,o??"0x"])};const dr={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},kn={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},xn={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};La=function(e,t={}){typeof t.size<"u"&&pt(e,{size:t.size});const a=S(e,t);return he(a,t)},_a=function(e,t={}){let a=e;if(typeof t.size<"u"&&(pt(a,{size:t.size}),a=He(a)),a.length>1||a[0]>1)throw new Hr(a);return!!a[0]},D=function(e,t={}){typeof t.size<"u"&&pt(e,{size:t.size});const a=S(e,t);return ye(a,t)},Ua=function(e,t={}){let a=e;return typeof t.size<"u"&&(pt(a,{size:t.size}),a=He(a,{dir:"right"})),new TextDecoder().decode(a)},Ce=function(e,t){const a=typeof t=="string"?Wr(t):t,r=Ao(a);if(R(a)===0&&e.length>0)throw new ge;if(R(t)&&R(t)<32)throw new wt({data:typeof t=="string"?t:S(t),params:e,size:R(t)});let n=0;const s=[];for(let o=0;o<e.length;++o){const i=e[o];r.setPosition(n);const[c,u]=me(r,i,{staticPosition:0});n+=u,s.push(c)}return s};function me(e,t,{staticPosition:a}){const r=Ct(t.type);if(r){const[n,s]=r;return Tn(e,{...t,type:s},{length:n,staticPosition:a})}if(t.type==="tuple")return On(e,t,{staticPosition:a});if(t.type==="address")return Nn(e);if(t.type==="bool")return Bn(e);if(t.type.startsWith("bytes"))return An(e,t,{staticPosition:a});if(t.type.startsWith("uint")||t.type.startsWith("int"))return In(e,t);if(t.type==="string")return Fn(e,{staticPosition:a});throw new $a(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const fr=32,St=32;function Nn(e){const t=e.readBytes(32);return[Vr(S(Zr(t,-20))),32]}function Tn(e,t,{length:a,staticPosition:r}){if(!a){const o=D(e.readBytes(St)),i=r+o,c=i+fr;e.setPosition(i);const u=D(e.readBytes(fr)),d=Ge(t);let f=0;const l=[];for(let b=0;b<u;++b){e.setPosition(c+(d?b*32:f));const[y,p]=me(e,t,{staticPosition:c});f+=p,l.push(y)}return e.setPosition(r+32),[l,32]}if(Ge(t)){const o=D(e.readBytes(St)),i=r+o,c=[];for(let u=0;u<a;++u){e.setPosition(i+u*32);const[d]=me(e,t,{staticPosition:i});c.push(d)}return e.setPosition(r+32),[c,32]}let n=0;const s=[];for(let o=0;o<a;++o){const[i,c]=me(e,t,{staticPosition:r+n});n+=c,s.push(i)}return[s,n]}function Bn(e){return[_a(e.readBytes(32),{size:32}),32]}function An(e,t,{staticPosition:a}){const[r,n]=t.type.split("bytes");if(!n){const s=D(e.readBytes(32));e.setPosition(a+s);const o=D(e.readBytes(32));if(o===0)return e.setPosition(a+32),["0x",32];const i=e.readBytes(o);return e.setPosition(a+32),[S(i),32]}return[S(e.readBytes(Number.parseInt(n),32)),32]}function In(e,t){const a=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),n=e.readBytes(32);return[r>48?La(n,{signed:a}):D(n,{signed:a}),32]}function On(e,t,{staticPosition:a}){const r=t.components.length===0||t.components.some(({name:o})=>!o),n=r?[]:{};let s=0;if(Ge(t)){const o=D(e.readBytes(St)),i=a+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(i+s);const[d,f]=me(e,u,{staticPosition:i});s+=f,n[r?c:u==null?void 0:u.name]=d}return e.setPosition(a+32),[n,32]}for(let o=0;o<t.components.length;++o){const i=t.components[o],[c,u]=me(e,i,{staticPosition:a});n[r?o:i==null?void 0:i.name]=c,s+=u}return[n,s]}function Fn(e,{staticPosition:t}){const a=D(e.readBytes(32)),r=t+a;e.setPosition(r);const n=D(e.readBytes(32));if(n===0)return e.setPosition(t+32),["",32];const s=e.readBytes(n,32),o=Ua(He(s));return e.setPosition(t+32),[o,32]}function Ge(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Ge);const a=Ct(e.type);return!!(a&&Ge({...e,type:a[1]}))}Bt=function(e){const{abi:t,data:a}=e,r=Ve(a,0,4);if(r==="0x")throw new ge;const n=[...t||[],kn,xn].find(s=>s.type==="error"&&r===qe(z(s)));if(!n)throw new vt(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:n,args:"inputs"in n&&n.inputs&&n.inputs.length>0?Ce(n.inputs,Ve(a,4)):void 0,errorName:n.name}},O=(e,t,a)=>JSON.stringify(e,(r,n)=>typeof n=="bigint"?n.toString():n,a);function pr({abiItem:e,args:t,includeFunctionName:a=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${a?e.name:""}(${e.inputs.map((n,s)=>`${r&&n.name?`${n.name}: `:""}${typeof t[s]=="object"?O(t[s]):t[s]}`).join(", ")})`}Ta=class extends g{constructor({address:e}){super(`State for account "${e}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}},Da=class extends g{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}};function br(e){return e.reduce((t,{slot:a,value:r})=>`${t}        ${a}: ${r}
`,"")}function jn(e){return e.reduce((t,{address:a,...r})=>{let n=`${t}    ${a}:
`;return r.nonce&&(n+=`      nonce: ${r.nonce}
`),r.balance&&(n+=`      balance: ${r.balance}
`),r.code&&(n+=`      code: ${r.code}
`),r.state&&(n+=`      state:
`,n+=br(r.state)),r.stateDiff&&(n+=`      stateDiff:
`,n+=br(r.stateDiff)),n},`  State Override:
`).slice(0,-1)}xt=class extends g{constructor(e,{account:t,docsPath:a,chain:r,data:n,gas:s,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:d,value:f,stateOverride:l}){var p;const b=t?_(t):void 0;let y=sa({from:b==null?void 0:b.address,to:d,value:typeof f<"u"&&`${ra(f)} ${((p=r==null?void 0:r.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:n,gas:s,gasPrice:typeof o<"u"&&`${Y(o)} gwei`,maxFeePerGas:typeof i<"u"&&`${Y(i)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Y(c)} gwei`,nonce:u});l&&(y+=`
${jn(l)}`),super(e.shortMessage,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}},Ia=class extends g{constructor(e,{abi:t,args:a,contractAddress:r,docsPath:n,functionName:s,sender:o}){const i=pe({abi:t,args:a,name:s}),c=i?pr({abiItem:i,args:a,includeFunctionName:!1,includeName:!1}):void 0,u=i?z(i,{includeName:!0}):void 0,d=sa({address:r&&ro(r),function:u,args:c&&c!=="()"&&`${[...Array((s==null?void 0:s.length)??0).keys()].map(()=>" ").join("")}${c}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",d].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=t,this.args=a,this.cause=e,this.contractAddress=r,this.functionName=s,this.sender=o}},Ze=class extends g{constructor({abi:e,data:t,functionName:a,message:r}){let n,s,o,i;if(t&&t!=="0x")try{s=Bt({abi:e,data:t});const{abiItem:u,errorName:d,args:f}=s;if(d==="Error")i=f[0];else if(d==="Panic"){const[l]=f;i=dr[l]}else{const l=u?z(u,{includeName:!0}):void 0,b=u&&f?pr({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;o=[l?`Error: ${l}`:"",b&&b!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(u){n=u}else r&&(i=r);let c;n instanceof vt&&(c=n.signature,o=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(i&&i!=="execution reverted"||c?[`The contract function "${a}" reverted with the following ${c?"signature":"reason"}:`,i||c].join(`
`):`The contract function "${a}" reverted.`,{cause:n,metaMessages:o}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.reason=i,this.signature=c}},Oa=class extends g{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}},Qe=class extends g{constructor({data:e,message:t}){super(t||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}},G=class extends g{constructor({body:e,details:t,headers:a,status:r,url:n}){super("HTTP request failed.",{details:t,metaMessages:[r&&`Status: ${r}`,`URL: ${We(n)}`,e&&`Request body: ${O(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=a,this.status=r,this.url=n}},Nt=class extends g{constructor({body:e,error:t,url:a}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${We(a)}`,`Request body: ${O(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code}},Tt=class extends g{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${We(t)}`,`Request body: ${O(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}};const Rn=-1;j=class extends g{constructor(e,{code:t,docsPath:a,metaMessages:r,shortMessage:n}){super(n,{cause:e,docsPath:a,metaMessages:r||(e==null?void 0:e.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof Nt?e.code:t??Rn}},te=class extends j{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}},Be=class extends j{constructor(e){super(e,{code:Be.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}},Object.defineProperty(Be,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),ke=class extends j{constructor(e){super(e,{code:ke.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}},Object.defineProperty(ke,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Ne=class extends j{constructor(e){super(e,{code:Ne.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}},Object.defineProperty(Ne,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Ee=class extends j{constructor(e){super(e,{code:Ee.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}},Object.defineProperty(Ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),X=class extends j{constructor(e){super(e,{code:X.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}},Object.defineProperty(X,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),ee=class extends j{constructor(e){super(e,{code:ee.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}},Object.defineProperty(ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Ie=class extends j{constructor(e){super(e,{code:Ie.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}},Object.defineProperty(Ie,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Oe=class extends j{constructor(e){super(e,{code:Oe.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}},Object.defineProperty(Oe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),je=class extends j{constructor(e){super(e,{code:je.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}},Object.defineProperty(je,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Te=class extends j{constructor(e){super(e,{code:Te.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}},Object.defineProperty(Te,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),le=class extends j{constructor(e){super(e,{code:le.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}},Object.defineProperty(le,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),xe=class extends j{constructor(e){super(e,{code:xe.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}},Object.defineProperty(xe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),de=class extends te{constructor(e){super(e,{code:de.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}},Object.defineProperty(de,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001}),Re=class extends te{constructor(e){super(e,{code:Re.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}},Object.defineProperty(Re,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100}),$e=class extends te{constructor(e){super(e,{code:$e.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}},Object.defineProperty($e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200}),Ae=class extends te{constructor(e){super(e,{code:Ae.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}},Object.defineProperty(Ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900}),ve=class extends te{constructor(e){super(e,{code:ve.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}},Object.defineProperty(ve,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901}),Fe=class extends te{constructor(e){super(e,{code:Fe.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}},Object.defineProperty(Fe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902}),za=class extends j{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}};const $n=3;be=function(e,{abi:t,address:a,args:r,docsPath:n,functionName:s,sender:o}){const{code:i,data:c,message:u,shortMessage:d}=e instanceof Qe?e:e instanceof g?e.walk(l=>"data"in l)||e.walk():{},f=e instanceof ge?new Oa({functionName:s}):[$n,X.code].includes(i)&&(c||u||d)?new Ze({abi:t,data:typeof c=="object"?c.data:c,functionName:s,message:d??u}):e;return new Ia(f,{abi:t,args:r,contractAddress:a,docsPath:n,functionName:s,sender:o})},ja=class extends g{constructor(e,{account:t,docsPath:a,chain:r,data:n,gas:s,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){var b;const l=sa({from:t==null?void 0:t.address,to:d,value:typeof f<"u"&&`${ra(f)} ${((b=r==null?void 0:r.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:n,gas:s,gasPrice:typeof o<"u"&&`${Y(o)} gwei`,maxFeePerGas:typeof i<"u"&&`${Y(i)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Y(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",l].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}};function mr(e,t){const a=(e.details||"").toLowerCase(),r=e instanceof g?e.walk(n=>n.code===Je.code):e;return r instanceof g?new Je({cause:e,message:r.details}):Je.nodeMessage.test(a)?new Je({cause:e,message:e.details}):bt.nodeMessage.test(a)?new bt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):oa.nodeMessage.test(a)?new oa({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):ia.nodeMessage.test(a)?new ia({cause:e,nonce:t==null?void 0:t.nonce}):ca.nodeMessage.test(a)?new ca({cause:e,nonce:t==null?void 0:t.nonce}):ua.nodeMessage.test(a)?new ua({cause:e,nonce:t==null?void 0:t.nonce}):la.nodeMessage.test(a)?new la({cause:e}):da.nodeMessage.test(a)?new da({cause:e,gas:t==null?void 0:t.gas}):fa.nodeMessage.test(a)?new fa({cause:e,gas:t==null?void 0:t.gas}):pa.nodeMessage.test(a)?new pa({cause:e}):mt.nodeMessage.test(a)?new mt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new ht({cause:e})}function Cn(e,{docsPath:t,...a}){const r=(()=>{const n=mr(e,a);return n instanceof ht?e:n})();return new ja(r,{docsPath:t,...a})}function hr(e,{format:t}){if(!t)return{};const a={};function r(s){const o=Object.keys(s);for(const i of o)i in e&&(a[i]=e[i]),s[i]&&typeof s[i]=="object"&&!Array.isArray(s[i])&&r(s[i])}const n=t(e||{});return r(n),a}function yr(e){if(!(!e||e.length===0))return e.reduce((t,{slot:a,value:r})=>{if(a.length!==66)throw new Jr({size:a.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Jr({size:r.length,targetSize:66,type:"hex"});return t[a]=r,t},{})}function Mn(e){const{balance:t,nonce:a,state:r,stateDiff:n,code:s}=e,o={};if(s!==void 0&&(o.code=s),t!==void 0&&(o.balance=B(t)),a!==void 0&&(o.nonce=B(a)),r!==void 0&&(o.state=yr(r)),n!==void 0){if(o.state)throw new Da;o.stateDiff=yr(n)}return o}function gr(e){if(!e)return;const t={};for(const{address:a,...r}of e){if(!M(a,{strict:!1}))throw new J({address:a});if(t[a])throw new Ta({address:a});t[a]=Mn(r)}return t}Xe=function(e){const{account:t,gasPrice:a,maxFeePerGas:r,maxPriorityFeePerGas:n,to:s}=e,o=t?_(t):void 0;if(o&&!M(o.address))throw new J({address:o.address});if(s&&!M(s))throw new J({address:s});if(typeof a<"u"&&(typeof r<"u"||typeof n<"u"))throw new Kr;if(r&&r>2n**256n-1n)throw new bt({maxFeePerGas:r});if(n&&r&&n>r)throw new mt({maxFeePerGas:r,maxPriorityFeePerGas:n})},Ba=class extends g{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}},Ke=class extends g{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}},qa=class extends g{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Y(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}},kt=class extends g{constructor({blockHash:e,blockNumber:t}){let a="Block";e&&(a=`Block at hash "${e}"`),t&&(a=`Block at number "${t}"`),super(`${a} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}};async function U(e,{blockHash:t,blockNumber:a,blockTag:r,includeTransactions:n}={}){var u,d,f;const s=r??"latest",o=n??!1,i=a!==void 0?B(a):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]}):c=await e.request({method:"eth_getBlockByNumber",params:[i||s,o]}),!c)throw new kt({blockHash:t,blockNumber:a});return(((f=(d=(u=e.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:f.format)||ba)(c)}async function qt(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Sn(e,t){return wr(e,t)}async function wr(e,t){var s,o,i;const{block:a,chain:r=e.chain,request:n}=t||{};if(typeof((s=r==null?void 0:r.fees)==null?void 0:s.defaultPriorityFee)=="function"){const c=a||await E(e,U,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:n})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return he(c)}catch{const[c,u]=await Promise.all([a?Promise.resolve(a):E(e,U,"getBlock")({}),E(e,qt,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new Ke;const d=u-c.baseFeePerGas;return d<0n?0n:d}}async function qn(e,t){return Dt(e,t)}async function Dt(e,t){var d,f;const{block:a,chain:r=e.chain,request:n,type:s="eip1559"}=t||{},o=await(async()=>{var l,b;return typeof((l=r==null?void 0:r.fees)==null?void 0:l.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:a,client:e,request:n}):((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(o<1)throw new Ba;const i=10**(((d=o.toString().split(".")[1])==null?void 0:d.length)??0),c=l=>l*BigInt(Math.ceil(o*i))/BigInt(i),u=a||await E(e,U,"getBlock")({});if(typeof((f=r==null?void 0:r.fees)==null?void 0:f.estimateFeesPerGas)=="function"){const l=await r.fees.estimateFeesPerGas({block:a,client:e,multiply:c,request:n,type:s});if(l!==null)return l}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new Ke;const l=typeof(n==null?void 0:n.maxPriorityFeePerGas)=="bigint"?n.maxPriorityFeePerGas:await wr(e,{block:u,chain:r,request:n}),b=c(u.baseFeePerGas);return{maxFeePerGas:(n==null?void 0:n.maxFeePerGas)??b+l,maxPriorityFeePerGas:l}}return{gasPrice:(n==null?void 0:n.gasPrice)??c(await E(e,qt,"getGasPrice")({}))}}async function vr(e,{address:t,blockTag:a="latest",blockNumber:r}){const n=await e.request({method:"eth_getTransactionCount",params:[t,r?B(r):a]});return ye(n)}async function Pr(e){const t=await e.request({method:"eth_chainId"});return ye(t)}const Dn=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Er(e,t){const{account:a=e.account,blobs:r,chain:n,chainId:s,gas:o,kzg:i,nonce:c,parameters:u=Dn,type:d}=t,f=a?_(a):void 0,l={...t,...f?{from:f==null?void 0:f.address}:{}};let b;async function y(){return b||(b=await E(e,U,"getBlock")({blockTag:"latest"}),b)}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const p=Yr({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const m=Qr({commitments:p,to:"hex"});l.blobVersionedHashes=m}if(u.includes("sidecars")){const m=Xr({blobs:r,commitments:p,kzg:i}),h=en({blobs:r,commitments:p,proofs:m,to:"hex"});l.sidecars=h}}if(u.includes("chainId")&&(n?l.chainId=n.id:typeof s<"u"?l.chainId=s:l.chainId=await E(e,Pr,"getChainId")({})),u.includes("nonce")&&typeof c>"u"&&f&&(l.nonce=await E(e,vr,"getTransactionCount")({address:f.address,blockTag:"pending"})),(u.includes("fees")||u.includes("type"))&&typeof d>"u")try{l.type=tn(l)}catch{const p=await y();l.type=typeof(p==null?void 0:p.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const p=await y(),{maxFeePerGas:m,maxPriorityFeePerGas:h}=await Dt(e,{block:p,chain:n,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<h)throw new qa({maxPriorityFeePerGas:h});l.maxPriorityFeePerGas=h,l.maxFeePerGas=m}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Ke;const p=await y(),{gasPrice:m}=await Dt(e,{block:p,chain:n,request:l,type:"legacy"});l.gasPrice=m}return u.includes("gas")&&typeof o>"u"&&(l.gas=await E(e,zt,"estimateGas")({...l,account:f?{address:f.address,type:"json-rpc"}:void 0})),Xe(l),delete l.parameters,l}async function zt(e,t){var n,s,o;const a=t.account??e.account,r=a?_(a):void 0;try{const{accessList:i,blobs:c,blobVersionedHashes:u,blockNumber:d,blockTag:f,data:l,gas:b,gasPrice:y,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:k,to:N,value:v,stateOverride:w,...P}=await Er(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),A=(d?B(d):void 0)||f,T=gr(w);Xe(t);const x=(o=(s=(n=e.chain)==null?void 0:n.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,I=(x||ma)({...hr(P,{format:x}),from:r==null?void 0:r.address,accessList:i,blobs:c,blobVersionedHashes:u,data:l,gas:b,gasPrice:y,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:k,to:N,value:v}),F=await e.request({method:"eth_estimateGas",params:T?[I,A??"latest",T]:A?[I,A]:[I]});return BigInt(F)}catch(i){throw Cn(i,{...t,account:r,chain:e.chain})}}async function zn(e,t){const{abi:a,address:r,args:n,functionName:s,...o}=t,i=L({abi:a,args:n,functionName:s});try{return await E(e,zt,"estimateGas")({data:i,to:r,...o})}catch(c){const u=o.account?_(o.account):void 0;throw be(c,{abi:a,address:r,args:n,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u==null?void 0:u.address})}}const kr="/docs/contract/decodeEventLog";tt=function(e){const{abi:t,data:a,strict:r,topics:n}=e,s=r??!0,[o,...i]=n;if(!o)throw new xa({docsPath:kr});const c=t.find(p=>p.type==="event"&&o===Me(z(p)));if(!(c&&"name"in c)||c.type!=="event")throw new Et(o,{docsPath:kr});const{name:u,inputs:d}=c,f=d==null?void 0:d.some(p=>!("name"in p&&p.name));let l=f?[]:{};const b=d.filter(p=>"indexed"in p&&p.indexed);for(let p=0;p<b.length;p++){const m=b[p],h=i[p];if(!h)throw new Pe({abiItem:c,param:m});l[f?p:m.name||p]=Gn({param:m,value:h})}const y=d.filter(p=>!("indexed"in p&&p.indexed));if(y.length>0){if(a&&a!=="0x")try{const p=Ce(y,a);if(p)if(f)l=[...l,...p];else for(let m=0;m<y.length;m++)l[y[m].name]=p[m]}catch(p){if(s)throw p instanceof wt||p instanceof Io?new ce({abiItem:c,data:a,params:y,size:R(a)}):p}else if(s)throw new ce({abiItem:c,data:"0x",params:y,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}};function Gn({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Ce([e],t)||[])[0]}rt=function({abi:e,eventName:t,logs:a,strict:r=!0}){return a.map(n=>{var s;try{const o=tt({...n,abi:e,strict:r});return t&&!t.includes(o.eventName)?null:{...o,...n}}catch(o){let i,c;if(o instanceof Et)return null;if(o instanceof ce||o instanceof Pe){if(r)return null;i=o.abiItem.name,c=(s=o.abiItem.inputs)==null?void 0:s.some(u=>!("name"in u&&u.name))}return{...n,args:c?[]:{},eventName:i}}}).filter(Boolean)};async function Gt(e,{address:t,blockHash:a,fromBlock:r,toBlock:n,event:s,events:o,args:i,strict:c}={}){const u=c??!1,d=o??(s?[s]:void 0);let f=[];d&&(f=[d.flatMap(y=>fe({abi:[y],eventName:y.name,args:i}))],s&&(f=f[0]));let l;a?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:a}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof r=="bigint"?B(r):r,toBlock:typeof n=="bigint"?B(n):n}]});const b=l.map(y=>Q(y));return d?rt({abi:d,logs:b,strict:u}):b}async function xr(e,t){const{abi:a,address:r,args:n,blockHash:s,eventName:o,fromBlock:i,toBlock:c,strict:u}=t,d=o?pe({abi:a,name:o}):void 0,f=d?void 0:a.filter(l=>l.type==="event");return E(e,Gt,"getLogs")({address:r,args:n,blockHash:s,event:d,events:f,fromBlock:i,toBlock:c,strict:u})}const Lt="/docs/contract/decodeFunctionResult";ae=function(e){const{abi:t,args:a,functionName:r,data:n}=e;let s=t[0];if(r){const i=pe({abi:t,args:a,name:r});if(!i)throw new we(r,{docsPath:Lt});s=i}if(s.type!=="function")throw new we(void 0,{docsPath:Lt});if(!s.outputs)throw new Na(s.name,{docsPath:Lt});const o=Ce(s.outputs,n);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]};let _t,Ut,Nr,Ht,Wt,Tr,Br;at=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],_t=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Ut=[..._t,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Nr=[..._t,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Ht=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Wt=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Tr=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],Br="0x82ad56cb",ne=function({blockNumber:e,chain:t,contract:a}){var n;const r=(n=t==null?void 0:t.contracts)==null?void 0:n[a];if(!r)throw new yt({chain:t,contract:{name:a}});if(e&&r.blockCreated&&r.blockCreated>e)throw new yt({blockNumber:e,chain:t,contract:{name:a,blockCreated:r.blockCreated}});return r.address};function Ln(e,{docsPath:t,...a}){const r=(()=>{const n=mr(e,a);return n instanceof ht?e:n})();return new xt(r,{docsPath:t,...a})}const Vt=new Map;function Ar({fn:e,id:t,shouldSplitBatch:a,wait:r=0,sort:n}){const s=async()=>{const d=c();o();const f=d.map(({args:l})=>l);f.length!==0&&e(f).then(l=>{var b;n&&Array.isArray(l)&&l.sort(n);for(let y=0;y<d.length;y++){const{pendingPromise:p}=d[y];(b=p.resolve)==null||b.call(p,[l[y],l])}}).catch(l=>{var b;for(let y=0;y<d.length;y++){const{pendingPromise:p}=d[y];(b=p.reject)==null||b.call(p,l)}})},o=()=>Vt.delete(t),i=()=>c().map(({args:d})=>d),c=()=>Vt.get(t)||[],u=d=>Vt.set(t,[...c(),d]);return{flush:o,async schedule(d){const f={},l=new Promise((b,y)=>{f.resolve=b,f.reject=y});return a!=null&&a([...i(),d])&&s(),c().length>0?(u({args:d,pendingPromise:f}),l):(u({args:d,pendingPromise:f}),setTimeout(s,r),l)}}}async function Le(e,t){var v,w,P,A;const{account:a=e.account,batch:r=!!((v=e.batch)!=null&&v.multicall),blockNumber:n,blockTag:s="latest",accessList:o,blobs:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:b,nonce:y,to:p,value:m,stateOverride:h,...k}=t,N=a?_(a):void 0;try{Xe(t);const T=(n?B(n):void 0)||s,x=gr(h),I=(A=(P=(w=e.chain)==null?void 0:w.formatters)==null?void 0:P.transactionRequest)==null?void 0:A.format,F=(I||ma)({...hr(k,{format:I}),from:N==null?void 0:N.address,accessList:o,blobs:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:b,nonce:y,to:p,value:m});if(r&&_n({request:F})&&!x)try{return await Un(e,{...F,blockNumber:n,blockTag:s})}catch(V){if(!(V instanceof ha)&&!(V instanceof yt))throw V}const C=await e.request({method:"eth_call",params:x?[F,T,x]:[F,T]});return C==="0x"?{data:void 0}:{data:C}}catch(T){const x=Hn(T),{offchainLookup:I,offchainLookupSignature:F}=await no(async()=>{const{offchainLookup:C,offchainLookupSignature:V}=await Promise.resolve().then(()=>Rs);return{offchainLookup:C,offchainLookupSignature:V}},void 0);if(e.ccipRead!==!1&&(x==null?void 0:x.slice(0,10))===F&&p)return{data:await I(e,{data:x,to:p})};throw Ln(T,{...t,account:N,chain:e.chain})}}function _n({request:e}){const{data:t,to:a,...r}=e;return!(!t||t.startsWith(Br)||!a||Object.values(r).filter(n=>typeof n<"u").length>0)}async function Un(e,t){var y;const{batchSize:a=1024,wait:r=0}=typeof((y=e.batch)==null?void 0:y.multicall)=="object"?e.batch.multicall:{},{blockNumber:n,blockTag:s="latest",data:o,multicallAddress:i,to:c}=t;let u=i;if(!u){if(!e.chain)throw new ha;u=ne({blockNumber:n,chain:e.chain,contract:"multicall3"})}const d=(n?B(n):void 0)||s,{schedule:f}=Ar({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(p){return p.reduce((m,{data:h})=>m+(h.length-2),0)>a*2},fn:async p=>{const m=p.map(N=>({allowFailure:!0,callData:N.data,target:N.to})),h=L({abi:at,args:[m],functionName:"aggregate3"}),k=await e.request({method:"eth_call",params:[{data:h,to:u},d]});return ae({abi:at,args:[m],functionName:"aggregate3",data:k||"0x"})}}),[{returnData:l,success:b}]=await f({data:o,to:c});if(!b)throw new Qe({data:l});return l==="0x"?{data:void 0}:{data:l}}function Hn(e){var a;if(!(e instanceof g))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(a=t.data)==null?void 0:a.data:t.data}async function H(e,t){const{abi:a,address:r,args:n,functionName:s,...o}=t,i=L({abi:a,args:n,functionName:s});try{const{data:c}=await E(e,Le,"call")({...o,data:i,to:r});return ae({abi:a,args:n,functionName:s,data:c||"0x"})}catch(c){throw be(c,{abi:a,address:r,args:n,docsPath:"/docs/contract/readContract",functionName:s})}}async function Wn(e,t){const{abi:a,address:r,args:n,dataSuffix:s,functionName:o,...i}=t,c=i.account?_(i.account):e.account,u=L({abi:a,args:n,functionName:o});try{const{data:d}=await E(e,Le,"call")({batch:!1,data:`${u}${s?s.replace("0x",""):""}`,to:r,...i,account:c}),f=ae({abi:a,args:n,functionName:o,data:d||"0x"}),l=a.filter(b=>"name"in b&&b.name===t.functionName);return{result:f,request:{abi:l,address:r,args:n,dataSuffix:s,functionName:o,...i,account:c}}}catch(d){throw be(d,{abi:a,address:r,args:n,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const Jt=new Map,Ir=new Map;let Vn=0;function W(e,t,a){const r=++Vn,n=()=>Jt.get(e)||[],s=()=>{const d=n();Jt.set(e,d.filter(f=>f.id!==r))},o=()=>{const d=Ir.get(e);n().length===1&&d&&d(),s()},i=n();if(Jt.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return o;const c={};for(const d in t)c[d]=(...f)=>{var b,y;const l=n();if(l.length!==0)for(const p of l)(y=(b=p.fns)[d])==null||y.call(b,...f)};const u=a(c);return typeof u=="function"&&Ir.set(e,u),o}async function Zt(e){return new Promise(t=>setTimeout(t,e))}function _e(e,{emitOnBegin:t,initialWaitTime:a,interval:r}){let n=!0;const s=()=>n=!1;return(async()=>{let o;t&&(o=await e({unpoll:s}));const i=await(a==null?void 0:a(o))??r;await Zt(i);const c=async()=>{n&&(await e({unpoll:s}),await Zt(r),c())};c()})(),s}const Jn=new Map,Zn=new Map;function Kn(e){const t=(n,s)=>({clear:()=>s.delete(n),get:()=>s.get(n),set:o=>s.set(n,o)}),a=t(e,Jn),r=t(e,Zn);return{clear:()=>{a.clear(),r.clear()},promise:a,response:r}}async function Yn(e,{cacheKey:t,cacheTime:a=Number.POSITIVE_INFINITY}){const r=Kn(t),n=r.response.get();if(n&&a>0&&new Date().getTime()-n.created.getTime()<a)return n.data;let s=r.promise.get();s||(s=e(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Qn=e=>`blockNumber.${e}`;async function Ue(e,{cacheTime:t=e.cacheTime}={}){const a=await Yn(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Qn(e.uid),cacheTime:t});return BigInt(a)}async function ct(e,{filter:t}){const a="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const n=r.map(s=>Q(s));return!("abi"in t)||!t.abi?n:rt({abi:t.abi,logs:n,strict:a})}async function ut(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Xn(e,t){const{abi:a,address:r,args:n,batch:s=!0,eventName:o,fromBlock:i,onError:c,onLogs:u,poll:d,pollingInterval:f=e.pollingInterval,strict:l}=t;return(typeof d<"u"?d:typeof i=="bigint"||!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const b=l??!1,y=O(["watchContractEvent",r,n,s,e.uid,o,f,b,i]);return W(y,{onLogs:u,onError:c},p=>{let m;i!==void 0&&(m=i-1n);let h,k=!1;const N=_e(async()=>{var v;if(!k){try{h=await E(e,ur,"createContractEventFilter")({abi:a,address:r,args:n,eventName:o,strict:b,fromBlock:i})}catch{}k=!0;return}try{let w;if(h)w=await E(e,ct,"getFilterChanges")({filter:h});else{const P=await E(e,Ue,"getBlockNumber")({});m&&m!==P?w=await E(e,xr,"getContractEvents")({abi:a,address:r,args:n,eventName:o,fromBlock:m+1n,toBlock:P,strict:b}):w=[],m=P}if(w.length===0)return;if(s)p.onLogs(w);else for(const P of w)p.onLogs([P])}catch(w){h&&w instanceof ee&&(k=!1),(v=p.onError)==null||v.call(p,w)}},{emitOnBegin:!0,interval:f});return async()=>{h&&await E(e,ut,"uninstallFilter")({filter:h}),N()}})})():(()=>{const b=l??!1,y=O(["watchContractEvent",r,n,s,e.uid,o,f,b]);let p=!0,m=()=>p=!1;return W(y,{onLogs:u,onError:c},h=>((async()=>{try{const k=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(P=>P.config.type==="webSocket");return w?w.value:e.transport}return e.transport})(),N=o?fe({abi:a,eventName:o,args:n}):[],{unsubscribe:v}=await k.subscribe({params:["logs",{address:r,topics:N}],onData(w){var A;if(!p)return;const P=w.result;try{const{eventName:T,args:x}=tt({abi:a,data:P.data,topics:P.topics,strict:l}),I=Q(P,{args:x,eventName:T});h.onLogs([I])}catch(T){let x,I;if(T instanceof ce||T instanceof Pe){if(l)return;x=T.abiItem.name,I=(A=T.abiItem.inputs)==null?void 0:A.some(C=>!("name"in C&&C.name))}const F=Q(P,{args:I?[]:{},eventName:x});h.onLogs([F])}},onError(w){var P;(P=h.onError)==null||P.call(h,w)}});m=v,p||m()}catch(k){c==null||c(k)}})(),()=>m()))})()}async function es(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Kt=256;let lt=Kt,dt;function ts(e=11){if(!dt||lt+e>Kt*2){dt="",lt=0;for(let t=0;t<Kt;t++)dt+=(256+Math.random()*256|0).toString(16).substring(1)}return dt.substring(lt,lt+++e)}Ha=function(e){const{batch:t,cacheTime:a=e.pollingInterval??4e3,ccipRead:r,key:n="base",name:s="Base Client",pollingInterval:o=4e3,type:i="base"}=e,c=e.chain,u=e.account?_(e.account):void 0,{config:d,request:f,value:l}=e.transport({chain:c,pollingInterval:o}),b={...d,...l},y={account:u,batch:t,cacheTime:a,ccipRead:r,chain:c,key:n,name:s,pollingInterval:o,request:f,transport:b,type:i,uid:ts()};function p(m){return h=>{const k=h(m);for(const v in y)delete k[v];const N={...m,...k};return Object.assign(N,{extend:p(N)})}}return Object.assign(y,{extend:p(y)})},st=function(e,{delay:t=100,retryCount:a=2,shouldRetry:r=()=>!0}={}){return new Promise((n,s)=>{const o=async({count:i=0}={})=>{const c=async({error:u})=>{const d=typeof t=="function"?t({count:i,error:u}):t;d&&await Zt(d),o({count:i+1})};try{const u=await e();n(u)}catch(u){if(i<a&&await r({count:i,error:u}))return c({error:u});s(u)}};o()})};function as(e,t={}){return async(a,r={})=>{const{retryDelay:n=150,retryCount:s=3}={...t,...r};return st(async()=>{try{return await e(a)}catch(o){const i=o;switch(i.code){case Be.code:throw new Be(i);case ke.code:throw new ke(i);case Ne.code:throw new Ne(i);case Ee.code:throw new Ee(i);case X.code:throw new X(i);case ee.code:throw new ee(i);case Ie.code:throw new Ie(i);case Oe.code:throw new Oe(i);case je.code:throw new je(i);case Te.code:throw new Te(i);case le.code:throw new le(i);case xe.code:throw new xe(i);case de.code:throw new de(i);case Re.code:throw new Re(i);case $e.code:throw new $e(i);case Ae.code:throw new Ae(i);case ve.code:throw new ve(i);case Fe.code:throw new Fe(i);case 5e3:throw new de(i);default:throw o instanceof g?o:new za(i)}}},{delay:({count:o,error:i})=>{var c;if(i&&i instanceof G){const u=(c=i==null?void 0:i.headers)==null?void 0:c.get("Retry-After");if(u!=null&&u.match(/\d/))return Number.parseInt(u)*1e3}return~~(1<<o)*n},retryCount:s,shouldRetry:({error:o})=>rs(o)})}}function rs(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===le.code||e.code===X.code:e instanceof G&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}Wa=function({key:e,name:t,request:a,retryCount:r=3,retryDelay:n=150,timeout:s,type:o},i){return{config:{key:e,name:t,request:a,retryCount:r,retryDelay:n,timeout:s,type:o},request:as(a,{retryCount:r,retryDelay:n}),value:i}},Ga=class extends g{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}},nr=function(e,{errorInstance:t=new Error("timed out"),timeout:a,signal:r}){return new Promise((n,s)=>{(async()=>{let o;try{const i=new AbortController;a>0&&(o=setTimeout(()=>{r?i.abort():s(t)},a)),n(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){i.name==="AbortError"&&s(t),s(i)}finally{clearTimeout(o)}})()})};function ns(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Or=ns();function ss(e,t={}){return{async request(a){var f;const{body:r,onRequest:n=t.onRequest,onResponse:s=t.onResponse,timeout:o=t.timeout??1e4}=a,i={...t.fetchOptions??{},...a.fetchOptions??{}},{headers:c,method:u,signal:d}=i;try{const l=await nr(async({signal:y})=>{const p={...i,body:Array.isArray(r)?O(r.map(h=>({jsonrpc:"2.0",id:h.id??Or.take(),...h}))):O({jsonrpc:"2.0",id:r.id??Or.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:u||"POST",signal:d||(o>0?y:null)},m=new Request(e,p);return n&&await n(m),await fetch(e,p)},{errorInstance:new Tt({body:r,url:e}),timeout:o,signal:!0});s&&await s(l);let b;if((f=l.headers.get("Content-Type"))!=null&&f.startsWith("application/json")?b=await l.json():(b=await l.text(),b=JSON.parse(b||"{}")),!l.ok)throw new G({body:r,details:O(b.error)||l.statusText,headers:l.headers,status:l.status,url:e});return b}catch(l){throw l instanceof G||l instanceof Tt?l:new G({body:r,details:l.message,url:e})}}}}on=function(e,t={}){const{batch:a,fetchOptions:r,key:n="http",name:s="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:i,retryDelay:c}=t;return({chain:u,retryCount:d,timeout:f})=>{const{batchSize:l=1e3,wait:b=0}=typeof a=="object"?a:{},y=t.retryCount??d,p=f??t.timeout??1e4,m=e||(u==null?void 0:u.rpcUrls.default.http[0]);if(!m)throw new Ga;const h=ss(m,{fetchOptions:r,onRequest:o,onResponse:i,timeout:p});return Wa({key:n,name:s,async request({method:k,params:N}){const v={method:k,params:N},{schedule:w}=Ar({id:m,wait:b,shouldSplitBatch(x){return x.length>l},fn:x=>h.request({body:x}),sort:(x,I)=>x.id-I.id}),P=async x=>a?w(x):[await h.request({body:x})],[{error:A,result:T}]=await P(v);if(A)throw new Nt({body:v,error:A,url:m});return T},retryCount:y,retryDelay:c,timeout:p,type:"http"},{fetchOptions:r,url:m})}};function Yt(e,t){var r,n,s,o,i,c;if(!(e instanceof g))return!1;const a=e.walk(u=>u instanceof Ze);return a instanceof Ze?!!(((r=a.data)==null?void 0:r.errorName)==="ResolverNotFound"||((n=a.data)==null?void 0:n.errorName)==="ResolverWildcardNotSupported"||((s=a.data)==null?void 0:s.errorName)==="ResolverNotContract"||((o=a.data)==null?void 0:o.errorName)==="ResolverError"||((i=a.data)==null?void 0:i.errorName)==="HttpError"||(c=a.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&a.reason===dr[50]):!1}function Fr(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return oe(t)?t:null}De=function(e){let t=new Uint8Array(32).fill(0);if(!e)return S(t);const a=e.split(".");for(let r=a.length-1;r>=0;r-=1){const n=Fr(a[r]),s=n?se(n):$(K(a[r]),"bytes");t=$(q([t,s]),"bytes")}return S(t)};function os(e){return`[${e.slice(2)}]`}Ya=function(e){const t=new Uint8Array(32).fill(0);return e?Fr(e)||$(K(e)):S(t)};function ft(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const a=new Uint8Array(K(t).byteLength+2);let r=0;const n=t.split(".");for(let s=0;s<n.length;s++){let o=K(n[s]);o.byteLength>255&&(o=K(os(Ya(n[s])))),a[r]=o.length,a.set(o,r+1),r+=o.length+1}return a.byteLength!==r+1?a.slice(0,r+1):a}async function is(e,{blockNumber:t,blockTag:a,coinType:r,name:n,gatewayUrls:s,strict:o,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=ne({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=L({abi:Wt,functionName:"addr",...r!=null?{args:[De(n),BigInt(r)]}:{args:[De(n)]}}),d={address:c,abi:Ut,functionName:"resolve",args:[ie(ft(n)),u],blockNumber:t,blockTag:a},f=E(e,H,"readContract"),l=s?await f({...d,args:[...d.args,s]}):await f(d);if(l[0]==="0x")return null;const b=ae({abi:Wt,args:r!=null?[De(n),BigInt(r)]:void 0,functionName:"addr",data:l[0]});return b==="0x"||He(b)==="0x00"?null:b}catch(u){if(o)throw u;if(Yt(u,"resolve"))return null;throw u}}class cs extends g{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}ue=class extends g{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}},Ye=class extends g{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}},Fa=class extends g{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}};const us=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ls=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,ds=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,fs=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function ps(e){var t;try{const a=await fetch(e,{method:"HEAD"});return a.status===200?(t=a.headers.get("content-type"))==null?void 0:t.startsWith("image/"):!1}catch(a){return typeof a=="object"&&typeof a.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=e})}}function jr(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Rr({uri:e,gatewayUrls:t}){const a=ds.test(e);if(a)return{uri:e,isOnChain:!0,isEncoded:a};const r=jr(t==null?void 0:t.ipfs,"https://ipfs.io"),n=jr(t==null?void 0:t.arweave,"https://arweave.net"),s=e.match(us),{protocol:o,subpath:i,target:c,subtarget:u=""}=(s==null?void 0:s.groups)||{},d=o==="ipns:/"||i==="ipns/",f=o==="ipfs:/"||i==="ipfs/"||ls.test(e);if(e.startsWith("http")&&!d&&!f){let b=e;return t!=null&&t.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((d||f)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${n}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(fs,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Ye({uri:e})}function $r(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new cs({data:e});return e.image||e.image_url||e.image_data}async function bs({gatewayUrls:e,uri:t}){try{const a=await fetch(t).then(r=>r.json());return await Qt({gatewayUrls:e,uri:$r(a)})}catch{throw new Ye({uri:t})}}async function Qt({gatewayUrls:e,uri:t}){const{uri:a,isOnChain:r}=Rr({uri:t,gatewayUrls:e});if(r||await ps(a))return a;throw new Ye({uri:t})}function ms(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[a,r,n]=t.split("/"),[s,o]=a.split(":"),[i,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new ue({reason:"Only EIP-155 supported"});if(!o)throw new ue({reason:"Chain ID not found"});if(!c)throw new ue({reason:"Contract address not found"});if(!n)throw new ue({reason:"Token ID not found"});if(!i)throw new ue({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:i.toLowerCase(),contractAddress:c,tokenID:n}}async function hs(e,{nft:t}){if(t.namespace==="erc721")return H(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return H(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Fa({namespace:t.namespace})}async function ys(e,{gatewayUrls:t,record:a}){return/eip155:/i.test(a)?gs(e,{gatewayUrls:t,record:a}):Qt({uri:a,gatewayUrls:t})}async function gs(e,{gatewayUrls:t,record:a}){const r=ms(a),n=await hs(e,{nft:r}),{uri:s,isOnChain:o,isEncoded:i}=Rr({uri:n,gatewayUrls:t});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const u=i?atob(s.replace("data:application/json;base64,","")):s,d=JSON.parse(u);return Qt({uri:$r(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),bs({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}async function Cr(e,{blockNumber:t,blockTag:a,name:r,key:n,gatewayUrls:s,strict:o,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=ne({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:Ut,functionName:"resolve",args:[ie(ft(r)),L({abi:Ht,functionName:"text",args:[De(r),n]})],blockNumber:t,blockTag:a},d=E(e,H,"readContract"),f=s?await d({...u,args:[...u.args,s]}):await d(u);if(f[0]==="0x")return null;const l=ae({abi:Ht,functionName:"text",data:f[0]});return l===""?null:l}catch(u){if(o)throw u;if(Yt(u,"resolve"))return null;throw u}}async function ws(e,{blockNumber:t,blockTag:a,assetGatewayUrls:r,name:n,gatewayUrls:s,strict:o,universalResolverAddress:i}){const c=await E(e,Cr,"getEnsText")({blockNumber:t,blockTag:a,key:"avatar",name:n,universalResolverAddress:i,gatewayUrls:s,strict:o});if(!c)return null;try{return await ys(e,{record:c,gatewayUrls:r})}catch{return null}}async function vs(e,{address:t,blockNumber:a,blockTag:r,gatewayUrls:n,strict:s,universalResolverAddress:o}){let i=o;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=ne({blockNumber:a,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:i,abi:Nr,functionName:"reverse",args:[ie(ft(c))],blockNumber:a,blockTag:r},d=E(e,H,"readContract"),[f,l]=n?await d({...u,args:[...u.args,n]}):await d(u);return t.toLowerCase()!==l.toLowerCase()?null:f}catch(u){if(s)throw u;if(Yt(u,"reverse"))return null;throw u}}async function Ps(e,{blockNumber:t,blockTag:a,name:r,universalResolverAddress:n}){let s=n;if(!s){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=ne({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await E(e,H,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ie(ft(r))],blockNumber:t,blockTag:a});return o}async function Es(e){const t=it(e,{method:"eth_newBlockFilter"}),a=await e.request({method:"eth_newBlockFilter"});return{id:a,request:t(a),type:"block"}}async function Mr(e,{address:t,args:a,event:r,events:n,fromBlock:s,strict:o,toBlock:i}={}){const c=n??(r?[r]:void 0),u=it(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(l=>fe({abi:[l],eventName:l.name,args:a}))],r&&(d=d[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?B(s):s,toBlock:typeof i=="bigint"?B(i):i,...d.length?{topics:d}:{}}]});return{abi:c,args:a,eventName:r?r.name:void 0,fromBlock:s,id:f,request:u(f),strict:!!o,toBlock:i,type:"event"}}async function Sr(e){const t=it(e,{method:"eth_newPendingTransactionFilter"}),a=await e.request({method:"eth_newPendingTransactionFilter"});return{id:a,request:t(a),type:"transaction"}}async function ks(e,{address:t,blockNumber:a,blockTag:r="latest"}){const n=a?B(a):void 0,s=await e.request({method:"eth_getBalance",params:[t,n||r]});return BigInt(s)}async function xs(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Ns(e,{blockHash:t,blockNumber:a,blockTag:r="latest"}={}){const n=a!==void 0?B(a):void 0;let s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[n||r]}),ye(s)}async function Ts(e,{address:t,blockNumber:a,blockTag:r="latest"}){const n=a!==void 0?B(a):void 0,s=await e.request({method:"eth_getCode",params:[t,n||r]});if(s!=="0x")return s}function Bs(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(a=>BigInt(a)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(a=>a.map(r=>BigInt(r)))}}async function As(e,{blockCount:t,blockNumber:a,blockTag:r="latest",rewardPercentiles:n}){const s=a?B(a):void 0,o=await e.request({method:"eth_feeHistory",params:[B(t),s||r,n]});return Bs(o)}async function Is(e,{filter:t}){const a=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(n=>Q(n));return t.abi?rt({abi:t.abi,logs:r,strict:a}):r}class Os extends g{constructor({callbackSelector:t,cause:a,data:r,extraData:n,sender:s,urls:o}){var i;super(a.shortMessage||"An error occurred while fetching for an offchain result.",{cause:a,metaMessages:[...a.metaMessages||[],(i=a.metaMessages)!=null&&i.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${We(c)}`)],`  Sender: ${s}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${n}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class Fs extends g{constructor({result:t,url:a}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${We(a)}`,`Response: ${O(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class js extends g{constructor({sender:t,to:a}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${a}`,`OffchainLookup sender address: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}It=function(e,t){if(!M(e,{strict:!1}))throw new J({address:e});if(!M(t,{strict:!1}))throw new J({address:t});return e.toLowerCase()===t.toLowerCase()},Xa="0x556f1830",Ot={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]},Qa=async function(e,{blockNumber:t,blockTag:a,data:r,to:n}){const{args:s}=Bt({data:r,abi:[Ot]}),[o,i,c,u,d]=s,{ccipRead:f}=e,l=f&&typeof(f==null?void 0:f.request)=="function"?f.request:et;try{if(!It(n,o))throw new js({sender:o,to:n});const b=await l({data:c,sender:o,urls:i}),{data:y}=await Le(e,{blockNumber:t,blockTag:a,data:q([u,re([{type:"bytes"},{type:"bytes"}],[b,d])]),to:n});return y}catch(b){throw new Os({callbackSelector:u,cause:b,data:r,extraData:d,sender:o,urls:i})}},et=async function({data:e,sender:t,urls:a}){var n;let r=new Error("An unknown error occurred.");for(let s=0;s<a.length;s++){const o=a[s],i=o.includes("{data}")?"GET":"POST",c=i==="POST"?{data:e,sender:t}:void 0;try{const u=await fetch(o.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(c),method:i});let d;if((n=u.headers.get("Content-Type"))!=null&&n.startsWith("application/json")?d=(await u.json()).data:d=await u.text(),!u.ok){r=new G({body:c,details:d!=null&&d.error?O(d.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!oe(d)){r=new Fs({result:d,url:o});continue}return d}catch(u){r=new G({body:c,details:u.message,url:o})}}throw r};const Rs=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:et,offchainLookup:Qa,offchainLookupAbiItem:Ot,offchainLookupSignature:Xa},Symbol.toStringTag,{value:"Module"}));sn=function({chains:e,id:t}){return e.find(a=>a.id===t)};const $s=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Cs=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;Ka=function(e){const{domain:t={},message:a,primaryType:r}=e,n={EIP712Domain:Ja({domain:t}),...e.types};rr({domain:t,message:a,primaryType:r,types:n});const s=["0x1901"];return t&&s.push(Za({domain:t,types:n})),r!=="EIP712Domain"&&s.push(qr({data:a,primaryType:r,types:n})),$(q(s))},Za=function({domain:e,types:t}){return qr({data:e,primaryType:"EIP712Domain",types:t})};function qr({data:e,primaryType:t,types:a}){const r=Dr({data:e,primaryType:t,types:a});return $(r)}function Dr({data:e,primaryType:t,types:a}){const r=[{type:"bytes32"}],n=[Ms({primaryType:t,types:a})];for(const s of a[t]){const[o,i]=Gr({types:a,name:s.name,type:s.type,value:e[s.name]});r.push(o),n.push(i)}return re(r,n)}function Ms({primaryType:e,types:t}){const a=ie(Ss({primaryType:e,types:t}));return $(a)}function Ss({primaryType:e,types:t}){let a="";const r=zr({primaryType:e,types:t});r.delete(e);const n=[e,...Array.from(r).sort()];for(const s of n)a+=`${s}(${t[s].map(({name:o,type:i})=>`${i} ${o}`).join(",")})`;return a}function zr({primaryType:e,types:t},a=new Set){var n;const r=(n=e.match(/^\w*/u))==null?void 0:n[0];if(a.has(r)||t[r]===void 0)return a;a.add(r);for(const s of t[r])zr({primaryType:s.type,types:t},a);return a}function Gr({types:e,name:t,type:a,value:r}){if(e[a]!==void 0)return[{type:"bytes32"},$(Dr({data:r,primaryType:a,types:e}))];if(a==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},$(r)];if(a==="string")return[{type:"bytes32"},$(ie(r))];if(a.lastIndexOf("]")===a.length-1){const n=a.slice(0,a.lastIndexOf("[")),s=r.map(o=>Gr({name:t,type:n,types:e,value:o}));return[{type:"bytes32"},$(re(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:a},r]}rr=function(e){const{domain:t,message:a,primaryType:r,types:n}=e,s=(o,i)=>{for(const c of o){const{name:u,type:d}=c,f=i[u],l=d.match(Cs);if(l&&(typeof f=="number"||typeof f=="bigint")){const[p,m,h]=l;B(f,{signed:m==="int",size:Number.parseInt(h)/8})}if(d==="address"&&typeof f=="string"&&!M(f))throw new J({address:f});const b=d.match($s);if(b){const[p,m]=b;if(m&&R(f)!==Number.parseInt(m))throw new Aa({expectedSize:Number.parseInt(m),givenSize:R(f)})}const y=n[d];y&&s(y,f)}};if(n.EIP712Domain&&t&&s(n.EIP712Domain,t),r!=="EIP712Domain"){const o=n[r];s(o,a)}},Ja=function({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)};const Xt="/docs/contract/encodeDeployData";Va=function(e){const{abi:t,args:a,bytecode:r}=e;if(!a||a.length===0)return r;const n=t.find(o=>"type"in o&&o.type==="constructor");if(!n)throw new va({docsPath:Xt});if(!("inputs"in n))throw new gt({docsPath:Xt});if(!n.inputs||n.inputs.length===0)throw new gt({docsPath:Xt});const s=re(n.inputs,a);return na([r,s])},tr=`Ethereum Signed Message:
`,At=function(e,t){const a=typeof e=="string"?K(e):e.raw instanceof Uint8Array?e.raw:se(e.raw),r=K(`${tr}${a.length}`);return $(q([r,a]),t)};function qs(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Ds(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?ye(e.nonce):void 0,storageProof:e.storageProof?qs(e.storageProof):void 0}}async function zs(e,{address:t,blockNumber:a,blockTag:r,storageKeys:n}){const s=r??"latest",o=a!==void 0?B(a):void 0,i=await e.request({method:"eth_getProof",params:[t,n,o||s]});return Ds(i)}async function Gs(e,{address:t,blockNumber:a,blockTag:r="latest",slot:n}){const s=a!==void 0?B(a):void 0;return await e.request({method:"eth_getStorageAt",params:[t,n,s||r]})}async function ea(e,{blockHash:t,blockNumber:a,blockTag:r,hash:n,index:s}){var u,d,f;const o=r||"latest",i=a!==void 0?B(a):void 0;let c=null;if(n?c=await e.request({method:"eth_getTransactionByHash",params:[n]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,B(s)]}):(i||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,B(s)]})),!c)throw new ya({blockHash:t,blockNumber:a,blockTag:o,hash:n,index:s});return(((f=(d=(u=e.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:f.format)||an)(c)}async function Ls(e,{hash:t,transactionReceipt:a}){const[r,n]=await Promise.all([E(e,Ue,"getBlockNumber")({}),t?E(e,ea,"getBlockNumber")({hash:t}):void 0]),s=(a==null?void 0:a.blockNumber)||(n==null?void 0:n.blockNumber);return s?r-s+1n:0n}async function ta(e,{hash:t}){var r,n,s;const a=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!a)throw new ga({hash:t});return(((s=(n=(r=e.chain)==null?void 0:r.formatters)==null?void 0:n.transactionReceipt)==null?void 0:s.format)||rn)(a)}async function _s(e,t){var m;const{allowFailure:a=!0,batchSize:r,blockNumber:n,blockTag:s,multicallAddress:o,stateOverride:i}=t,c=t.contracts,u=r??(typeof((m=e.batch)==null?void 0:m.multicall)=="object"&&e.batch.multicall.batchSize||1024);let d=o;if(!d){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");d=ne({blockNumber:n,chain:e.chain,contract:"multicall3"})}const f=[[]];let l=0,b=0;for(let h=0;h<c.length;h++){const{abi:k,address:N,args:v,functionName:w}=c[h];try{const P=L({abi:k,args:v,functionName:w});b+=(P.length-2)/2,u>0&&b>u&&f[l].length>0&&(l++,b=(P.length-2)/2,f[l]=[]),f[l]=[...f[l],{allowFailure:!0,callData:P,target:N}]}catch(P){const A=be(P,{abi:k,address:N,args:v,docsPath:"/docs/contract/multicall",functionName:w});if(!a)throw A;f[l]=[...f[l],{allowFailure:!0,callData:"0x",target:N}]}}const y=await Promise.allSettled(f.map(h=>E(e,H,"readContract")({abi:at,address:d,args:[h],blockNumber:n,blockTag:s,functionName:"aggregate3",stateOverride:i}))),p=[];for(let h=0;h<y.length;h++){const k=y[h];if(k.status==="rejected"){if(!a)throw k.reason;for(let v=0;v<f[h].length;v++)p.push({status:"failure",error:k.reason,result:void 0});continue}const N=k.value;for(let v=0;v<N.length;v++){const{returnData:w,success:P}=N[v],{callData:A}=f[h][v],{abi:T,address:x,functionName:I,args:F}=c[p.length];try{if(A==="0x")throw new ge;if(!P)throw new Qe({data:w});const C=ae({abi:T,args:F,data:w,functionName:I});p.push(a?{result:C,status:"success"}:C)}catch(C){const V=be(C,{abi:T,address:x,args:F,docsPath:"/docs/contract/multicall",functionName:I});if(!a)throw V;p.push({error:V,result:void 0,status:"failure"})}}}if(p.length!==c.length)throw new g("multicall results mismatch");return p}const Us="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function Hs(e,t){const a=oe(e)?se(e):e,r=oe(t)?se(t):t;return so(a,r)}Ft=function({r:e,s:t,v:a,yParity:r}){const n=(()=>{if(r===0||r===1)return r;if(a&&(a===27n||a===28n||a>=35n))return a%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new oo.Signature(he(e),he(t)).toCompactHex()}${n===0?"1b":"1c"}`};async function aa(e,{address:t,hash:a,signature:r,...n}){const s=oe(r)?r:typeof r=="object"&&"r"in r&&"s"in r?Ft(r):S(r);try{const{data:o}=await E(e,Le,"call")({data:Va({abi:Tr,args:[t,a,s],bytecode:Us}),...n});return Hs(o??"0x0","0x1")}catch(o){if(o instanceof xt)return!1;throw o}}async function Ws(e,{address:t,message:a,signature:r,...n}){const s=At(a);return aa(e,{address:t,hash:s,signature:r,...n})}async function Vs(e,t){const{address:a,signature:r,message:n,primaryType:s,types:o,domain:i,...c}=t,u=Ka({message:n,primaryType:s,types:o,domain:i});return aa(e,{address:a,hash:u,signature:r,...c})}function Lr(e,{emitOnBegin:t=!1,emitMissed:a=!1,onBlockNumber:r,onError:n,poll:s,pollingInterval:o=e.pollingInterval}){const i=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return i?(()=>{const u=O(["watchBlockNumber",e.uid,t,a,o]);return W(u,{onBlockNumber:r,onError:n},d=>_e(async()=>{var f;try{const l=await E(e,Ue,"getBlockNumber")({cacheTime:0});if(c){if(l===c)return;if(l-c>1&&a)for(let b=c+1n;b<l;b++)d.onBlockNumber(b,c),c=b}(!c||l>c)&&(d.onBlockNumber(l,c),c=l)}catch(l){(f=d.onError)==null||f.call(d,l)}},{emitOnBegin:t,interval:o}))})():(()=>{const u=O(["watchBlockNumber",e.uid,t,a]);return W(u,{onBlockNumber:r,onError:n},d=>{let f=!0,l=()=>f=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const p=e.transport.transports.find(m=>m.config.type==="webSocket");return p?p.value:e.transport}return e.transport})(),{unsubscribe:y}=await b.subscribe({params:["newHeads"],onData(p){var h;if(!f)return;const m=he((h=p.result)==null?void 0:h.number);d.onBlockNumber(m,c),c=m},onError(p){var m;(m=d.onError)==null||m.call(d,p)}});l=y,f||l()}catch(b){n==null||n(b)}})(),()=>l()})})()}async function Js(e,{confirmations:t=1,hash:a,onReplaced:r,pollingInterval:n=e.pollingInterval,retryCount:s=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:i}){const c=O(["waitForTransactionReceipt",e.uid,a]);let u=0,d,f,l,b=!1;return new Promise((y,p)=>{i&&setTimeout(()=>p(new wa({hash:a})),i);const m=W(c,{onReplaced:r,resolve:y,reject:p},h=>{const k=E(e,Lr,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:n,async onBlockNumber(N){const v=P=>{k(),P(),m()};let w=N;if(!b){u>s&&v(()=>h.reject(new wa({hash:a})));try{if(l){if(t>1&&(!l.blockNumber||w-l.blockNumber+1n<t))return;v(()=>h.resolve(l));return}if(d||(b=!0,await st(async()=>{d=await E(e,ea,"getTransaction")({hash:a}),d.blockNumber&&(w=d.blockNumber)},{delay:o,retryCount:s}),b=!1),l=await E(e,ta,"getTransactionReceipt")({hash:a}),t>1&&(!l.blockNumber||w-l.blockNumber+1n<t))return;v(()=>h.resolve(l))}catch(P){if(P instanceof ya||P instanceof ga){if(!d){b=!1;return}try{f=d,b=!0;const A=await st(()=>E(e,U,"getBlock")({blockNumber:w,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:I})=>I instanceof kt});b=!1;const T=A.transactions.find(({from:I,nonce:F})=>I===f.from&&F===f.nonce);if(!T||(l=await E(e,ta,"getTransactionReceipt")({hash:T.hash}),t>1&&(!l.blockNumber||w-l.blockNumber+1n<t)))return;let x="replaced";T.to===f.to&&T.value===f.value?x="repriced":T.from===T.to&&T.value===0n&&(x="cancelled"),v(()=>{var I;(I=h.onReplaced)==null||I.call(h,{reason:x,replacedTransaction:f,transaction:T,transactionReceipt:l}),h.resolve(l)})}catch(A){v(()=>h.reject(A))}}else v(()=>h.reject(P))}finally{u++}}}})})})}function Zs(e,{blockTag:t="latest",emitMissed:a=!1,emitOnBegin:r=!1,onBlock:n,onError:s,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const u=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),d=o??!1;let f;return u?(()=>{const l=O(["watchBlocks",e.uid,t,a,r,d,c]);return W(l,{onBlock:n,onError:s},b=>_e(async()=>{var y;try{const p=await E(e,U,"getBlock")({blockTag:t,includeTransactions:d});if(p.number&&(f!=null&&f.number)){if(p.number===f.number)return;if(p.number-f.number>1&&a)for(let m=(f==null?void 0:f.number)+1n;m<p.number;m++){const h=await E(e,U,"getBlock")({blockNumber:m,includeTransactions:d});b.onBlock(h,f),f=h}}(!(f!=null&&f.number)||t==="pending"&&!(p!=null&&p.number)||p.number&&p.number>f.number)&&(b.onBlock(p,f),f=p)}catch(p){(y=b.onError)==null||y.call(b,p)}},{emitOnBegin:r,interval:c}))})():(()=>{let l=!0,b=()=>l=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(h=>h.config.type==="webSocket");return m?m.value:e.transport}return e.transport})(),{unsubscribe:p}=await y.subscribe({params:["newHeads"],onData(m){var k,N,v;if(!l)return;const h=(((v=(N=(k=e.chain)==null?void 0:k.formatters)==null?void 0:N.block)==null?void 0:v.format)||ba)(m.result);n(h,f),f=h},onError(m){s==null||s(m)}});b=p,l||b()}catch(y){s==null||s(y)}})(),()=>b()})()}function Ks(e,{address:t,args:a,batch:r=!0,event:n,events:s,fromBlock:o,onError:i,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:f}){const l=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),b=f??!1;return l?(()=>{const y=O(["watchEvent",t,a,r,e.uid,n,d,o]);return W(y,{onLogs:c,onError:i},p=>{let m;o!==void 0&&(m=o-1n);let h,k=!1;const N=_e(async()=>{var v;if(!k){try{h=await E(e,Mr,"createEventFilter")({address:t,args:a,event:n,events:s,strict:b,fromBlock:o})}catch{}k=!0;return}try{let w;if(h)w=await E(e,ct,"getFilterChanges")({filter:h});else{const P=await E(e,Ue,"getBlockNumber")({});m&&m!==P?w=await E(e,Gt,"getLogs")({address:t,args:a,event:n,events:s,fromBlock:m+1n,toBlock:P}):w=[],m=P}if(w.length===0)return;if(r)p.onLogs(w);else for(const P of w)p.onLogs([P])}catch(w){h&&w instanceof ee&&(k=!1),(v=p.onError)==null||v.call(p,w)}},{emitOnBegin:!0,interval:d});return async()=>{h&&await E(e,ut,"uninstallFilter")({filter:h}),N()}})})():(()=>{let y=!0,p=()=>y=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(w=>w.config.type==="webSocket");return v?v.value:e.transport}return e.transport})(),h=s??(n?[n]:void 0);let k=[];h&&(k=[h.flatMap(v=>fe({abi:[v],eventName:v.name,args:a}))],n&&(k=k[0]));const{unsubscribe:N}=await m.subscribe({params:["logs",{address:t,topics:k}],onData(v){var P;if(!y)return;const w=v.result;try{const{eventName:A,args:T}=tt({abi:h??[],data:w.data,topics:w.topics,strict:b}),x=Q(w,{args:T,eventName:A});c([x])}catch(A){let T,x;if(A instanceof ce||A instanceof Pe){if(f)return;T=A.abiItem.name,x=(P=A.abiItem.inputs)==null?void 0:P.some(F=>!("name"in F&&F.name))}const I=Q(w,{args:x?[]:{},eventName:T});c([I])}},onError(v){i==null||i(v)}});p=N,y||p()}catch(m){i==null||i(m)}})(),()=>p()})()}function Ys(e,{batch:t=!0,onError:a,onTransactions:r,poll:n,pollingInterval:s=e.pollingInterval}){return(typeof n<"u"?n:e.transport.type!=="webSocket")?(()=>{const o=O(["watchPendingTransactions",e.uid,t,s]);return W(o,{onTransactions:r,onError:a},i=>{let c;const u=_e(async()=>{var d;try{if(!c)try{c=await E(e,Sr,"createPendingTransactionFilter")({});return}catch(l){throw u(),l}const f=await E(e,ct,"getFilterChanges")({filter:c});if(f.length===0)return;if(t)i.onTransactions(f);else for(const l of f)i.onTransactions([l])}catch(f){(d=i.onError)==null||d.call(i,f)}},{emitOnBegin:!0,interval:s});return async()=>{c&&await E(e,ut,"uninstallFilter")({filter:c}),u()}})})():(()=>{let o=!0,i=()=>o=!1;return(async()=>{try{const{unsubscribe:c}=await e.transport.subscribe({params:["newPendingTransactions"],onData(u){if(!o)return;const d=u.result;r([d])},onError(u){a==null||a(u)}});i=c,o||i()}catch(c){a==null||a(c)}})(),()=>i()})()}function Qs(e){var f,l,b;const{scheme:t,statement:a,...r}=((f=e.match(Xs))==null?void 0:f.groups)??{},{chainId:n,expirationTime:s,issuedAt:o,notBefore:i,requestId:c,...u}=((l=e.match(eo))==null?void 0:l.groups)??{},d=(b=e.split("Resources:")[1])==null?void 0:b.split(`
- `).slice(1);return{...r,...u,...n?{chainId:Number(n)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...a?{statement:a}:{}}}const Xs=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,eo=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function to(e){const{address:t,domain:a,message:r,nonce:n,scheme:s,time:o=new Date}=e;if(a&&r.domain!==a||n&&r.nonce!==n||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||t&&!It(r.address,t))return!1}catch{return!1}return!0}async function ao(e,t){const{address:a,domain:r,message:n,nonce:s,scheme:o,signature:i,time:c=new Date,...u}=t,d=Qs(n);if(!d.address||!to({address:a,domain:r,message:d,nonce:s,scheme:o,time:c}))return!1;const f=At(n);return aa(e,{address:d.address,hash:f,signature:i,...u})}ar=function(e){return{call:t=>Le(e,t),createBlockFilter:()=>Es(e),createContractEventFilter:t=>ur(e,t),createEventFilter:t=>Mr(e,t),createPendingTransactionFilter:()=>Sr(e),estimateContractGas:t=>zn(e,t),estimateGas:t=>zt(e,t),getBalance:t=>ks(e,t),getBlobBaseFee:()=>xs(e),getBlock:t=>U(e,t),getBlockNumber:t=>Ue(e,t),getBlockTransactionCount:t=>Ns(e,t),getBytecode:t=>Ts(e,t),getChainId:()=>Pr(e),getContractEvents:t=>xr(e,t),getEnsAddress:t=>is(e,t),getEnsAvatar:t=>ws(e,t),getEnsName:t=>vs(e,t),getEnsResolver:t=>Ps(e,t),getEnsText:t=>Cr(e,t),getFeeHistory:t=>As(e,t),estimateFeesPerGas:t=>qn(e,t),getFilterChanges:t=>ct(e,t),getFilterLogs:t=>Is(e,t),getGasPrice:()=>qt(e),getLogs:t=>Gt(e,t),getProof:t=>zs(e,t),estimateMaxPriorityFeePerGas:t=>Sn(e,t),getStorageAt:t=>Gs(e,t),getTransaction:t=>ea(e,t),getTransactionConfirmations:t=>Ls(e,t),getTransactionCount:t=>vr(e,t),getTransactionReceipt:t=>ta(e,t),multicall:t=>_s(e,t),prepareTransactionRequest:t=>Er(e,t),readContract:t=>H(e,t),sendRawTransaction:t=>es(e,t),simulateContract:t=>Wn(e,t),verifyMessage:t=>Ws(e,t),verifySiweMessage:t=>ao(e,t),verifyTypedData:t=>Vs(e,t),uninstallFilter:t=>ut(e,t),waitForTransactionReceipt:t=>Js(e,t),watchBlocks:t=>Zs(e,t),watchBlockNumber:t=>Lr(e,t),watchContractEvent:t=>Xn(e,t),watchEvent:t=>Ks(e,t),watchPendingTransactions:t=>Ys(e,t)}},nn=function(e){const{key:t="public",name:a="Public Client"}=e;return Ha({...e,key:t,name:a,type:"publicClient"}).extend(ar)}});export{va as AbiConstructorNotFoundError,gt as AbiConstructorParamsNotFoundError,wt as AbiDecodingDataSizeTooSmallError,ge as AbiDecodingZeroDataError,Pa as AbiEncodingArrayLengthMismatchError,Ea as AbiEncodingBytesSizeMismatchError,ka as AbiEncodingLengthMismatchError,vt as AbiErrorSignatureNotFoundError,Pt as AbiEventNotFoundError,xa as AbiEventSignatureEmptyTopicsError,Et as AbiEventSignatureNotFoundError,we as AbiFunctionNotFoundError,Na as AbiFunctionOutputsNotFoundError,Ta as AccountStateConflictError,g as BaseError,Ba as BaseFeeScalarError,kt as BlockNotFoundError,Aa as BytesSizeMismatchError,xt as CallExecutionError,ve as ChainDisconnectedError,yt as ChainDoesNotSupportContract,ha as ClientChainNotConfiguredError,Ia as ContractFunctionExecutionError,Ze as ContractFunctionRevertedError,Oa as ContractFunctionZeroDataError,ce as DecodeLogDataMismatch,Pe as DecodeLogTopicsMismatch,Ke as Eip1559FeesNotSupportedError,ue as EnsAvatarInvalidNftUriError,Fa as EnsAvatarUnsupportedNamespaceError,Ye as EnsAvatarUriResolutionError,ja as EstimateGasExecutionError,Je as ExecutionRevertedError,bt as FeeCapTooHighError,oa as FeeCapTooLowError,Kr as FeeConflictError,Ra as FilterTypeNotSupportedError,G as HttpRequestError,la as InsufficientFundsError,co as IntegerOutOfRangeError,X as InternalRpcError,da as IntrinsicGasTooHighError,fa as IntrinsicGasTooLowError,$a as InvalidAbiDecodingTypeError,Ca as InvalidAbiEncodingTypeError,J as InvalidAddressError,Ma as InvalidArrayError,Hr as InvalidBytesBooleanError,Fo as InvalidChainIdError,Sa as InvalidDefinitionTypeError,uo as InvalidHexBooleanError,ee as InvalidInputRpcError,jo as InvalidLegacyVError,Ee as InvalidParamsRpcError,ke as InvalidRequestRpcError,Ro as InvalidSerializableTransactionError,$o as InvalidStorageKeySizeError,xe as JsonRpcVersionUnsupportedError,le as LimitExceededRpcError,qa as MaxFeePerGasTooLowError,Ne as MethodNotFoundRpcError,Te as MethodNotSupportedRpcError,ua as NonceMaxValueError,ia as NonceTooHighError,ca as NonceTooLowError,Be as ParseRpcError,Ae as ProviderDisconnectedError,te as ProviderRpcError,Qe as RawContractError,Ie as ResourceNotFoundRpcError,Oe as ResourceUnavailableRpcError,j as RpcError,Nt as RpcRequestError,lo as SizeExceedsPaddingSizeError,fo as SizeOverflowError,po as SliceOffsetOutOfBoundsError,Da as StateAssignmentConflictError,Fe as SwitchChainError,Tt as TimeoutError,mt as TipAboveFeeCapError,ya as TransactionNotFoundError,ga as TransactionReceiptNotFoundError,je as TransactionRejectedRpcError,pa as TransactionTypeNotSupportedError,Re as UnauthorizedProviderError,ht as UnknownNodeError,za as UnknownRpcError,$e as UnsupportedProviderMethodError,Ga as UrlRequiredError,de as UserRejectedRequestError,wa as WaitForTransactionReceiptTimeoutError,ti as __tla,Xe as assertRequest,Co as assertTransactionEIP1559,Mo as assertTransactionEIP2930,So as assertTransactionLegacy,Yr as blobsToCommitments,Xr as blobsToProofs,bo as boolToBytes,_r as boolToHex,La as bytesToBigInt,_a as bytesToBool,S as bytesToHex,D as bytesToNumber,Ua as bytesToString,et as ccipFetch,et as ccipRequest,Vr as checksumAddress,qo as commitmentToVersionedHash,Qr as commitmentsToVersionedHashes,q as concat,Do as concatBytes,na as concatHex,Ha as createClient,nn as createPublicClient,Wa as createTransport,Ce as decodeAbiParameters,Bt as decodeErrorResult,tt as decodeEventLog,ae as decodeFunctionResult,zo as defineBlock,Go as defineChain,Lo as defineTransaction,_o as defineTransactionReceipt,Uo as defineTransactionRequest,re as encodeAbiParameters,Va as encodeDeployData,fe as encodeEventTopics,L as encodeFunctionData,mo as etherUnits,sn as extractChain,ba as formatBlock,ra as formatEther,Y as formatGwei,Q as formatLog,an as formatTransaction,rn as formatTransactionReceipt,ma as formatTransactionRequest,ho as formatUnits,yo as fromHex,pe as getAbiItem,go as getAddress,ne as getChainContractAddress,be as getContractError,Me as getEventSelector,Se as getEventSignature,qe as getFunctionSelector,Se as getFunctionSignature,tn as getTransactionType,Ja as getTypesForEIP712Domain,wo as gweiUnits,Za as hashDomain,At as hashMessage,Ka as hashTypedData,he as hexToBigInt,vo as hexToBool,Wr as hexToBytes,ye as hexToNumber,Po as hexToString,on as http,M as isAddress,It as isAddressEqual,oe as isHex,$ as keccak256,Ya as labelhash,Ho as maxUint16,at as multicall3Abi,De as namehash,Eo as numberToBytes,B as numberToHex,Qa as offchainLookup,Ot as offchainLookupAbiItem,Xa as offchainLookupSignature,ko as pad,xo as padBytes,Z as padHex,No as parseEther,rt as parseEventLogs,To as parseUnits,er as prepareEncodeFunctionData,tr as presignMessagePrefix,ar as publicActions,Wo as rpcTransactionType,Vo as serializeAccessList,Ft as serializeSignature,Jo as serializeTransaction,Zo as sha256,Ft as signatureToHex,R as size,Ve as slice,Zr as sliceBytes,Ko as sliceHex,K as stringToBytes,Ur as stringToHex,O as stringify,en as toBlobSidecars,Yo as toBlobs,se as toBytes,nt as toEventHash,Me as toEventSelector,Se as toEventSignature,nt as toFunctionHash,qe as toFunctionSelector,Se as toFunctionSignature,ie as toHex,Qo as toRlp,Xo as transactionType,He as trim,rr as validateTypedData,st as withRetry,nr as withTimeout};
