import{u as F,__tla as M}from"./useMutation-Bf-zCcE9.js";import{e1 as e,en as N,g4 as u,g5 as c,g3 as h,gm as q,gn as b,go as O,ej as z,fl as K,e2 as t,eo as m,em as i,ep as Y,gp as G,gq as J,gr as Q,fm as V,dY as W,d_ as j,gs as X,__tla as Z}from"./index-DF3xoY3k.js";let H,L,A,I,T,B,v,E,$=Promise.all([(()=>{try{return M}catch{}})(),(()=>{try{return Z}catch{}})()]).then(async()=>{let S,P,C;S=n=>{const{svgProps:r,...s}=n;return e.jsx(N,{componentName:"Swap",icon:e.jsxs("svg",{width:"inherit",height:"inherit",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:[e.jsx("path",{d:"M13.25 5L5 13.25H27",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M18.75 27L27 18.75H5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]}),...s})},P=async n=>{const{noOfTokenToApprove:r,signer:s}=n;return(await new u(c.pushToken,h.pushToken,s).approve(c.epnscore,r)).wait()},E=()=>F({mutationKey:[q],mutationFn:P}),L=async({address:n,provider:r,contractAddress:s})=>{try{const o=await new u(c.pushToken,h.pushToken,r).allowance(n,s);return b(o.toString())}catch(o){console.error(o.message)}},A=async({address:n,provider:r,noOfPushTokensToCheck:s})=>{try{const o=await new u(c.pushToken,h.pushToken,r).balanceOf(n);return+b(o.toString())>=s}catch(o){console.error(o.message)}},T=async({address:n,provider:r})=>{try{const s=await new u(c.pushToken,h.pushToken,r).balanceOf(n);return+b(s.toString())}catch(s){console.error(s.message)}},I=async({signer:n,contractAddress:r,amount:s})=>{try{const o=new u(c.pushToken,h.pushToken,n),a=O(s.toString(),18);return await(await o.approve(r,a)).wait(),!0}catch(o){throw console.error(o),o}},B=async()=>{try{const n="Ethereum Push Notification Service";return await window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:c.pushToken,symbol:"PUSH",decimals:18}}}),!0}catch(n){throw console.error(n),n}},v=async({noOfTokens:n,provider:r,account:s})=>{try{var o=r.getSigner(s);let l=new u(c.pushToken,h.pushToken,o);console.info({pushTokenContract:l}),console.info(1);const d=O(n.toString(),18);console.info(d);var a=l.mint(d);console.info(3);const p=await a;return console.info(p),await r.waitForTransaction(p.hash),console.info(4),console.info("Transaction Completed"),n}catch(l){return console.error(l),0}},C=({noOfPushTokensToCheck:n,mintPushToken:r,mintingPush:s,loadingBalance:o})=>{const a=z.appEnv==="prod",{isModalOpen:l,showModal:d,ModalComponent:p}=K();return e.jsxs(t,{display:"flex",padding:"spacing-sm spacing-md",backgroundColor:"surface-brand-subtle",borderRadius:"radius-none radius-none radius-sm radius-sm",justifyContent:"space-between",alignItems:"center",flexDirection:{ml:"column",initial:"row"},gap:"spacing-xs",children:[e.jsx(m,{isLoading:s||o,children:e.jsx(i,{variant:"c-regular",color:"text-primary",children:a?"Your balance is low. Swap to get PUSH Tokens.":"Follow these steps to get Testnet PUSH."})}),a?e.jsx(Y,{size:"extraSmall",leadingIcon:e.jsx(S,{}),onClick:d,children:"Swap PUSH Token"}):e.jsxs(t,{display:"flex",gap:"spacing-xs",children:[e.jsx(m,{isLoading:s||o,children:e.jsx(G,{to:J,target:"_blank",children:e.jsxs(t,{display:"flex",gap:"spacing-xxs",alignItems:"baseline",color:"text-brand-medium",cursor:"pointer",children:[e.jsx(t,{border:"border-sm solid stroke-brand-medium",width:"16px",height:"15px",borderRadius:"radius-xl",display:"flex",justifyContent:"center",color:"text-brand-medium",children:e.jsx(i,{variant:"c-regular",color:"text-brand-medium",children:"1"})}),e.jsx(i,{color:"text-brand-medium",children:"Sepolia ETH Faucet"})]})})}),e.jsx(m,{isLoading:s||o,children:e.jsxs(t,{display:"flex",gap:"spacing-xxs",alignItems:"baseline",color:"text-brand-medium",cursor:"pointer",onClick:()=>r(1e3),children:[e.jsx(t,{border:"border-sm solid stroke-brand-medium",width:"16px",height:"15px",borderRadius:"radius-xl",display:"flex",justifyContent:"center",children:e.jsx(i,{variant:"c-regular",color:"text-brand-medium",children:"2"})}),e.jsx(i,{color:"text-brand-medium",children:"Get Testnet Push"})]})})]}),l&&e.jsx(p,{InnerComponent:Q,InnerComponentProps:{defaultPushTokenAmount:n},modalPadding:"0px",modalPosition:V.ON_ROOT})]})},H=({fees:n,pushApprovalAmount:r,title:s,description:o,balance:a=0,setBalance:l=()=>{},showFaucet:d=!1,showBalance:p=!1})=>{const{provider:w,account:g}=W(),[x,_]=j.useState(!1),[R,f]=j.useState(!1),U=async()=>{_(!0);const k=await T({address:g,provider:w});_(!1),l(k)};j.useEffect(()=>{!g||!w||U()},[a,g]);const D=async k=>{f(!0);try{const y=await v({noOfTokens:k,provider:w,account:g});f(!1),l(y)}catch(y){console.log("Error >>",y),f(!1)}};return e.jsx(t,{display:"flex",flexDirection:"column",gap:"spacing-sm",width:"-webkit-fill-available",children:e.jsxs(t,{display:"flex",flexDirection:"column",alignSelf:"stretch",children:[e.jsxs(t,{display:"flex",flexDirection:"row",justifyContent:"space-between",backgroundColor:"surface-secondary",borderRadius:a<n?"radius-sm radius-sm radius-none radius-none":"radius-sm",padding:"spacing-sm spacing-md",alignItems:"center",children:[e.jsx(m,{isLoading:x,children:e.jsxs(t,{width:{initial:"inherit",ml:"200px"},children:[e.jsx(i,{variant:"h4-semibold",color:"text-primary",display:{ml:"none",dp:"block"},children:s}),e.jsx(i,{variant:"h5-semibold",color:"text-primary",display:{ml:"block",dp:"none"},children:s}),e.jsx(i,{variant:"c-regular",color:"text-tertiary",display:{ml:"none",dp:"block"},children:o}),e.jsx(i,{variant:"c-regular",color:"text-tertiary",display:{ml:"block",dp:"none"},children:o})]})}),e.jsxs(t,{display:"flex",children:[!!r&&r>=n&&e.jsx(X,{color:"icon-brand-medium",size:24}),e.jsxs(t,{display:"flex",flexDirection:"column",gap:"spacing-xxxs",children:[e.jsxs(m,{isLoading:x,children:[e.jsxs(i,{variant:"h4-semibold",color:"text-brand-medium",display:{ml:"none",dp:"block"},children:[n," PUSH"]}),e.jsxs(i,{variant:"h5-semibold",color:"text-brand-medium",display:{ml:"block",dp:"none"},children:[n," PUSH"]})]}),e.jsx(m,{isLoading:x,children:p&&e.jsxs(i,{variant:"bes-semibold",color:"text-tertiary",children:["Balance: ",a==null?void 0:a.toLocaleString()]})})]})]})]}),!x&&a<n&&d&&e.jsx(C,{mintPushToken:D,noOfPushTokensToCheck:50,mintingPush:R,loadingBalance:x})]})})}});export{H as S,$ as __tla,L as a,A as b,I as c,T as g,B as i,v as m,E as u};
