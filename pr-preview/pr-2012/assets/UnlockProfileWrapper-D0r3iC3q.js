import { ee as H, e7 as l, fO as I, eQ as A, e5 as U, fP as E, fQ as z, fR as O, ea as t, fS as h, fb as T, eT as m, eW as u, fT as x, fU as b, eb as L, ev as v, fV as y, ej as c, fW as G, fX as Z, fi as F, fY as K, fj as Q, __tla as __tla_0 } from "./index-UiBHnyIz.js";
let de, re, q, X;
let __tla = Promise.all([
  (() => {
    try {
      return __tla_0;
    } catch {
    }
  })()
]).then(async () => {
  let _, N;
  _ = "data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='unlock%201'%3e%3cg%20id='Unlock'%3e%3cpath%20id='Vector'%20d='M31.5%2043.8126H16.5C12.3578%2043.8126%209%2040.4548%209%2036.3126V21.3126C9%2019.2416%2010.679%2017.5626%2012.75%2017.5626H35.25C37.321%2017.5626%2039%2019.2416%2039%2021.3126V36.3126C39%2040.4548%2035.6422%2043.8126%2031.5%2043.8126Z'%20stroke='%23D53893'%20stroke-width='2.5'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20id='Vector_2'%20d='M24%2035.2895C24%2034.0068%2024.6085%2032.7307%2025.7437%2032.1334C26.9366%2031.5058%2027.75%2030.2542%2027.75%2028.8126C27.75%2026.7416%2026.071%2025.0626%2024%2025.0626C21.929%2025.0626%2020.25%2026.7416%2020.25%2028.8126C20.25%2030.2542%2021.0634%2031.5058%2022.2563%2032.1334C23.3915%2032.7307%2024%2034.0068%2024%2035.2895ZM24%2035.2895V36.3126'%20stroke='%23D53893'%20stroke-width='2.5'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20id='Vector_3'%20d='M16.5%2016.6873V11.6873C16.5%207.5451%2019.8578%204.18726%2024%204.18726C28.1422%204.18726%2031.5%207.5451%2031.5%2011.6873V16.6873'%20stroke='%23D53893'%20stroke-width='2.5'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";
  N = "data:image/svg+xml,%3csvg%20width='38'%20height='33'%20viewBox='0%200%2038%2033'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M34.5%206H4.5C4.10218%206%203.72064%205.84196%203.43934%205.56066C3.15804%205.27936%203%204.89782%203%204.5C3%204.10218%203.15804%203.72064%203.43934%203.43934C3.72064%203.15804%204.10218%203%204.5%203H30C30.3978%203%2030.7794%202.84196%2031.0607%202.56066C31.342%202.27936%2031.5%201.89782%2031.5%201.5C31.5%201.10218%2031.342%200.720645%2031.0607%200.43934C30.7794%200.158036%2030.3978%200%2030%200H4.5C3.30653%200%202.16193%200.474106%201.31802%201.31802C0.474106%202.16193%200%203.30653%200%204.5V28.5C0%2029.6935%200.474106%2030.8381%201.31802%2031.682C2.16193%2032.5259%203.30653%2033%204.5%2033H34.5C35.2957%2033%2036.0587%2032.6839%2036.6213%2032.1213C37.1839%2031.5587%2037.5%2030.7956%2037.5%2030V9C37.5%208.20435%2037.1839%207.44129%2036.6213%206.87868C36.0587%206.31607%2035.2957%206%2034.5%206ZM34.5%2030H4.5C4.10218%2030%203.72064%2029.842%203.43934%2029.5607C3.15804%2029.2794%203%2028.8978%203%2028.5V8.74312C3.48164%208.91386%203.98899%209.00074%204.5%209H34.5V30ZM25.5%2018.75C25.5%2018.305%2025.632%2017.87%2025.8792%2017.5C26.1264%2017.13%2026.4778%2016.8416%2026.889%2016.6713C27.3001%2016.501%2027.7525%2016.4564%2028.189%2016.5432C28.6254%2016.63%2029.0263%2016.8443%2029.341%2017.159C29.6557%2017.4737%2029.87%2017.8746%2029.9568%2018.311C30.0436%2018.7475%2029.999%2019.1999%2029.8287%2019.611C29.6584%2020.0222%2029.37%2020.3736%2029%2020.6208C28.63%2020.868%2028.195%2021%2027.75%2021C27.1533%2021%2026.581%2020.7629%2026.159%2020.341C25.7371%2019.919%2025.5%2019.3467%2025.5%2018.75Z'%20fill='%23D53A94'/%3e%3c/svg%3e";
  X = (e) => {
    const r = "Error decrypting PGP private key ...swiching to Guest mode";
    return e == null ? void 0 : e.errors.some((a) => a.type === "ERROR" && a.message === r);
  };
  q = ((e) => (e.BOTTOM_BAR = "bottombar", e.MODAL = "modal", e))(q || {});
  const j = ({ InnerComponentProps: e, onClose: r }) => {
    const { type: o, description: a } = e, n = H(), { handleConnectWalletAndEnableProfile: C, initializePushSDK: g } = l.useContext(I), { userPushSDKInstance: P } = A((p) => p.user), { account: f, wallet: d, connect: M } = U(), [w, D] = l.useState(false), [s, V] = l.useState({
      status: "connectwallet",
      title: "Connect Wallet",
      body: "Sign with wallet to continue."
    }), $ = (p) => {
      D(p.target.checked);
    }, B = () => {
      M();
    }, R = l.useCallback(async () => {
      const p = await C({
        remember: w,
        wallet: d
      });
      X(p) && r && r();
    }, [
      d,
      w
    ]);
    l.useEffect(() => {
      var _a;
      ((_a = d == null ? void 0 : d.accounts) == null ? void 0 : _a.length) > 0 && V({
        status: "unlockprofile",
        title: "Unlock Profile",
        body: a || "Unlock your profile to read and send messages"
      });
    }, [
      d
    ]);
    const i = E(parseInt(z.tablet)), [k, W] = l.useState(false);
    return l.useEffect(() => {
      var _a;
      ((_a = d == null ? void 0 : d.accounts) == null ? void 0 : _a.length) && O(f) && (W(true), g(d));
    }, [
      f
    ]), t.jsxs(Y, {
      type: o,
      children: [
        t.jsxs(ee, {
          type: o,
          children: [
            t.jsxs(h, {
              flex: "none",
              gap: "12px",
              flexDirection: o === "modal" || i ? "column" : "row",
              children: [
                t.jsx(T, {
                  width: "38px",
                  height: "35px",
                  src: s.status === "connectwallet" ? N : _,
                  alt: "Unlock Logo",
                  zIndex: 1
                }),
                t.jsx(m, {
                  alignItems: o === "modal" || i ? "center" : "baseline",
                  children: k ? t.jsxs(ne, {
                    children: [
                      t.jsx(x, {
                        height: "24px",
                        width: "100%",
                        margin: "0 0 8px 0",
                        borderRadius: "4px"
                      }),
                      t.jsx(x, {
                        height: "16px",
                        width: "100%",
                        margin: "0 0 8px 0",
                        borderRadius: "4px"
                      })
                    ]
                  }) : t.jsxs(t.Fragment, {
                    children: [
                      t.jsx(u, {
                        fontSize: o === "modal" || i ? "20px" : "24px",
                        fontWeight: "500",
                        lineHeight: "28.8px",
                        color: n.default.color,
                        children: s.title
                      }),
                      t.jsx(u, {
                        fontSize: o === "modal" || i ? "14px" : "18px",
                        fontWeight: "400",
                        lineHeight: "22.4px",
                        color: n.default.secondaryColor,
                        children: s.body
                      })
                    ]
                  })
                })
              ]
            }),
            t.jsxs(m, {
              flex: "none",
              gap: o === "modal" || i ? "16px" : "8px",
              flexDirection: o === "modal" || i ? "row" : "column",
              children: [
                t.jsxs(h, {
                  flex: "none",
                  flexDirection: o === "modal" || i ? "column" : "row",
                  children: [
                    t.jsx(S, {
                      background: b["primary-500"],
                      color: n.btn.primaryColor,
                      children: "1"
                    }),
                    t.jsx(oe, {
                      activeState: s.status,
                      theme: n,
                      type: o
                    }),
                    t.jsx(S, {
                      background: s.status !== "connectwallet" ? b["primary-500"] : n.btn.disabledBg,
                      color: s.status !== "connectwallet" ? n.btn.primaryColor : n.btn.disabledColor,
                      children: "2"
                    })
                  ]
                }),
                t.jsx(h, {
                  gap: "16px",
                  flex: "none",
                  alignItems: "baseline",
                  flexDirection: o === "modal" || i ? "column" : "row",
                  children: k ? t.jsxs(ie, {
                    width: "100%",
                    flexDirection: o === "modal" || i ? "column" : "row",
                    children: [
                      t.jsx(x, {
                        height: "40px",
                        width: "150px"
                      }),
                      t.jsx(x, {
                        height: "40px",
                        width: "150px"
                      })
                    ]
                  }) : t.jsxs(L, {
                    display: "flex",
                    flexDirection: o === "modal" || i ? "column" : "row",
                    gap: "spacing-sm",
                    children: [
                      t.jsx(v, {
                        disabled: s.status !== "connectwallet" && true,
                        variant: "primary",
                        onClick: () => B(),
                        children: "Connect Wallet"
                      }),
                      t.jsx(v, {
                        disabled: s.status === "connectwallet" && true,
                        onClick: R,
                        variant: "primary",
                        children: "Unlock Profile"
                      })
                    ]
                  })
                })
              ]
            })
          ]
        }),
        s.status === "unlockprofile" && t.jsx(t.Fragment, {
          children: k ? t.jsx(m, {
            width: "100%",
            flexDirection: o === "modal" || i ? "column" : "row",
            justifyContent: o === "modal" ? "center" : "end",
            margin: o === "modal" ? "12px 0 0 40px" : "12px 0 0 0px",
            children: t.jsx(x, {
              height: "20px",
              width: "150px"
            })
          }) : t.jsx(J, {
            children: t.jsxs(h, {
              gap: "8px",
              justifyContent: o === "modal" ? "center" : "end",
              margin: o === "modal" ? "24px 16px 0 40px" : "12px 16px 0 0px",
              children: [
                t.jsx(te, {
                  checked: w,
                  onChange: $
                }),
                t.jsx(u, {
                  fontSize: "14px",
                  fontWeight: "500",
                  lineHeight: "130%",
                  color: n.default.color,
                  children: "Remember Me"
                })
              ]
            })
          })
        })
      ]
    });
  }, J = ({ children: e, type: r }) => t.jsx(Z, {
    wrapperProps: {
      width: "fit-content",
      maxWidth: "fit-content",
      minWidth: "fit-content"
    },
    placementProps: r === "modal" ? {
      background: "black",
      width: "220px",
      padding: "8px 12px",
      top: "10px",
      left: "60px",
      borderRadius: "4px 12px 12px 12px"
    } : {
      background: "black",
      width: "120px",
      padding: "8px 12px",
      bottom: "0px",
      right: "-30px",
      borderRadius: "12px 12px 12px 4px"
    },
    tooltipContent: t.jsx(u, {
      fontSize: "10px",
      fontWeight: "400",
      children: "Selecting 'Remember me' will save your Push Profile keys locally on this device. Proceed at your own risk."
    }),
    children: e
  }), Y = c(h)`
  flex-direction: column;
  align-items: ${(e) => e.type === "modal" ? "center" : "end"};
  width: ${(e) => e.type === "modal" ? "360px" : "inherit"};
  padding: ${(e) => e.type === "modal" ? "10px" : "0px"};

  @media (${y.tablet}) {
    width: ${(e) => e.type === "modal" ? "360px" : "inherit"};
    padding: ${(e) => e.type === "modal" ? "10px" : "0px"};
    align-items: center;
  }
`, ee = c(m)`
  gap: ${(e) => e.type === "modal" ? "24px" : "0px"};
  align-items: end;
  flex-direction: ${(e) => e.type === "modal" ? "column" : "row"};
  justify-content: space-between;

  @media ${y.tablet} {
    align-items: center;
    flex-direction: column;
    gap: 24px;
  }
`, te = c.input.attrs({
    type: "checkbox"
  })`
  accent-color: #d53a94; /* Changes the checkbox color */
  &:checked {
    background-color: #d53a94;
  }
  cursor: pointer;
  width: 18px;
  height: 18px;
  border: 1px solid #c5c8cd;
`, S = c(u)`
  font-size: 12px;
  font-weight: 700;
  line-height: 130%;
  border-radius: 22px;
  width: 6px;
  height: 6px;
  display: flex;
  padding: 10px;
  flex-direction: column;
  justify-content: center;
`, oe = c.div`
  width: ${(e) => e.type === "modal" ? "2px" : "150px"};
  height: ${(e) => e.type === "modal" ? "40px" : "3px"};
  background: ${(e) => e.activeState === "connectwallet" ? `linear-gradient(to right, ${b["primary-500"]}, ${e.theme.btn.disabledBg})` : b["primary-500"]};

  @media ${y.tablet} {
    width: 2px;
    height: 40px;
  }
`, ne = c.div`
  overflow: hidden;
  min-width: 220px;
`, ie = c(G)`
  max-width: -webkit-fill-available;
  border-radius: 5px;
  gap: 16px;
  display: flex;
`;
  re = ((e) => (e.BOTTOM_BAR = "bottombar", e.MODAL = "modal", e))(re || {});
  let ae, se;
  ae = {
    type: "modal"
  };
  de = ({ type: e = ae.type, showConnectModal: r = false, description: o, onClose: a, modalType: n = "portal" }) => {
    const C = e === "modal" && n === "portal", g = e === "modal" && n === "container", { showModal: P, ModalComponent: f } = F();
    return l.useEffect(() => {
      g && r && P();
    }, [
      e,
      r
    ]), t.jsxs(t.Fragment, {
      children: [
        e === "bottombar" && t.jsx(se, {
          className: e,
          children: t.jsx(j, {
            InnerComponentProps: {
              type: e,
              description: o
            },
            onClose: a
          })
        }),
        C && t.jsx(K, {
          isOpen: r,
          onClose: a,
          size: "small",
          acceptButtonProps: null,
          cancelButtonProps: null,
          children: t.jsx(j, {
            InnerComponentProps: {
              type: e,
              description: o
            },
            onClose: a
          })
        }),
        g && t.jsx(f, {
          InnerComponent: j,
          InnerComponentProps: {
            type: e,
            description: o
          },
          modalRadius: "24px",
          modalBorder: false,
          modalPosition: Q.ON_PARENT
        })
      ]
    });
  };
  se = c(m)`
  flex: initial;
  border-radius: 24px;
  padding: 24px;
  align-items: center;
  backdrop-filter: blur(8px);

  &.bottombar {
    flex: initial;
    position: absolute;
    left: 0;
    right: 0;
    width: auto;
    bottom: 0;
    flex-direction: row;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
  }

  &:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background: ${(e) => e.theme.chat.modalBg};
    opacity: 0.75;
  }
`;
});
export {
  de as U,
  __tla,
  re as a,
  q as b,
  X as c
};
