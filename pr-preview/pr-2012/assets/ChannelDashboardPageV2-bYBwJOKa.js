import { ea as e, er as O, fD as W, fE as M, fC as G, fe as Me, iz as Te, f_ as _, iA as Re, iB as Fe, iC as Ue, iD as Ne, iE as _e, iF as Be, eb as s, ep as x, eo as He, e5 as w, e7 as u, eP as R, gr as q, ev as f, iG as he, eQ as ne, fO as ge, gf as T, e6 as B, hS as pe, hT as ue, es as v, eq as z, g4 as Ze, iH as qe, ey as ze, iI as xe, e9 as U, gl as me, ex as Ce, gJ as Z, g0 as $, h9 as Ve, hb as Oe, hc as ee, en as V, g1 as le, gO as ce, h6 as N, hd as We, gw as Ge, ec as Ke, ed as Je, g7 as $e, hJ as Qe, gs as Ye, gt as Xe, fj as en, gK as nn, gD as an, g8 as sn, iJ as tn, fi as rn, gu as on, gC as ln, fY as cn, gx as dn, e8 as fe, eJ as hn, __tla as __tla_0 } from "./index-Kvkq3-iW.js";
import { C as gn, __tla as __tla_1 } from "./ContentLayout-BGhKIoso.js";
import { u as ae, c as se, a as A, F as pn, b as un, __tla as __tla_2 } from "./index.esm-CTUGtbr2.js";
import { g as E, U as xn, b as de } from "./Common.form-B0yEfNXt.js";
import { u as je, S as te, g as ye, a as be, __tla as __tla_3 } from "./StakingVariant-B3LLl2sx.js";
import { C as ve, __tla as __tla_4 } from "./Copy-BaAp0b7W.js";
import { I as mn, P as K, __tla as __tla_5 } from "./ImportPushTokenMessage-BaFQBZld.js";
import { C as we, __tla as __tla_6 } from "./ChannelDashboardNullState-Cnj1IFeP.js";
import { A as Cn, __tla as __tla_7 } from "./Add-BZFGAjnm.js";
import { u as fn, __tla as __tla_8 } from "./useDisclosure-Cx70G0wS.js";
import { u as Se, __tla as __tla_9 } from "./useGetChannelCategories-BF93kzU3.js";
import { u as jn, __tla as __tla_10 } from "./useGetPaymentDetails-YkerarpX.js";
import { I as yn, __tla as __tla_11 } from "./ImageClipper-JzRo4Vh_.js";
import { c as bn } from "./index-KR9cftpy.js";
import { T as vn, __tla as __tla_12 } from "./Tick-DYSjbmUh.js";
import { P as wn, a as Sn, __tla as __tla_13 } from "./PushLogoWithNameDark-BPoHV_8O.js";
import { p as kn, f as Dn, __tla as __tla_14 } from "./index-GZSO-HA3.js";
let _a;
let __tla = Promise.all([
  (() => {
    try {
      return __tla_0;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_1;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_2;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_3;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_4;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_5;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_6;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_7;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_8;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_9;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_10;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_11;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_12;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_13;
    } catch {
    }
  })(),
  (() => {
    try {
      return __tla_14;
    } catch {
    }
  })()
]).then(async () => {
  let Ln, Pn, In, An, En, Mn, Tn, Rn, Fn, Un, Nn, _n, Bn, Hn, Zn, ke, qn, zn, Vn, On, Wn, Gn, Q, Kn, Jn, $n, Qn, Yn, Xn, ie, J, ea, na, aa, sa, ta, ia, ra, oa, la, ca, da, ha, ga, pa, re, ua, xa, ma, Ca, fa, ja, ya;
  Ln = (n) => {
    const { svgProps: a, ...t } = n;
    return e.jsx(O, {
      componentName: "BellSimple",
      icon: e.jsxs("svg", {
        width: "inherit",
        height: "inherit",
        viewBox: "0 0 24 24",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...a,
        children: [
          e.jsx("path", {
            d: "M9 20.9999H15",
            stroke: "currentColor",
            "stroke-width": "2",
            "stroke-linecap": "round",
            "stroke-linejoin": "round"
          }),
          e.jsx("path", {
            d: "M14.1313 3.34529L13.142 3.49112C13.197 3.86442 13.4575 4.17496 13.8155 4.29412L14.1313 3.34529ZM16.7729 4.97697L17.48 4.26986V4.26986L16.7729 4.97697ZM20.1468 16.8749L21.0128 16.3749L21.0122 16.3739L20.1468 16.8749ZM20.2472 17.2493L19.2472 17.2502V17.2502L20.2472 17.2493ZM19.874 17.8985L19.3717 17.0338L19.3717 17.0338L19.874 17.8985ZM19.4999 17.9999V18.9999L19.5034 18.9999L19.4999 17.9999ZM4.49988 17.9999L4.49387 18.9999H4.49988V17.9999ZM4.12646 17.8978L4.63038 17.034L4.63037 17.034L4.12646 17.8978ZM3.85375 17.623L2.98622 18.1204H2.98622L3.85375 17.623ZM3.85488 16.8749L2.98913 16.3745L2.98887 16.3749L3.85488 16.8749ZM7.22691 4.97697L6.51981 4.26986L7.22691 4.97697ZM9.86833 3.34533L10.1841 4.29415C10.5422 4.17499 10.8026 3.86444 10.8576 3.49114L9.86833 3.34533ZM13.8155 4.29412C14.6557 4.57375 15.4279 5.04625 16.0657 5.68407L17.48 4.26986C16.6203 3.41016 15.5793 2.77329 14.4471 2.39646L13.8155 4.29412ZM16.0657 5.68407C17.1441 6.76241 17.7499 8.22494 17.7499 9.74994H19.7499C19.7499 7.69451 18.9334 5.72327 17.48 4.26986L16.0657 5.68407ZM17.7499 9.74994C17.7499 13.2175 18.5462 16.1062 19.2813 17.376L21.0122 16.3739C20.5098 15.5062 19.7499 12.9986 19.7499 9.74994H17.7499ZM19.2807 17.3749C19.2588 17.337 19.2473 17.294 19.2472 17.2502L21.2472 17.2484C21.247 16.9417 21.1661 16.6405 21.0128 16.3749L19.2807 17.3749ZM19.2472 17.2502C19.2472 17.2064 19.2587 17.1633 19.2805 17.1253L21.0143 18.1223C21.1672 17.8564 21.2475 17.5551 21.2472 17.2484L19.2472 17.2502ZM19.2805 17.1253C19.3024 17.0874 19.3338 17.0558 19.3717 17.0338L20.3762 18.7632C20.6414 18.6091 20.8615 18.3881 21.0143 18.1223L19.2805 17.1253ZM19.3717 17.0338C19.4096 17.0118 19.4526 17.0001 19.4964 16.9999L19.5034 18.9999C19.8101 18.9989 20.1111 18.9172 20.3762 18.7632L19.3717 17.0338ZM19.4999 16.9999H4.49988V18.9999H19.4999V16.9999ZM4.5059 17C4.54965 17.0002 4.59257 17.012 4.63038 17.034L3.62255 18.7615C3.88713 18.9159 4.18758 18.9981 4.49387 18.9999L4.5059 17ZM4.63037 17.034C4.66817 17.0561 4.69951 17.0876 4.72128 17.1256L2.98622 18.1204C3.13856 18.3861 3.35799 18.6072 3.62256 18.7615L4.63037 17.034ZM4.72128 17.1256C4.74304 17.1636 4.75446 17.2066 4.75439 17.2503L2.7544 17.2473C2.75393 17.5536 2.83387 17.8547 2.98622 18.1204L4.72128 17.1256ZM4.75439 17.2503C4.75433 17.2941 4.74278 17.3371 4.7209 17.375L2.98887 16.3749C2.83571 16.6402 2.75486 16.941 2.7544 17.2473L4.75439 17.2503ZM4.72064 17.3754C5.45456 16.1058 6.24988 13.2164 6.24988 9.74994H4.24988C4.24988 12.9979 3.49084 15.5066 2.98913 16.3745L4.72064 17.3754ZM6.24988 9.74994C6.24988 8.22494 6.85568 6.76241 7.93402 5.68407L6.51981 4.26986C5.0664 5.72327 4.24988 7.69451 4.24988 9.74994H6.24988ZM7.93402 5.68407C8.57182 5.04627 9.344 4.57378 10.1841 4.29415L9.55252 2.3965C8.42035 2.77334 7.37948 3.41019 6.51981 4.26986L7.93402 5.68407ZM10.8576 3.49114C10.9453 2.89646 11.4397 2.47119 11.9998 2.47119V0.471191C10.3991 0.471191 9.10409 1.67243 8.87902 3.19951L10.8576 3.49114ZM11.9998 2.47119C12.5599 2.47119 13.0544 2.89645 13.142 3.49112L15.1206 3.19946C14.8955 1.67241 13.6005 0.471191 11.9998 0.471191V2.47119Z",
            fill: "currentColor"
          })
        ]
      }),
      ...t
    });
  };
  Pn = (n) => {
    const { svgProps: a, ...t } = n;
    return e.jsx(O, {
      componentName: "BellSimpleSlash",
      icon: e.jsxs("svg", {
        width: "inherit",
        height: "inherit",
        viewBox: "0 0 24 24",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...a,
        children: [
          e.jsx("path", {
            d: "M5.52783 4.4353L19.3386 19.6",
            stroke: "currentColor",
            "stroke-width": "1.5",
            "stroke-linecap": "round",
            "stroke-linejoin": "round"
          }),
          e.jsx("path", {
            d: "M7.42357 6.49341C7.04446 6.90863 6.28622 8.18319 6.28622 9.95964C6.28622 12.1802 5.85294 15.8631 4.39062 17.4337H17.2265",
            stroke: "currentColor",
            "stroke-width": "1.5",
            "stroke-linecap": "round",
            "stroke-linejoin": "round"
          }),
          e.jsx("path", {
            d: "M9.59013 20.25H15.3852M9.31934 4.70613C10.6192 3.80347 13.9554 2.73472 16.9017 5.68101C17.2912 6.07049 18.4295 7.23159 18.5807 10.9345C18.6168 11.8191 18.8731 14.0541 19.6097 15.9172",
            stroke: "currentColor",
            "stroke-width": "1.5",
            "stroke-linecap": "round",
            "stroke-linejoin": "round"
          })
        ]
      }),
      ...t
    });
  };
  In = (n) => {
    const { svgProps: a, ...t } = n;
    return e.jsx(O, {
      componentName: "Cube",
      icon: e.jsxs("svg", {
        width: "inherit",
        height: "inherit",
        viewBox: "0 0 24 24",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...a,
        children: [
          e.jsx("path", {
            d: "M11.8471 12.1528L4.6665 7.95139L11.8471 3.75L19.3332 7.95139L11.8471 12.1528Z",
            stroke: "currentColor",
            "stroke-width": "1.5",
            "stroke-linejoin": "round"
          }),
          e.jsx("path", {
            d: "M4.6665 8.02783V16.457L11.8471 20.2501L19.3332 16.457V8.02783",
            stroke: "currentColor",
            "stroke-width": "1.5",
            "stroke-linejoin": "round"
          }),
          e.jsx("path", {
            d: "M11.8472 20.2501V12.1528",
            stroke: "currentColor",
            "stroke-width": "1.5",
            "stroke-linejoin": "round"
          })
        ]
      }),
      ...t
    });
  };
  An = (n) => {
    const { svgProps: a, ...t } = n;
    return e.jsx(O, {
      componentName: "KebabMenuHorizontal",
      icon: e.jsxs("svg", {
        width: "inherit",
        height: "inherit",
        viewBox: "0 0 32 32",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...a,
        children: [
          e.jsxs("g", {
            "clip-path": "url(#clip0_372_37305)",
            children: [
              e.jsx("path", {
                d: "M23 16C23 17.3807 24.1193 18.5 25.5 18.5C26.8807 18.5 28 17.3807 28 16C28 14.6193 26.8807 13.5 25.5 13.5C24.1193 13.5 23 14.6193 23 16Z",
                fill: "currentColor"
              }),
              e.jsx("path", {
                d: "M13.5 16C13.5 17.3807 14.6193 18.5 16 18.5C17.3807 18.5 18.5 17.3807 18.5 16C18.5 14.6193 17.3807 13.5 16 13.5C14.6193 13.5 13.5 14.6193 13.5 16Z",
                fill: "currentColor"
              }),
              e.jsx("path", {
                d: "M3.99999 16C3.99999 17.3807 5.11928 18.5 6.5 18.5C7.88071 18.5 9 17.3807 9 16C9 14.6193 7.88071 13.5 6.5 13.5C5.11928 13.5 3.99999 14.6193 3.99999 16Z",
                fill: "currentColor"
              })
            ]
          }),
          e.jsx("defs", {
            children: e.jsx("clipPath", {
              id: "clip0_372_37305",
              children: e.jsx("rect", {
                width: "32",
                height: "32",
                fill: "white",
                transform: "translate(32) rotate(90)"
              })
            })
          })
        ]
      }),
      ...t
    });
  };
  En = (n) => {
    const { svgProps: a, ...t } = n;
    return e.jsx(O, {
      componentName: "Settings",
      icon: e.jsxs("svg", {
        width: "inherit",
        height: "inherit",
        viewBox: "0 0 32 32",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...a,
        children: [
          e.jsx("path", {
            d: "M26.6931 16.5931C26.7164 16.198 26.7164 15.802 26.6931 15.407H26.689C26.671 15.1342 26.7559 14.8646 26.9268 14.6513L28.8659 12.2271C28.6436 11.5199 28.3587 10.8339 28.0146 10.1773L24.929 9.83433C24.66 9.80448 24.4117 9.67594 24.2321 9.47357C23.969 9.17774 23.6889 8.89758 23.393 8.63454C23.1907 8.45489 23.0621 8.20657 23.0323 7.93762L22.6824 4.85341C22.0258 4.50947 21.3398 4.22457 20.6327 4.00207L18.2044 5.94115C17.9929 6.11047 17.726 6.1952 17.4555 6.17892C17.0605 6.15569 16.6645 6.15569 16.2694 6.17892C15.999 6.1952 15.7321 6.11047 15.5206 5.94115L13.0964 4.00207C12.3892 4.2244 11.7032 4.50931 11.0466 4.85341L10.7036 7.93762C10.6737 8.20725 10.5447 8.45614 10.3415 8.6359C10.0457 8.89894 9.7655 9.1791 9.50246 9.47494C9.32281 9.6773 9.07449 9.80584 8.80554 9.8357L5.72133 10.1855C5.3774 10.8422 5.0925 11.5282 4.87 12.2353L6.80907 14.6636C6.97839 14.8751 7.06313 15.142 7.04685 15.4124C7.02362 15.8075 7.02362 16.2035 7.04685 16.5986C7.06313 16.869 6.97839 17.1359 6.80907 17.3474L4.87 19.7716C5.09233 20.4788 5.37723 21.1647 5.72133 21.8214L8.80691 22.1657C9.07586 22.1956 9.32418 22.3241 9.50383 22.5265C9.76687 22.8223 10.047 23.1025 10.3429 23.3655C10.5452 23.5452 10.6738 23.7935 10.7036 24.0624L11.0534 27.1466C11.7101 27.4906 12.3961 27.7755 13.1032 27.998L15.5329 26.0575C15.7444 25.8882 16.0113 25.8035 16.2817 25.8198C16.6767 25.843 17.0728 25.843 17.4678 25.8198H17.5334C17.7817 25.8196 18.0227 25.9039 18.2167 26.0589L20.6409 27.998C21.3481 27.7756 22.034 27.4907 22.6906 27.1466L23.0336 24.0611C23.0635 23.7921 23.192 23.5438 23.3944 23.3641C23.6902 23.1011 23.9704 22.8209 24.2334 22.5251C24.4131 22.3227 24.6614 22.1942 24.9303 22.1643L28.0187 21.8145C28.3626 21.1578 28.6475 20.4719 28.87 19.7648L26.9309 17.3419C26.7616 17.1304 26.6769 16.8635 26.6931 16.5931Z",
            stroke: "currentColor",
            "stroke-width": "2",
            "stroke-linejoin": "round"
          }),
          e.jsx("path", {
            d: "M14.4385 19.6359C15.1576 20.1164 16.0031 20.3729 16.8679 20.3729C18.0277 20.3729 19.1399 19.9121 19.96 19.0921C20.7801 18.272 21.2408 17.1598 21.2408 16C21.2408 15.1352 20.9843 14.2897 20.5038 13.5706C20.0233 12.8515 19.3404 12.291 18.5414 11.9601C17.7423 11.6291 16.8631 11.5425 16.0149 11.7112C15.1666 11.8799 14.3874 12.2964 13.7759 12.908C13.1643 13.5195 12.7479 14.2987 12.5791 15.1469C12.4104 15.9952 12.497 16.8744 12.828 17.6734C13.159 18.4725 13.7194 19.1554 14.4385 19.6359Z",
            stroke: "currentColor",
            "stroke-width": "2",
            "stroke-linejoin": "round"
          })
        ]
      }),
      ...t
    });
  };
  Mn = async ({ signer: n }) => (await new W(M.epnscore, G.epnscore, n).deactivateChannel()).wait();
  Tn = async (n) => {
    const { signer: a, account: t, identityBytes: i, fees: r } = n;
    return (await new W(M.epnscore, G.epnscore, a).updateChannelMeta(t, i, r, {
      gasLimit: 1e6
    })).wait();
  };
  Rn = (n) => n;
  Fn = (n) => n;
  Un = (n) => n;
  Nn = ({ userPushSDKInstance: n, channelAddressinCAIP: a }) => n.channel.delegate.get({
    channel: a
  }).then(Rn);
  _n = ({ userPushSDKInstance: n, delegateAddress: a }) => n.channel.delegate.add(a).then(Fn);
  Bn = async ({ identityBytes: n, signer: a }) => (await new W(M.epnscore, G.epnscore, a).addSubGraph(n)).wait();
  Hn = ({ userPushSDKInstance: n, delegateAddress: a }) => n.channel.delegate.remove(a).then(Un);
  Zn = async ({ fees: n, signer: a }) => (await new W(M.epnscore, G.epnscore, a).reactivateChannel(n)).wait();
  ke = (n, a) => Me({
    queryKey: [
      Te,
      a
    ],
    queryFn: () => Nn({
      userPushSDKInstance: n,
      channelAddressinCAIP: a
    })
  });
  qn = () => _({
    mutationKey: [
      Re
    ],
    mutationFn: Hn
  });
  zn = () => _({
    mutationKey: [
      Fe
    ],
    mutationFn: Mn
  });
  Vn = () => _({
    mutationKey: [
      Ue
    ],
    mutationFn: _n
  });
  On = () => _({
    mutationKey: [
      Ne
    ],
    mutationFn: Bn
  });
  Wn = () => _({
    mutationKey: [
      _e
    ],
    mutationFn: Zn
  });
  Gn = () => _({
    mutationKey: [
      Be
    ],
    mutationFn: Tn
  });
  Q = ({ title: n, description: a }) => e.jsxs(s, {
    display: "flex",
    flexDirection: "column",
    alignItems: "center",
    gap: "spacing-xxxs",
    alignSelf: "stretch",
    children: [
      e.jsx(x, {
        variant: "h3-semibold",
        color: "text-primary",
        display: {
          ml: "none",
          initial: "block"
        },
        children: n
      }),
      e.jsx(x, {
        variant: "bs-regular",
        color: "text-tertiary",
        display: {
          ml: "none",
          initial: "block"
        },
        textAlign: "center",
        children: a
      }),
      e.jsx(x, {
        variant: "h4-semibold",
        color: "text-primary",
        display: {
          ml: "block",
          initial: "none"
        },
        children: n
      }),
      e.jsx(x, {
        variant: "bes-regular",
        color: "text-tertiary",
        display: {
          ml: "block",
          initial: "none"
        },
        textAlign: "center",
        children: a
      })
    ]
  });
  Kn = (n) => se().shape({
    delegateAddress: A().required(E("Delegate Address")).test("address", "Invalid Wallet Address", (a) => He(a)).test("uniqueDelegate", "Delegate address already exists", (a) => !(n == null ? void 0 : n.find((i) => i === a)))
  });
  Jn = ({ handleAddDelegate: n, channel_delegates: a }) => ae({
    initialValues: {
      delegateAddress: ""
    },
    validationSchema: Kn(a),
    onSubmit: () => {
      n();
    }
  });
  $n = se().shape({
    subgraphId: A().required(E("Subgraph Id")),
    pollTime: A().required(E("Poll Time")).matches(/^\d+$/, "Must be a valid timestamp in seconds").test("is-valid-timestamp", "Invalid timestamp format", (n) => {
      const a = parseInt(n, 10);
      return !isNaN(a) && a > 0;
    })
  });
  Qn = ({ handleAddSubgraph: n }) => ae({
    initialValues: {
      subgraphId: "",
      pollTime: ""
    },
    validationSchema: $n,
    onSubmit: () => {
      n();
    }
  });
  Yn = ({ setActiveState: n }) => {
    const { account: a, provider: t } = w(), [i, r] = u.useState(null), { mutate: l, isPending: o } = On(), c = Qn({
      handleAddSubgraph: () => {
        r(null);
        const p = c.values.pollTime + "+" + c.values.subgraphId, h = he(p);
        var d = t.getSigner(a);
        console.debug(d), l({
          signer: d,
          identityBytes: h
        }, {
          onSuccess: () => {
            console.log("Subgraph Added successfully"), n("dashboard");
          },
          onError: (y) => {
            console.log("Error in adding subgraoh", y), r("Error in adding subgraph. Please Check console for more reason");
          }
        });
      }
    });
    return e.jsxs(s, {
      display: "flex",
      alignSelf: "stretch",
      flexDirection: "column",
      backgroundColor: "surface-primary",
      borderRadius: "radius-lg",
      padding: "spacing-lg",
      gap: "spacing-xl",
      width: {
        initial: "537px",
        ml: "275px"
      },
      children: [
        e.jsx(Q, {
          title: "Add Subgraph",
          description: "Enter Subgraph ID and Poll time (atleast 60 sec)"
        }),
        i && e.jsx(s, {
          width: "100%",
          children: e.jsx(R, {
            variant: "error",
            heading: i,
            showIcon: true
          })
        }),
        e.jsx("form", {
          onSubmit: c.handleSubmit,
          children: e.jsxs(s, {
            display: "flex",
            flexDirection: "column",
            gap: "spacing-md",
            children: [
              e.jsx(q, {
                required: true,
                label: "Subgraph ID",
                value: c.values.subgraphId,
                onChange: c.handleChange("subgraphId"),
                error: c.touched.subgraphId && !!c.errors.subgraphId,
                errorMessage: c.touched.subgraphId ? c.errors.subgraphId : ""
              }),
              e.jsx(q, {
                required: true,
                label: "Poll Time (in Seconds)",
                value: c.values.pollTime,
                onChange: c.handleChange("pollTime"),
                error: c.touched.pollTime && !!c.errors.pollTime,
                errorMessage: c.touched.pollTime ? c.errors.pollTime : ""
              })
            ]
          })
        }),
        e.jsxs(s, {
          display: "flex",
          gap: "spacing-sm",
          justifyContent: "center",
          children: [
            e.jsx(f, {
              size: "medium",
              variant: "outline",
              onClick: () => n("dashboard"),
              children: "Back"
            }),
            e.jsx(f, {
              disabled: o,
              onClick: () => c.handleSubmit(),
              children: o ? "Adding" : "Add Subgraph"
            })
          ]
        })
      ]
    });
  };
  Xn = ({ setActiveState: n }) => {
    const { userPushSDKInstance: a } = ne((C) => C.user), { wallet: t, chainId: i, account: r } = w(), { handleConnectWalletAndEnableProfile: l } = u.useContext(ge), [o, g] = u.useState(null), c = u.useMemo(() => T(r, i), [
      i,
      r
    ]), { data: p, refetch: h } = ke(a, c), { mutate: d, isPending: y } = Vn(), b = Jn({
      handleAddDelegate: async () => {
        let C = a;
        (a == null ? void 0 : a.readmode()) && (C = await l({
          wallet: t
        }), !C || (C == null ? void 0 : C.readmode())) || d({
          userPushSDKInstance: C,
          delegateAddress: T(b.values.delegateAddress, i)
        }, {
          onSuccess: () => {
            console.log("Channel Delegate Added Successfully"), h(), n("dashboard");
          },
          onError: (j) => {
            console.log("Error in adding delegatee", j), g("Error in delegating. Check console for more reasons");
          }
        });
      },
      channel_delegates: p
    });
    return e.jsxs(s, {
      display: "flex",
      alignSelf: "stretch",
      flexDirection: "column",
      backgroundColor: "surface-primary",
      borderRadius: "radius-lg",
      padding: "spacing-lg",
      gap: "spacing-xl",
      width: {
        initial: "537px",
        ml: "275px"
      },
      children: [
        e.jsx(Q, {
          title: "Add Delegate",
          description: "Add an account who can send notifications on behalf of the channel"
        }),
        o && e.jsx(s, {
          width: "100%",
          children: e.jsx(R, {
            variant: "error",
            heading: o,
            showIcon: true
          })
        }),
        e.jsx("form", {
          onSubmit: b.handleSubmit,
          children: e.jsxs(s, {
            display: "flex",
            flexDirection: "column",
            gap: "spacing-md",
            children: [
              e.jsx(q, {
                required: true,
                label: "Delegate Address",
                onChange: b.handleChange("delegateAddress"),
                value: b.values.delegateAddress,
                error: !!b.errors.delegateAddress,
                errorMessage: b.errors.delegateAddress
              }),
              e.jsxs(s, {
                display: "flex",
                gap: "spacing-sm",
                justifyContent: "center",
                children: [
                  e.jsx(f, {
                    size: "medium",
                    variant: "outline",
                    onClick: () => n("dashboard"),
                    children: "Back"
                  }),
                  e.jsx(f, {
                    disabled: y,
                    loading: y,
                    children: y ? "Adding" : "Add"
                  })
                ]
              })
            ]
          })
        })
      ]
    });
  };
  ie = ({ channelDetails: n, showAddNewChain: a = false, onActiveNetwork: t = true, isAliasVerified: i }) => {
    var _a2;
    const r = B(), { account: l, chainId: o } = w(), g = T(l, o), { data: c, isLoading: p } = pe({
      channelId: g
    }), { selectedPlan: h } = ue(c);
    let d = ((_a2 = n == null ? void 0 : n.aliases) == null ? void 0 : _a2.filter((C) => C.is_alias_verified).map((C) => parseInt(C.alias_blockchain_id))) || [];
    const [y, m] = u.useState("Copy Wallet"), b = () => {
      n && (navigator.clipboard.writeText(n.channel), m("Copied")), setTimeout(() => {
        m("Copy Wallet");
      }, 1e3);
    };
    return e.jsxs(s, {
      display: "flex",
      gap: "spacing-sm",
      alignItems: "center",
      children: [
        e.jsx(v, {
          isLoading: !(n == null ? void 0 : n.name) || i,
          children: e.jsx(s, {
            width: "90px",
            height: "90px",
            border: "border-sm solid stroke-tertiary",
            borderRadius: "radius-md",
            css: z`
            img {
              border-radius: 16px;
            }
          `,
            children: e.jsx("img", {
              width: "100%",
              height: "100%",
              src: n == null ? void 0 : n.iconV2
            })
          })
        }),
        e.jsxs(s, {
          display: "flex",
          flexDirection: "column",
          gap: "spacing-xxxs",
          children: [
            e.jsx(v, {
              isLoading: !(n == null ? void 0 : n.name) || i,
              width: "200px",
              height: "30px",
              children: e.jsxs(s, {
                display: "flex",
                alignItems: {
                  initial: "center",
                  ml: "baseline"
                },
                flexDirection: {
                  ml: "column",
                  initial: "row"
                },
                children: [
                  e.jsx(x, {
                    variant: "h4-semibold",
                    color: "text-primary",
                    children: n == null ? void 0 : n.name
                  }),
                  e.jsxs(s, {
                    display: "flex",
                    alignItems: "center",
                    children: [
                      e.jsxs(s, {
                        display: "flex",
                        alignItems: "center",
                        margin: {
                          initial: "spacing-none spacing-none spacing-none spacing-xxxs",
                          ml: "spacing-none"
                        },
                        children: [
                          !!(n == null ? void 0 : n.verified_status) && e.jsx(Ze, {
                            size: 22,
                            color: "icon-tertiary"
                          }),
                          e.jsx(qe, {
                            width: 18,
                            height: 18
                          }),
                          d.length > 0 && d.map((C) => {
                            const j = ze[C];
                            return j ? e.jsx(s, {
                              display: "flex",
                              css: z`
                          margin-left: -4px;
                        `,
                              children: e.jsx(j, {
                                width: 18,
                                height: 18
                              }, C)
                            }) : null;
                          })
                        ]
                      }),
                      a && e.jsx(s, {
                        display: "flex",
                        cursor: "pointer",
                        onClick: () => r(U.AddNewChain),
                        children: e.jsx(xe, {
                          size: 24,
                          color: "icon-primary"
                        })
                      })
                    ]
                  })
                ]
              })
            }),
            e.jsxs(s, {
              display: "flex",
              flexDirection: "column",
              gap: "spacing-xs",
              children: [
                e.jsx(v, {
                  isLoading: !(n == null ? void 0 : n.name) || i,
                  width: "100%",
                  children: e.jsxs(s, {
                    display: "flex",
                    gap: "spacing-xxxs",
                    children: [
                      e.jsx(x, {
                        color: "text-tertiary",
                        variant: "c-regular",
                        children: me(n ? n == null ? void 0 : n.channel : "", 5)
                      }),
                      e.jsx(Ce, {
                        title: y,
                        children: e.jsx(s, {
                          cursor: "pointer",
                          children: e.jsx(ve, {
                            onClick: b,
                            size: 14,
                            color: "icon-tertiary"
                          })
                        })
                      })
                    ]
                  })
                }),
                e.jsxs(s, {
                  display: "flex",
                  gap: "spacing-xs",
                  children: [
                    e.jsx(v, {
                      isLoading: !(n == null ? void 0 : n.name) || i,
                      children: e.jsxs(x, {
                        color: "text-tertiary",
                        variant: "c-regular",
                        children: [
                          n == null ? void 0 : n.subscriber_count,
                          " subscribers"
                        ]
                      })
                    }),
                    e.jsx(v, {
                      isLoading: !(n == null ? void 0 : n.name) || i,
                      children: t ? e.jsxs(e.Fragment, {
                        children: [
                          (n == null ? void 0 : n.activation_status) === 0 && e.jsx(Z, {
                            label: "Deactivated",
                            variant: "danger"
                          }),
                          (n == null ? void 0 : n.activation_status) === 1 && e.jsx(Z, {
                            label: "Active",
                            variant: "success"
                          })
                        ]
                      }) : e.jsx(Z, {
                        label: "Setup Pending",
                        variant: "warning"
                      })
                    }),
                    e.jsx(v, {
                      isLoading: !(n == null ? void 0 : n.name) || i,
                      children: (n == null ? void 0 : n.tags.length) ? e.jsx(Z, {
                        label: n.tags[0],
                        variant: "info"
                      }) : null
                    }),
                    e.jsx(v, {
                      isLoading: p,
                      children: h && (h == null ? void 0 : h.id) !== 1 ? e.jsx(Z, {
                        label: `${h == null ? void 0 : h.name} Plan`
                      }) : null
                    })
                  ]
                })
              ]
            })
          ]
        })
      ]
    });
  };
  J = 50;
  ea = ({ setActiveState: n, channelDetails: a, refetchChannelDetails: t }) => {
    const { provider: i, account: r } = w(), [l, o] = u.useState(""), [g, c] = u.useState(0), [p, h] = u.useState(0), d = async () => {
      const S = await be({
        address: r,
        provider: i
      });
      h(S);
    }, y = async () => {
      const S = await ye({
        address: r,
        provider: i,
        contractAddress: M.epnscore
      });
      c(parseInt(S));
    };
    u.useEffect(() => {
      !r || !i || (y(), d());
    }, [
      r,
      i
    ]);
    const { mutate: m, isPending: b } = je(), C = () => {
      o("");
      var S = i.getSigner(r);
      console.debug(S);
      const L = $((J - g).toString(), 18);
      m({
        noOfTokenToApprove: L,
        signer: S
      }, {
        onSuccess: () => {
          y();
        },
        onError: (P) => {
          console.log("Error in Approving PUSH", P), P.code == "ACTION_REJECTED" ? o("User rejected signature. Please try again.") : o("Error in approving PUSH Tokens");
        }
      });
    }, { mutate: j, isPending: D } = Wn(), I = () => {
      o("");
      const S = $(J.toString(), 18);
      var L = i.getSigner(r);
      console.debug(L), j({
        fees: S,
        signer: L
      }, {
        onSuccess: () => {
          console.log("Channel Reactivated"), t(), n("dashboard");
        },
        onError: (P) => {
          console.log("Error in Reactivating channel", P), P.code == "ACTION_REJECTED" ? o("User rejected signature. Please try again.") : o("Error in reactivating channel. Check console for more reasons.");
        }
      });
    };
    return e.jsxs(s, {
      display: "flex",
      width: {
        initial: "648px",
        ml: "357px"
      },
      padding: "spacing-md",
      flexDirection: "column",
      alignItems: "center",
      gap: "spacing-lg",
      backgroundColor: "surface-primary",
      borderRadius: "radius-lg",
      margin: "spacing-none spacing-none spacing-sm spacing-none",
      children: [
        e.jsx(Q, {
          title: "Reactivate Channel",
          description: "Performing this action will make your channel visible to users."
        }),
        l && e.jsx(s, {
          width: "100%",
          children: e.jsx(R, {
            variant: "error",
            heading: l,
            showIcon: true
          })
        }),
        e.jsx(ie, {
          channelDetails: a
        }),
        e.jsxs(s, {
          display: "flex",
          flexDirection: "column",
          gap: "spacing-sm",
          width: "-webkit-fill-available",
          children: [
            e.jsx(te, {
              title: "Channel Reactivation Fee",
              fees: J,
              pushApprovalAmount: g,
              showFaucet: true,
              showBalance: true,
              balance: p,
              setBalance: h
            }),
            e.jsx(mn, {
              title: "Don\u2019t see Push token in your wallet?"
            })
          ]
        }),
        e.jsxs(s, {
          display: "flex",
          gap: "spacing-sm",
          justifyContent: "center",
          children: [
            e.jsx(f, {
              size: "medium",
              variant: "outline",
              onClick: () => n("dashboard"),
              children: "Back"
            }),
            g >= J ? e.jsx(f, {
              disabled: D,
              onClick: I,
              loading: D,
              children: D ? "Activating" : "Activate"
            }) : e.jsx(f, {
              disabled: b,
              onClick: C,
              loading: b,
              children: b ? "Approving" : "Approve PUSH"
            })
          ]
        })
      ]
    });
  };
  na = 40;
  aa = ({ setActiveState: n, channelDetails: a, refetchChannelDetails: t }) => {
    const { provider: i, account: r } = w(), [l, o] = u.useState(""), { mutate: g, isPending: c } = zn(), p = () => {
      o("");
      var h = i.getSigner(r);
      console.debug(h), g({
        signer: h
      }, {
        onSuccess: () => {
          console.log("Channel Deactivated Successfully"), t(), n("dashboard");
        },
        onError: (d) => {
          console.log("Error in Deactivating Channel", d), d.code == "ACTION_REJECTED" ? o("User rejected signature. Please try again.") : o("Error in deactivating Channel. Check console for more reason.");
        }
      });
    };
    return e.jsxs(s, {
      display: "flex",
      width: {
        initial: "648px",
        ml: "357px"
      },
      padding: "spacing-md",
      flexDirection: "column",
      alignItems: "center",
      gap: "spacing-lg",
      backgroundColor: "surface-primary",
      borderRadius: "radius-lg",
      margin: "spacing-none spacing-none spacing-sm spacing-none",
      children: [
        e.jsx(Q, {
          title: "Deactivate Channel",
          description: "Deactivating your channel will disable sending notifications from it."
        }),
        l && e.jsx(s, {
          width: "100%",
          children: e.jsx(R, {
            variant: "error",
            heading: l,
            showIcon: true
          })
        }),
        e.jsx(ie, {
          channelDetails: a
        }),
        e.jsx(te, {
          fees: na,
          title: "You will receive as a refund"
        }),
        e.jsx(x, {
          variant: "bs-semibold",
          color: "text-primary",
          children: "Are you sure you want to deactivate your channel?"
        }),
        e.jsxs(s, {
          display: "flex",
          gap: "spacing-sm",
          justifyContent: "center",
          children: [
            e.jsx(f, {
              size: "medium",
              variant: "outline",
              onClick: () => n("dashboard"),
              children: "Back"
            }),
            e.jsx(f, {
              disabled: c,
              variant: "danger",
              onClick: p,
              loading: c,
              children: c ? "Deactivating" : "Deactivate"
            })
          ]
        })
      ]
    });
  };
  sa = ({ channelDetails: n, setActiveState: a, onActiveNetwork: t, currentAliasDetails: i }) => {
    const { chainId: r } = w(), l = i && (i == null ? void 0 : i.is_alias_verified) === 0, o = V.coreContractChain === r;
    return e.jsxs(s, {
      display: "flex",
      justifyContent: "space-between",
      width: "100%",
      flexDirection: {
        ml: "column",
        initial: "row"
      },
      gap: {
        ml: "spacing-md"
      },
      children: [
        e.jsx(ie, {
          channelDetails: n,
          showAddNewChain: o,
          onActiveNetwork: t,
          isAliasVerified: l
        }),
        o && e.jsxs(s, {
          display: "flex",
          height: "fit-content",
          gap: "spacing-xxs",
          justifyContent: "center",
          children: [
            e.jsx(v, {
              isLoading: !(n == null ? void 0 : n.name),
              children: e.jsx(f, {
                variant: "outline",
                size: "small",
                onClick: () => a("editChannel"),
                disabled: (n == null ? void 0 : n.activation_status) === 0,
                children: "Edit Channel"
              })
            }),
            e.jsx(v, {
              isLoading: !(n == null ? void 0 : n.name),
              children: e.jsx(Ve, {
                trigger: "hover",
                overlay: e.jsxs(Oe, {
                  children: [
                    e.jsx(ee, {
                      label: "Add Subgraph Details",
                      icon: e.jsx(In, {
                        size: 24
                      }),
                      onClick: () => a("addSubgraph")
                    }),
                    (n == null ? void 0 : n.activation_status) ? e.jsx(ee, {
                      label: "Deactivate Channel",
                      icon: e.jsx(Pn, {
                        size: 24
                      }),
                      onClick: () => a("deactivateChannel"),
                      type: "error"
                    }) : e.jsx(ee, {
                      label: "Activate Channel",
                      icon: e.jsx(Ln, {
                        size: 24
                      }),
                      onClick: () => a("reactivateChannel"),
                      type: "success"
                    })
                  ]
                }),
                children: e.jsx(s, {
                  padding: "spacing-xs",
                  border: "border-sm solid stroke-tertiary",
                  borderRadius: "radius-xs",
                  display: "flex",
                  height: "16px",
                  cursor: "pointer",
                  alignItems: "center",
                  children: e.jsx(An, {
                    size: 24,
                    color: "icon-primary"
                  })
                })
              })
            })
          ]
        })
      ]
    });
  };
  ta = () => e.jsx(s, {
    display: "flex",
    flexDirection: "row",
    justifyContent: "space-between",
    alignSelf: "stretch",
    padding: "spacing-none spacing-sm",
    color: "text-tertiary",
    children: e.jsxs(s, {
      display: "flex",
      flexDirection: {
        initial: "row",
        ml: "column"
      },
      gap: {
        initial: "spacing-sm",
        ml: "spacing-none"
      },
      children: [
        e.jsx(le, {
          to: "https://push.org/privacy/",
          target: "_blank",
          textProps: {
            variant: "bes-semibold",
            color: "text-tertiary"
          },
          children: "Privacy Policy"
        }),
        e.jsx(le, {
          to: "https://push.org/tos/",
          target: "_blank",
          textProps: {
            variant: "bes-semibold",
            color: "text-tertiary"
          },
          children: "Terms and Conditions"
        })
      ]
    })
  });
  ia = ({ settingName: n, type: a }) => e.jsxs(s, {
    display: "flex",
    flexDirection: "column",
    height: "43px",
    children: [
      e.jsxs(s, {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center",
        height: "100%",
        children: [
          e.jsx(x, {
            variant: "bs-semibold",
            color: "text-primary",
            children: n
          }),
          a == 2 && e.jsx(ce, {
            children: "Range"
          }),
          a == 3 && e.jsx(ce, {
            children: "Multi-Range"
          })
        ]
      }),
      e.jsx(N, {})
    ]
  });
  ra = ({ channel_settings: n, loadingChannelSettings: a }) => {
    const t = B(), { chainId: i } = w(), r = V.coreContractChain === i, l = () => {
      t(U.ChannelSettings);
    };
    return e.jsxs(s, {
      display: "flex",
      padding: "spacing-sm",
      width: "-webkit-fill-available",
      border: "border-sm solid stroke-tertiary",
      borderRadius: "radius-sm",
      flexDirection: "column",
      children: [
        e.jsxs(s, {
          display: "flex",
          flexDirection: "column",
          gap: "spacing-xxs",
          children: [
            e.jsxs(s, {
              display: "flex",
              justifyContent: "space-between",
              children: [
                e.jsxs(s, {
                  display: "flex",
                  flexDirection: "column",
                  gap: "spacing-xxxs",
                  children: [
                    e.jsx(v, {
                      isLoading: a,
                      children: e.jsx(x, {
                        variant: "h5-semibold",
                        color: "text-primary",
                        children: "Notification Settings"
                      })
                    }),
                    e.jsx(v, {
                      isLoading: a,
                      children: e.jsxs(x, {
                        variant: "c-regular",
                        color: "text-tertiary",
                        children: [
                          " ",
                          "Manage notification preferences for users"
                        ]
                      })
                    })
                  ]
                }),
                n && e.jsx(f, {
                  size: "extraSmall",
                  disabled: !r,
                  variant: "tertiary",
                  leadingIcon: e.jsx(En, {}),
                  onClick: () => t(U.ChannelSettings),
                  children: "Manage"
                })
              ]
            }),
            e.jsx(N, {})
          ]
        }),
        e.jsx(s, {
          display: "flex",
          flexDirection: "column",
          overflow: "auto",
          height: {
            initial: "274px",
            ml: "230px"
          },
          justifyContent: n ? "flex-start" : "center",
          children: n ? e.jsx(e.Fragment, {
            children: JSON.parse(n).map((o, g) => e.jsx(ia, {
              settingName: o.description,
              type: o.type
            }, g))
          }) : e.jsx(we, {
            state: "notificationSettings",
            title: "No settings yet",
            subTitle: "Add options for users to customize notifications.",
            onClick: r && l
          })
        })
      ]
    });
  };
  oa = ({ delegate_address: n, refetchChannelDelegate: a, setChannelDashboardError: t }) => {
    const { userPushSDKInstance: i } = ne((m) => m.user), { wallet: r, chainId: l } = w(), { handleConnectWalletAndEnableProfile: o } = u.useContext(ge), { mutate: g, isPending: c } = qn(), p = async () => {
      if (c) return;
      let m = i;
      (i == null ? void 0 : i.readmode()) && (m = await o({
        wallet: r
      }), !m || (m == null ? void 0 : m.readmode())) || g({
        userPushSDKInstance: m,
        delegateAddress: T(n, l)
      }, {
        onSuccess: () => {
          a();
        },
        onError: (b) => {
          console.log("Error in removing delegatee", b), t("User rejected signature. Please try again.");
        }
      });
    }, [h, d] = u.useState("Copy Wallet"), y = () => {
      n && (navigator.clipboard.writeText(n), d("Copied")), setTimeout(() => {
        d("Copy Wallet");
      }, 1e3);
    };
    return e.jsxs(s, {
      display: "flex",
      flexDirection: "column",
      height: "43px",
      children: [
        e.jsxs(s, {
          display: "flex",
          justifyContent: "space-between",
          alignItems: "center",
          height: "100%",
          children: [
            e.jsxs(s, {
              display: "flex",
              alignItems: "center",
              gap: "spacing-xxxs",
              children: [
                e.jsx(x, {
                  variant: "bs-semibold",
                  color: "text-primary",
                  children: me(n, 7)
                }),
                e.jsx(Ce, {
                  title: h,
                  children: e.jsx(s, {
                    cursor: "pointer",
                    children: e.jsx(ve, {
                      onClick: y,
                      size: 14,
                      color: "icon-tertiary"
                    })
                  })
                })
              ]
            }),
            e.jsxs(s, {
              display: "flex",
              cursor: "pointer",
              gap: "spacing-xxxs",
              onClick: p,
              children: [
                e.jsx(We, {
                  size: 16,
                  color: "icon-primary"
                }),
                e.jsx(x, {
                  color: "text-tertiary-inverse",
                  children: c ? "Removing" : "Remove"
                })
              ]
            })
          ]
        }),
        e.jsx(N, {})
      ]
    });
  };
  la = ({ channel_delegates: n, loadingDelegates: a, setChannelDashboardError: t, setActiveState: i, refetchChannelDelegate: r }) => e.jsxs(s, {
    display: "flex",
    padding: "spacing-sm",
    border: "border-sm solid stroke-tertiary",
    borderRadius: "radius-sm",
    width: "-webkit-fill-available",
    flexDirection: "column",
    children: [
      e.jsxs(s, {
        display: "flex",
        flexDirection: "column",
        gap: "spacing-xxs",
        children: [
          e.jsxs(s, {
            display: "flex",
            justifyContent: "space-between",
            children: [
              e.jsxs(s, {
                display: "flex",
                flexDirection: "column",
                gap: "spacing-xxxs",
                children: [
                  e.jsx(v, {
                    isLoading: a,
                    children: e.jsx(x, {
                      variant: "h5-semibold",
                      color: "text-primary",
                      children: "Channel Delegates"
                    })
                  }),
                  e.jsx(v, {
                    isLoading: a,
                    children: e.jsxs(x, {
                      variant: "c-regular",
                      color: "text-tertiary",
                      children: [
                        " ",
                        "Delegates can send channel notifications",
                        " "
                      ]
                    })
                  })
                ]
              }),
              e.jsx(f, {
                onClick: () => i("addDelegate"),
                size: "extraSmall",
                variant: "tertiary",
                leadingIcon: e.jsx(Cn, {}),
                children: "Add"
              })
            ]
          }),
          e.jsx(N, {})
        ]
      }),
      e.jsx(s, {
        display: "flex",
        flexDirection: "column",
        overflow: "auto",
        height: {
          initial: "274px",
          ml: "230px"
        },
        justifyContent: n ? "flex-start" : "center",
        children: n && n.length > 0 ? e.jsx(e.Fragment, {
          children: n.map((l) => e.jsx(oa, {
            delegate_address: l,
            refetchChannelDelegate: r,
            setChannelDashboardError: t
          }, l))
        }) : e.jsx(we, {
          state: "delegatee",
          title: "No delegates yet",
          subTitle: "Delegates added to your channel will appear here."
        })
      })
    ]
  });
  ca = ({ setActiveState: n, setChannelDashboardError: a, channelDetails: t, loadingChannelDetails: i }) => {
    const { account: r, chainId: l } = w(), { userPushSDKInstance: o } = ne((d) => d.user), g = u.useMemo(() => T(r, l), [
      l,
      r
    ]), { data: c, refetch: p, isLoading: h } = ke(o, g);
    return e.jsxs(s, {
      display: "flex",
      gap: "spacing-md",
      width: "100%",
      flexDirection: {
        ml: "column",
        initial: "row"
      },
      children: [
        e.jsx(ra, {
          channel_settings: t == null ? void 0 : t.channel_settings,
          loadingChannelSettings: i
        }),
        e.jsx(la, {
          channel_delegates: c,
          loadingDelegates: h,
          setChannelDashboardError: a,
          refetchChannelDelegate: p,
          setActiveState: n
        })
      ]
    });
  };
  da = ({ currentAliasDetails: n }) => {
    const a = B(), t = !!(n && (n == null ? void 0 : n.is_alias_verified) === 0);
    return e.jsx(s, {
      height: "380px",
      display: "flex",
      flexDirection: "column",
      padding: "spacing-xl spacing-md",
      gap: "spacing-xs",
      justifyContent: "center",
      alignItems: "center",
      alignSelf: "stretch",
      children: t ? e.jsxs(s, {
        height: "100%",
        display: "flex",
        justifyContent: "center",
        alignItems: "center",
        gap: "spacing-xxs",
        children: [
          e.jsx(Ge, {
            variant: "default"
          }),
          e.jsx(x, {
            variant: "bs-semibold",
            children: "Channel is being created on the new network. Please wait..."
          })
        ]
      }) : e.jsxs(s, {
        display: "flex",
        flexDirection: "column",
        gap: "spacing-xl",
        alignItems: "center",
        alignSelf: "stretch",
        children: [
          e.jsx(s, {
            display: "flex",
            padding: "spacing-none spacing-md",
            flexDirection: "column",
            justifyContent: "center",
            gap: "spacing-sm",
            alignSelf: "stretch",
            alignItems: "center",
            children: e.jsx(x, {
              variant: "bs-semibold",
              children: "Channel does not exist on this chain. Please setup channel on new chain to proceed."
            })
          }),
          e.jsx(f, {
            onClick: () => a(U.AddNewChain),
            leadingIcon: e.jsx(xe, {}),
            children: "Add New Chain"
          })
        ]
      })
    });
  };
  ha = ({ setActiveState: n, channelDetails: a, loadingChannelDetails: t }) => {
    const { chainId: i, account: r } = w(), [l, o] = u.useState(""), g = a == null ? void 0 : a.aliases.find((h) => h.alias_address === T(r, i)), c = !!(g && (g == null ? void 0 : g.is_alias_verified)), p = V.coreContractChain === i || c && parseInt(g == null ? void 0 : g.alias_blockchain_id) === i;
    return e.jsxs(e.Fragment, {
      children: [
        e.jsxs(s, {
          display: "flex",
          width: {
            initial: "1120px",
            ml: "357px",
            tb: "700px"
          },
          padding: "spacing-md",
          flexDirection: "column",
          alignItems: "center",
          gap: "spacing-lg",
          backgroundColor: "surface-primary",
          borderRadius: "radius-lg",
          margin: "spacing-none spacing-none spacing-sm spacing-none",
          children: [
            e.jsx(sa, {
              channelDetails: a,
              setActiveState: n,
              onActiveNetwork: p,
              currentAliasDetails: g
            }),
            l && e.jsx(s, {
              width: "100%",
              children: e.jsx(R, {
                variant: "error",
                heading: l,
                showIcon: true
              })
            }),
            !p && e.jsx(da, {
              currentAliasDetails: g
            }),
            p && e.jsx(s, {
              width: "100%",
              height: {
                initial: "355px",
                tb: "auto"
              },
              children: t || !(a == null ? void 0 : a.name) ? e.jsx(s, {
                height: "100%",
                display: "flex",
                justifyContent: "center",
                alignItems: "center",
                children: e.jsx(Ke, {
                  type: Je.SEAMLESS,
                  title: "Loading Channel Details. Please wait..."
                })
              }) : e.jsx(ca, {
                setActiveState: n,
                setChannelDashboardError: o,
                channelDetails: a,
                loadingChannelDetails: t
              })
            })
          ]
        }),
        e.jsx(ta, {})
      ]
    });
  };
  ga = se().shape({
    channelName: A().required(E("Channel Name")).max(32, de(32)),
    channelDesc: A().required(E("Channel Description")).max(250, de(250)),
    channelURL: A().required(E("Channel URL")).test("url", "Please enter a valid channel url", (n) => xn.test(n)),
    channelCategory: A().required(E("Channel Category"))
  });
  pa = ({ children: n, channelDetails: a }) => {
    const t = ae({
      initialValues: {
        channelName: a.name,
        channelCategory: a.tags.length ? a.tags[0] : "",
        channelDesc: a.info,
        channelURL: a.url,
        channelIcon: a.iconV2,
        imageSrc: "",
        imageType: ""
      },
      validationSchema: ga,
      onSubmit: () => {
      }
    });
    return e.jsx(pn, {
      value: t,
      children: n
    });
  };
  re = () => {
    const n = un();
    if (!n) throw new Error("useEditChannelFormikContext must be used within a FormikChainAliasProvider");
    return n;
  };
  ua = ({ onClose: n }) => {
    const { values: a, setFieldValue: t, isValid: i } = re(), r = u.useRef(), [l, o] = u.useState(a.channelIcon), g = async (h) => {
      var _a2;
      const d = (_a2 = h.currentTarget.files) == null ? void 0 : _a2[0];
      o(void 0), d && await p(d);
    }, c = async (h) => {
      var _a2;
      h.preventDefault(), h.stopPropagation(), o(void 0);
      const d = (_a2 = h.dataTransfer.files) == null ? void 0 : _a2[0];
      d && await p(d);
    }, p = async (h) => {
      t("channelIcon", h);
      const d = new FileReader();
      d.readAsDataURL(h), d.onloadend = () => {
        t("imageSrc", d.result), t("imageType", h.type);
      };
    };
    return e.jsxs(s, {
      display: "flex",
      flexDirection: "column",
      gap: "spacing-lg",
      alignItems: "center",
      alignSelf: "stretch",
      children: [
        e.jsx(s, {
          display: "flex",
          width: "100%",
          justifyContent: "end",
          color: "text-tertiary",
          cursor: "pointer",
          children: e.jsx($e, {
            size: 24,
            onClick: n
          })
        }),
        e.jsxs(s, {
          display: "flex",
          flexDirection: "column",
          alignItems: "center",
          gap: "spacing-lg",
          children: [
            e.jsx(x, {
              variant: "bes-regular",
              color: "text-tertiary",
              children: "Upload a PNG, JPG upto 1MB. Crop the image to resize to 128px."
            }),
            e.jsx(Qe, {
              id: "file-upload",
              onChange: g,
              onDrop: c,
              children: e.jsxs(s, {
                width: {
                  initial: "500px",
                  ml: "325px"
                },
                padding: "spacing-xxl spacing-none",
                display: "flex",
                flexDirection: "column",
                alignItems: "center",
                border: "border-sm dashed stroke-tertiary",
                borderRadius: "radius-md",
                backgroundColor: "surface-secondary",
                gap: "spacing-md",
                children: [
                  l ? e.jsx(s, {
                    width: "128px",
                    height: "128px",
                    borderRadius: "radius-md",
                    children: e.jsx("img", {
                      style: {
                        borderRadius: "inherit"
                      },
                      width: "100%",
                      height: "100%",
                      src: l,
                      alt: "Cropped Img"
                    })
                  }) : e.jsx(yn, {
                    width: "200px",
                    height: "200px",
                    imageSrc: a.imageSrc,
                    imageType: a.imageType,
                    onImageCropped: (h) => {
                      o(h), t("channelIcon", h);
                    },
                    ref: r
                  }),
                  e.jsxs(s, {
                    display: "flex",
                    gap: "spacing-xxxs",
                    children: [
                      e.jsx(x, {
                        variant: "bs-semibold",
                        color: "text-tertiary",
                        children: "Drag and Drop or"
                      }),
                      e.jsx("label", {
                        htmlFor: "file-upload",
                        children: e.jsx(x, {
                          variant: "bs-semibold",
                          color: "text-brand-medium",
                          css: z`
                    cursor: pointer;
                  `,
                          children: "Browse to Choose"
                        })
                      })
                    ]
                  })
                ]
              })
            })
          ]
        }),
        e.jsx(s, {
          children: l ? e.jsx(e.Fragment, {
            children: e.jsx(f, {
              onClick: () => {
                i && (t("channelIcon", l), n());
              },
              children: "Upload Image"
            })
          }) : e.jsx(e.Fragment, {
            children: e.jsx(f, {
              onClick: () => {
                r.current.showCroppedImage();
              },
              children: "Crop Image"
            })
          })
        })
      ]
    });
  };
  xa = ({ UploadLogoComponent: n, displayUplaodLogoModal: a }) => {
    const { values: t, errors: i, handleChange: r, setFieldValue: l } = re(), { data: o } = Se();
    return e.jsxs(s, {
      display: "flex",
      flexDirection: {
        initial: "row",
        ml: "column"
      },
      gap: "spacing-lg",
      width: "100%",
      padding: "spacing-sm spacing-md",
      justifyContent: "center",
      children: [
        e.jsxs(s, {
          display: "flex",
          flexDirection: "column",
          alignItems: "center",
          gap: "spacing-sm",
          children: [
            e.jsx(s, {
              width: "90px",
              height: "90px",
              border: "border-sm solid stroke-tertiary",
              borderRadius: "radius-md",
              css: z`
            img {
              border-radius: 16px;
            }
          `,
              children: e.jsx("img", {
                width: "100%",
                height: "100%",
                src: t.channelIcon
              })
            }),
            e.jsx(f, {
              size: "extraSmall",
              onClick: a,
              children: "Upload Logo"
            })
          ]
        }),
        e.jsx(s, {
          display: {
            initial: "block",
            ml: "none"
          },
          height: "330px",
          margin: "spacing-none spacing-lg",
          children: e.jsx(N, {
            orientation: "vertical"
          })
        }),
        e.jsx(s, {
          display: {
            initial: "none",
            ml: "block"
          },
          children: e.jsx(N, {
            orientation: "horizontal"
          })
        }),
        e.jsx(s, {
          width: {
            initial: "550px",
            ml: "350px"
          },
          children: e.jsx("form", {
            children: e.jsx(s, {
              display: "flex",
              flexDirection: "column",
              gap: "spacing-xl",
              alignSelf: "stretch",
              children: e.jsxs(s, {
                display: "flex",
                flexDirection: "column",
                gap: "spacing-sm",
                alignSelf: "stretch",
                css: z`
                flex: 1;
              `,
                children: [
                  e.jsx(q, {
                    required: true,
                    label: "Channel Name",
                    value: t.channelName,
                    onChange: r("channelName"),
                    error: !!i.channelName,
                    errorMessage: i.channelName,
                    totalCount: 32
                  }),
                  e.jsx(Ye, {
                    required: true,
                    label: "Channel Category",
                    placeholder: "Please select a category",
                    options: (o == null ? void 0 : o.selectFieldTags) || [],
                    value: t.channelCategory,
                    error: !!(i == null ? void 0 : i.channelCategory),
                    errorMessage: i == null ? void 0 : i.channelCategory,
                    onSelect: (g) => {
                      l("channelCategory", g);
                    }
                  }),
                  e.jsx(Xe, {
                    required: true,
                    label: "Channel Description",
                    placeholder: "Get notified about ...",
                    description: "Enter a Brief description of the notifications the user will receive",
                    error: !!i.channelDesc,
                    errorMessage: i.channelDesc,
                    value: t.channelDesc,
                    onChange: r("channelDesc"),
                    totalCount: 250
                  }),
                  e.jsx(q, {
                    required: true,
                    label: "Channel Website URL",
                    value: t.channelURL,
                    onChange: r("channelURL"),
                    error: !!i.channelURL,
                    errorMessage: i.channelURL
                  })
                ]
              })
            })
          })
        }),
        e.jsx(n, {
          InnerComponent: ua,
          modalPosition: en.ON_PARENT
        })
      ]
    });
  };
  ma = 50;
  Ca = ({ setActiveState: n }) => {
    const { account: a, provider: t, chainId: i } = w(), { values: r, isValid: l, initialValues: o } = re(), { data: g, refetch: c } = nn(a), { mutate: p, isPending: h } = je(), [d, y] = u.useState(0), [m, b] = u.useState(0), [C, j] = u.useState(""), [D, I] = u.useState(0), S = async () => {
      const k = await be({
        address: a,
        provider: t
      });
      I(k);
    }, L = async () => {
      const H = V.coreContractChain === i ? t : new sn(V.coreRPC), X = await new W(M.epnscore, G.epnscore, H).channelUpdateCounter(a);
      y(ma * (Number(X) + 1));
    }, P = async () => {
      const k = await ye({
        address: a,
        provider: t,
        contractAddress: M.epnscore
      });
      b(parseInt(k));
    };
    u.useEffect(() => {
      !a || !t || (L(), P(), S());
    }, [
      a,
      t
    ]);
    const De = u.useMemo(() => !!an.isEqual(r, o), [
      r
    ]), Le = () => {
      if (j(""), d == 0) return;
      var k = t.getSigner(a);
      console.debug(k);
      const H = $(d.toString(), 18);
      p({
        noOfTokenToApprove: H,
        signer: k
      }, {
        onSuccess: () => {
          console.log("Successfully Approved PUSH"), P();
        },
        onError: (F) => {
          console.log("Error in Approving PUSH", F), F.code == "ACTION_REJECTED" ? j("User rejected signature. Please try again.") : j("Error in approving PUSH Tokens");
        }
      });
    }, { mutate: Pe, isPending: Y } = Gn(), Ie = async () => {
      if (j(""), !!l) {
        var k = t.getSigner(a);
        if (console.debug(k), g) {
          const H = JSON.stringify({
            name: r.channelName,
            info: r.channelDesc,
            url: r.channelURL,
            icon: r.channelIcon,
            tags: [
              r.channelCategory
            ]
          }), F = await tn(H);
          console.debug("IPFS storagePointer:", F);
          const X = "1+" + F, Ae = he(X), Ee = $(d.toString(), 18);
          Pe({
            account: a,
            identityBytes: Ae,
            fees: Ee,
            signer: k
          }, {
            onSuccess: () => {
              console.log("Successfully edited channel"), c(), n("dashboard");
            },
            onError: (oe) => {
              console.log("Error in updating channel details", oe), oe.code == "ACTION_REJECTED" ? j("User rejected signature. Please try again.") : j("Error in updating Channel. Check console for more reasons.");
            }
          });
        }
      }
    };
    return e.jsxs(s, {
      display: "flex",
      flexDirection: "column",
      alignSelf: "stretch",
      children: [
        C && e.jsx(s, {
          width: "100%",
          children: e.jsx(R, {
            variant: "error",
            heading: C,
            showIcon: true
          })
        }),
        e.jsx(te, {
          title: "Channel edit fee",
          description: "Editing channel details requires fees to be deposited",
          fees: d,
          pushApprovalAmount: m,
          showFaucet: true,
          showBalance: true,
          balance: D,
          setBalance: I
        }),
        e.jsxs(s, {
          display: "flex",
          justifyContent: "end",
          gap: "spacing-sm",
          margin: "spacing-lg spacing-none spacing-none spacing-none",
          children: [
            e.jsx(f, {
              size: "medium",
              variant: "outline",
              onClick: () => n("dashboard"),
              children: "Back"
            }),
            d && m >= d ? e.jsx(f, {
              disabled: De || Y || !l,
              onClick: Ie,
              loading: Y,
              children: Y ? "Updating" : "Save Changes"
            }) : e.jsx(f, {
              variant: "primary",
              size: "medium",
              disabled: h,
              onClick: Le,
              loading: h,
              children: h ? "Approving" : "Approve PUSH"
            })
          ]
        })
      ]
    });
  };
  fa = ({ channelDetails: n, setActiveState: a }) => {
    const { showModal: t, ModalComponent: i } = rn();
    return e.jsx(pa, {
      channelDetails: n,
      children: e.jsxs(s, {
        display: "flex",
        width: {
          initial: "846px",
          ml: "357px"
        },
        padding: "spacing-md",
        flexDirection: "column",
        alignItems: "center",
        gap: "spacing-lg",
        backgroundColor: "surface-primary",
        borderRadius: "radius-lg",
        margin: "spacing-none spacing-none spacing-sm spacing-none",
        children: [
          n && e.jsx(xa, {
            displayUplaodLogoModal: t,
            UploadLogoComponent: i,
            channelDetails: n
          }),
          e.jsx(Ca, {
            setActiveState: a
          })
        ]
      })
    });
  };
  ja = ({ modalControl: n }) => {
    var _a2;
    const { isOpen: a, onClose: t } = n, { mode: i } = on(), { data: r } = ln(), l = B(), o = r == null ? void 0 : r.find((g) => g.name == "Pro");
    return e.jsx(cn, {
      size: "medium",
      isOpen: a,
      onClose: t,
      acceptButtonProps: null,
      cancelButtonProps: null,
      children: e.jsxs(s, {
        display: "flex",
        flexDirection: "column",
        alignItems: "center",
        width: "100%",
        children: [
          e.jsxs(s, {
            display: "flex",
            flexDirection: "column",
            gap: "spacing-md",
            alignItems: "center",
            children: [
              i === "light" ? e.jsx(wn, {}) : e.jsx(Sn, {}),
              e.jsx(x, {
                textAlign: "center",
                variant: "h3-semibold",
                children: "Go Pro for $14.99/mo"
              })
            ]
          }),
          e.jsxs(s, {
            display: "flex",
            flexDirection: "column",
            gap: "spacing-md",
            padding: "spacing-none spacing-none spacing-md spacing-none",
            alignItems: "center",
            children: [
              e.jsx(x, {
                color: "text-tertiary",
                variant: "bs-regular",
                children: "Upgrade to get access to the following features:"
              }),
              e.jsx(s, {
                display: "flex",
                flexDirection: "column",
                gap: "spacing-sm",
                children: (_a2 = kn((o == null ? void 0 : o.description) ?? "")) == null ? void 0 : _a2.map((g, c) => e.jsxs(s, {
                  flexDirection: "row",
                  display: "flex",
                  gap: "spacing-xxs",
                  children: [
                    e.jsx(vn, {
                      color: "icon-tertiary",
                      size: 17
                    }),
                    e.jsx(s, {
                      flexDirection: "row",
                      display: "flex",
                      gap: "spacing-xxxs",
                      children: e.jsx(x, {
                        color: "text-primary",
                        variant: "bs-regular",
                        children: Dn(g)
                      })
                    })
                  ]
                }, `${c}-plan-benefits-item-keys`))
              })
            ]
          }),
          e.jsxs(s, {
            children: [
              e.jsxs(s, {
                display: "flex",
                flexDirection: "row",
                padding: "spacing-sm",
                gap: "spacing-sm",
                children: [
                  e.jsx(f, {
                    size: "small",
                    variant: "outline",
                    onClick: () => t(),
                    children: "Continue for Free"
                  }),
                  e.jsx(f, {
                    size: "small",
                    onClick: () => l("/pricing"),
                    children: "Go Pro for $14.99/mo"
                  })
                ]
              }),
              e.jsx(x, {
                variant: "bes-regular",
                color: "text-tertiary",
                textAlign: "center",
                children: "Compare all plans. Change or cancel anytime"
              })
            ]
          })
        ]
      })
    });
  };
  ya = () => {
    const [n, a] = u.useState("dashboard"), [t] = dn(), i = t.get("paymentId"), { account: r, chainId: l } = w(), o = T(r, l), g = B(), c = fn(), { data: p } = pe({
      channelId: o
    }), { selectedPlan: h, isUserOnFreePlan: d } = ue(p), { data: y } = jn({
      paymentId: i
    }), { channelDetails: m, loadingChannelDetails: b, refetchChannelDetails: C } = fe();
    Se();
    const j = bn(p), D = ((p == null ? void 0 : p.email_total_quota) ?? 0) + ((p == null ? void 0 : p.discord_total_quota) ?? 0) + ((p == null ? void 0 : p.telegram_total_quota) ?? 0), I = ((p == null ? void 0 : p.email_quota_used) ?? 0) + ((p == null ? void 0 : p.discord_quota_used) ?? 0) + ((p == null ? void 0 : p.telegram_quota_used) ?? 0), S = (y == null ? void 0 : y.payment_status) == "SUCCESS" || p && !d && (j == null ? void 0 : j.isExpired) || p && !d && parseInt(j == null ? void 0 : j.timeRemaining) < 7 || d && D - I < 100, L = d && !S && n === "dashboard";
    return e.jsxs(s, {
      display: "flex",
      flexDirection: "column",
      gap: "spacing-sm",
      children: [
        n === "dashboard" && e.jsxs(s, {
          children: [
            (y == null ? void 0 : y.payment_status) == "SUCCESS" && e.jsx(K, {
              variant: "success",
              purchasedPlan: {
                planName: h == null ? void 0 : h.name
              },
              onAction: () => {
                window.open(`https://sepolia.etherscan.io/tx/${y == null ? void 0 : y.transaction_hash}`, "_blank");
              }
            }),
            p && !d && (j == null ? void 0 : j.isExpired) && e.jsx(K, {
              variant: "expired",
              purchasedPlan: {
                planName: h == null ? void 0 : h.name
              },
              onAction: () => {
                g("/pricing");
              }
            }),
            p && !d && parseInt(j == null ? void 0 : j.timeRemaining) < 7 && e.jsx(K, {
              variant: "renewalReminder",
              purchasedPlan: {
                planName: h == null ? void 0 : h.name,
                daysRemaining: parseInt(j == null ? void 0 : j.timeRemaining)
              },
              onAction: () => {
                g("/pricing");
              }
            }),
            d && D - I < 100 && e.jsx(K, {
              variant: "notificationLimit",
              onAction: () => {
                g("/pricing");
              }
            })
          ]
        }),
        L && e.jsx(R, {
          showIcon: false,
          heading: "Go Pro for $11.99/mo and unlock access to more features",
          onAction: () => c.open(),
          actionText: "Upgrade Plan",
          variant: "basic"
        }),
        c.isOpen && e.jsx(ja, {
          modalControl: c
        }),
        n === "dashboard" && e.jsx(ha, {
          setActiveState: a,
          channelDetails: m,
          loadingChannelDetails: b
        }),
        n === "addDelegate" && e.jsx(Xn, {
          setActiveState: a
        }),
        n === "addSubgraph" && e.jsx(Yn, {
          setActiveState: a
        }),
        n === "deactivateChannel" && e.jsx(aa, {
          setActiveState: a,
          channelDetails: m,
          refetchChannelDetails: C
        }),
        n === "reactivateChannel" && e.jsx(ea, {
          setActiveState: a,
          channelDetails: m,
          refetchChannelDetails: C
        }),
        n === "editChannel" && m && e.jsx(fa, {
          setActiveState: a,
          channelDetails: m
        })
      ]
    });
  };
  _a = () => {
    const { account: n } = w(), a = B(), t = hn(), { channelDetails: i, loadingChannelDetails: r, refetchChannelDetails: l } = fe();
    return u.useEffect(() => {
      a(!r && !i ? `${U.CreateChannel}${t.search}` : `${U.ChannelDashboard(n)}${t.search}`);
    }, [
      i,
      r
    ]), u.useEffect(() => {
      let o;
      return i && !i.name && (o = setInterval(() => {
        l();
      }, 3e3)), () => {
        clearInterval(o);
      };
    }, [
      i,
      i == null ? void 0 : i.name
    ]), e.jsx(gn, {
      children: e.jsx(ya, {})
    });
  };
});
export {
  __tla,
  _a as default
};
